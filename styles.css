/* =============================================================================
    OneiroMetrics (Turning dreams into data)
    Author: John Banister
    GitHub: https://github.com/banisterious
   ============================================================================= */



/* =============================================================================
   COMPONENT: VARIABLES (16.9 KB)
   ============================================================================= */
/* ==========================================================================
   OneiroMetrics CSS Variables & Design Tokens
   ========================================================================== */

:root {
    /* =============================================================================
       DESIGN TOKENS - Core Design System Values
       ============================================================================= */
    
    /* === SPACING SCALE === */
    --oom-spacing-xxs: 2px;
    --oom-spacing-xs: 4px;
    --oom-spacing-sm: 8px;
    --oom-spacing-md: 16px;
    --oom-spacing-lg: 24px;
    --oom-spacing-xl: 32px;
    --oom-spacing-xxl: 48px;
    
    /* === BORDER RADIUS SCALE === */
    --oom-radius-sm: 4px;
    --oom-radius-md: 6px;
    --oom-radius-lg: 8px;
    --oom-radius-xl: 12px;
    
    /* === TRANSITION SYSTEM === */
    --oom-transition-fast: 0.1s ease;
    --oom-transition-normal: 0.2s ease;
    --oom-transition-slow: 0.3s ease;
    
    /* === Z-INDEX SCALE === */
    --oom-z-base: 1;
    --oom-z-dropdown: 100;
    --oom-z-modal: 200;
    --oom-z-tooltip: 300;
    --oom-z-overlay: 1000;
    
    /* === SHADOW SYSTEM === */
    --oom-shadow-sm: 0 1px 2px var(--background-modifier-box-shadow);
    --oom-shadow-md: 0 2px 8px var(--background-modifier-box-shadow);
    --oom-shadow-lg: 0 4px 12px var(--background-modifier-box-shadow);
    --oom-shadow-xl: 0 8px 24px var(--background-modifier-box-shadow);
    
    /* === FOCUS SYSTEM === */
    --oom-focus-ring: 0 0 0 2px var(--background-modifier-border);
    --oom-focus-ring-accent: 0 0 0 2px var(--interactive-accent);
    
    /* =============================================================================
       TYPOGRAPHY TOKENS - Text Sizing and Spacing
       ============================================================================= */
    
    /* === FONT SIZES === */
    --oom-font-size-xs: 0.75rem;
    --oom-font-size-sm: 0.875rem;
    --oom-font-size-base: 1rem;
    --oom-font-size-lg: 1.125rem;
    --oom-font-size-xl: 1.25rem;
    
    /* === LINE HEIGHTS === */
    --oom-line-height-tight: 1.2;
    --oom-line-height-normal: 1.5;
    --oom-line-height-relaxed: 1.75;
    
    /* =============================================================================
       LAYOUT TOKENS - Layout and Container Sizing
       ============================================================================= */
    
    /* === CONTAINER SIZES === */
    --oom-container-sm: 600px;
    --oom-container-md: 800px;
    --oom-container-lg: 1000px;
    --oom-container-xl: 1200px;
    
    /* === CONTENT WIDTHS === */
    --oom-content-width: 100%;
    --oom-content-max-width: none;
    
    /* =============================================================================
       BUTTON COMPONENT VARIABLES
       ============================================================================= */
    
    /* === BUTTON SIZING === */
    --oom-button-padding: var(--oom-spacing-sm) var(--oom-spacing-md);
    --oom-button-padding-sm: var(--oom-spacing-xs) var(--oom-spacing-sm);
    --oom-button-padding-lg: var(--oom-spacing-md) var(--oom-spacing-lg);
    --oom-button-font-size: var(--font-ui-smaller);
    --oom-button-gap: 0.5rem;
    --oom-button-border-radius: var(--oom-radius-md);
    --oom-button-min-width: 80px;
    
    /* === BUTTON ICON SIZING === */
    --oom-button-icon-size: 16px;
    --oom-button-icon-size-mobile: 14px;
    --oom-button-icon-gap: var(--oom-spacing-xs);
    
    /* =============================================================================
       MODAL COMPONENT VARIABLES
       ============================================================================= */
    
    /* === MODAL SIZING === */
    --oom-modal-width: 600px;
    --oom-modal-width-sm: 400px;
    --oom-modal-width-md: 500px;
    --oom-modal-width-lg: 600px;
    --oom-modal-width-xl: 800px;
    --oom-modal-max-width: 95vw;
    --oom-modal-padding: var(--oom-spacing-lg);
    --oom-modal-border-radius: var(--oom-radius-lg);
    --oom-modal-shadow: var(--oom-shadow-lg);
    
    /* === MODAL TYPOGRAPHY === */
    --oom-modal-title-size: var(--h2-size, 1.5rem);
    --oom-modal-title-weight: var(--h2-weight, 600);
    --oom-modal-details-size: 0.9em;
    
    /* === MODAL MOBILE === */
    --oom-modal-mobile-width: 95vw;
    --oom-modal-mobile-padding: var(--oom-spacing-md);
    
    /* =============================================================================
       TABLE COMPONENT VARIABLES
       ============================================================================= */
    
    /* === TABLE LAYOUT === */
    --oom-table-cell-padding: 8px 12px;
    --oom-table-border: 1px solid var(--background-modifier-border);
    --oom-table-header-bg: var(--background-primary-alt);
    --oom-table-hover-bg: var(--background-modifier-hover);
    --oom-table-border-radius: var(--oom-radius-md);
    
    /* === TABLE COLUMN WIDTHS === */
    --oom-table-date-width: 8%;
    --oom-table-date-min-width: 85px;
    --oom-table-title-width: 15%;
    --oom-table-title-min-width: 120px;
    --oom-table-words-width: 7%;
    --oom-table-words-min-width: 60px;
    --oom-table-content-width: 30%;
    --oom-table-content-min-width: 200px;
    --oom-table-metrics-width: 8%;
    --oom-table-metrics-min-width: 70px;
    
    /* =============================================================================
       PROGRESS BAR VARIABLES
       ============================================================================= */
    
    --oom-progress-bar-height: 8px;
    --oom-progress-bar-bg: var(--background-modifier-border, #eee);
    --oom-progress-bar-radius: 4px;
    --oom-progress-bar-margin: 1em 0;
    --oom-progress-fill-bg: var(--interactive-accent, #2563eb);
    
    /* =============================================================================
       FORM COMPONENT VARIABLES
       ============================================================================= */
    
    /* === INPUT SIZING === */
    --oom-input-padding: var(--oom-spacing-sm) var(--oom-spacing-md);
    --oom-input-font-size: var(--font-ui-medium);
    --oom-input-border-radius: var(--oom-radius-sm);
    --oom-input-min-height: 32px;
    
    /* === SELECT SIZING === */
    --oom-select-padding: var(--oom-spacing-sm) var(--oom-spacing-md);
    --oom-select-font-size: var(--font-ui-medium);
    --oom-select-border-radius: var(--oom-radius-sm);
    
    /* === TOGGLE SIZING === */
    --oom-toggle-width: 40px;
    --oom-toggle-height: 20px;
    --oom-toggle-slider-size: 16px;
    --oom-toggle-border-radius: 10px;
    --oom-toggle-border-width: 2px;
    --oom-toggle-travel: 20px;  /* Should be toggle-width minus slider-size minus 2*border-width */
    
    /* =============================================================================
       ICON COMPONENT VARIABLES
       ============================================================================= */
    
    /* === ICON SIZING === */
    --oom-icon-size: 16px;
    --oom-icon-size-sm: 14px;
    --oom-icon-size-lg: 18px;
    --oom-icon-size-mobile: 14px;
    --oom-icon-opacity: 0.8;
    
    /* === METRIC ICON SIZING === */
    --oom-metric-icon-size: 16px;
    --oom-metric-icon-container-min-width: 24px;
    
    /* === NAVIGATION ICON SIZING === */
    --oom-nav-icon-size: 16px;
    --oom-nav-icon-size-mobile: 18px;
    
    /* === TAB ICON SIZING === */
    --oom-tab-icon-size: 16px;
    --oom-tab-icon-size-tablet: 18px;
    --oom-tab-icon-size-mobile: 16px;
    --oom-tab-icon-svg-size: 14px;
    
    /* === ACTION ICON SIZING === */
    --oom-quick-action-icon-size: 1.5em;
    --oom-action-icon-size: 1.2em;
    --oom-notice-icon-size: 16px;
    --oom-info-icon-size: 14px;
    --oom-test-icon-size: 12px;
    --oom-filter-icon-size: 14px;
    
    /* === ICON PICKER SIZING === */
    --oom-icon-picker-height: 400px;
    --oom-icon-picker-cell-size: 40px;
    --oom-icon-picker-cell-size-tablet: 36px;
    --oom-icon-picker-cell-size-mobile: 32px;
    --oom-icon-picker-grid-height: 300px;
    --oom-icon-picker-grid-height-tablet: 250px;
    --oom-icon-picker-grid-height-mobile: 200px;
    --oom-icon-picker-btn-size: 36px;
    --oom-icon-picker-btn-size-mobile: 32px;
    --oom-icon-picker-svg-size: 20px;
    
    /* === SEARCH ICON SIZING === */
    --oom-search-icon-size: 16px;
    
    /* === LUCIDE ICON SIZING === */
    --oom-lucide-icon-size: 16px;
    
    /* === ICON FALLBACK === */
    --oom-icon-fallback-size: 1em;
    --oom-icon-fallback-opacity: 0.6;
    
    /* =============================================================================
       FILTER COMPONENT VARIABLES
       ============================================================================= */
    
    /* === FILTER LAYOUT === */
    --oom-filter-gap: var(--oom-spacing-md);
    --oom-filter-padding: var(--oom-spacing-sm);
    --oom-filter-border-radius: var(--oom-radius-md);
    
    /* === DATE FILTER === */
    --oom-date-filter-width: 200px;
    --oom-date-filter-dropdown-width: 300px;
    --oom-date-filter-calendar-width: 280px;
    --oom-date-filter-input-gap: var(--oom-spacing-xs);
    
    /* === DROPDOWN SIZING === */
    --oom-dropdown-min-width: 200px;
    --oom-dropdown-max-width: 400px;
    --oom-dropdown-max-height: 300px;
    --oom-dropdown-item-padding: var(--oom-spacing-sm) var(--oom-spacing-md);
    --oom-dropdown-border-radius: var(--oom-radius-md);
    
    /* === MULTISELECT === */
    --oom-multiselect-chip-padding: var(--oom-spacing-xs) var(--oom-spacing-sm);
    --oom-multiselect-chip-gap: var(--oom-spacing-xs);
    --oom-multiselect-chip-border-radius: var(--oom-radius-sm);
    --oom-multiselect-input-min-width: 120px;
    --oom-multiselect-container-gap: var(--oom-spacing-xs);
    
    /* === DRAG HANDLE === */
    --oom-drag-handle-width: 20px;
    --oom-drag-handle-opacity: 0.5;
    
    /* === DROP ZONE === */
    --oom-drop-zone-border: 2px dashed var(--background-modifier-border);
    --oom-drop-zone-border-active: 2px dashed var(--interactive-accent);
    
    /* === SORTABLE === */
    --oom-sortable-placeholder-opacity: 0.5;
    --oom-sortable-dragging-opacity: 0.8;
    --oom-sortable-drop-indicator-height: 2px;
    --oom-sortable-drop-indicator-color: var(--interactive-accent);
    
    /* =============================================================================
       DRAG & DROP BREAKPOINT
       ============================================================================= */
    
    /* Disable drag & drop on smaller screens for better touch experience */
    --oom-drag-drop-breakpoint: 768px;
    
    /* =============================================================================
       ANIMATION VARIABLES
       ============================================================================= */
    
    /* === ANIMATION DURATIONS === */
    --oom-animation-fast: 0.1s;
    --oom-animation-normal: 0.2s;
    --oom-animation-slow: 0.3s;
    
    /* === ANIMATION EASINGS === */
    --oom-ease-in: cubic-bezier(0.4, 0, 1, 1);
    --oom-ease-out: cubic-bezier(0, 0, 0.2, 1);
    --oom-ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
    
    /* =============================================================================
       VALIDATION VARIABLES
       ============================================================================= */
    
    --oom-validation-error-color: #ef4444;
    --oom-validation-warning-color: #f59e0b;
    --oom-validation-success-color: #10b981;
    --oom-validation-info-color: #3b82f6;
    
    /* =============================================================================
       LOG VIEWER VARIABLES
       ============================================================================= */
    
    --oom-log-level-error-color: #ef4444;
    --oom-log-level-warn-color: #f59e0b;
    --oom-log-level-info-color: #3b82f6;
    --oom-log-level-debug-color: #8b5cf6;
    --oom-log-level-trace-color: #6b7280;
    
    /* =============================================================================
       DATE NAVIGATOR VARIABLES
       ============================================================================= */
    
    --oom-day-cell-min-height: 80px;
    --oom-day-cell-padding: 4px;
    --oom-dream-dot-size: 8px;
    --oom-month-grid-gap: 1px;
    
    /* =============================================================================
       CALENDAR VARIABLES
       ============================================================================= */
    
    --oom-calendar-cell-size: 40px;
    --oom-calendar-cell-size-mobile: 36px;
    --oom-calendar-gap: 2px;
    
    /* =============================================================================
       SEVERITY INDICATOR VARIABLES
       ============================================================================= */
    
    --oom-severity-low: #10b981;
    --oom-severity-medium: #f59e0b;
    --oom-severity-high: #ef4444;
    --oom-severity-critical: #dc2626;
    
    /* =============================================================================
       TEST SUITE VARIABLES
       ============================================================================= */
    
    --oom-test-success-color: #10b981;
    --oom-test-failure-color: #ef4444;
    --oom-test-warning-color: #f59e0b;
    --oom-test-partial-color: #3b82f6;

    /* =============================================================================
       UTILITY VARIABLES - Screen Reader and Accessibility
       ============================================================================= */
    
    /* Screen Reader Only Variables */
    --oom-utility-sr-position: absolute;
    --oom-utility-sr-width: 1px;
    --oom-utility-sr-height: 1px;
    --oom-utility-sr-padding: 0;
    --oom-utility-sr-margin: -1px;
    --oom-utility-sr-overflow: hidden;
    --oom-utility-sr-clip: rect(0, 0, 0, 0);
    --oom-utility-sr-whitespace: nowrap;
    --oom-utility-sr-border: 0;
    
}

/* =============================================================================
   COMPONENT-SCOPED VARIABLES
   ============================================================================= */

/* Date Navigator Component Variables (scoped to component) */
.oom-date-navigator {
    --month-bg: var(--background-primary);
    --month-border: var(--background-modifier-border);
    --month-text: var(--text-normal);
    --month-header: var(--text-accent);
    --day-bg: var(--background-primary);
    --day-border: var(--background-modifier-border);
    --day-text: var(--text-normal);
    --day-today: var(--interactive-accent);
    --day-selected: var(--interactive-accent-hover);
    --day-dream: var(--text-accent);
    --day-no-dream: var(--text-muted);
    --day-other-month: var(--background-secondary);
    --day-hover: var(--background-modifier-hover);
    --day-with-entry-bg: rgb(var(--interactive-accent-rgb), 0.1);
}

/* Navigation Active State Variables (scoped to active navigation) */
.oom-nav-item.active {
    --background-modifier-hover: var(--interactive-accent);
    --icon-color: var(--text-on-accent);
}

/* =============================================================================
   THEME-SPECIFIC ADJUSTMENTS (Minimal and Necessary Only)
   ============================================================================= */

/* Dark Theme Toggle Adjustment */
.theme-dark .oom-toggle-slider {
    /* Minor dark theme specific adjustment for toggle visibility */
    box-shadow: inset 0 0 0 1px var(--background-modifier-border);
}

/* =============================================================================
   PRINT MEDIA VARIABLES
   ============================================================================= */

@media print {
    :root {
        --oom-shadow-sm: none;
        --oom-shadow-md: none;
        --oom-shadow-lg: none;
        --oom-shadow-xl: none;
        --oom-transition-fast: none;
        --oom-transition-normal: none;
        --oom-transition-slow: none;
    }
}

/* =============================================================================
   HIGH CONTRAST MODE VARIABLES
   ============================================================================= */

@media (forced-colors: active) {
    :root {
        --oom-focus-ring: 2px solid ButtonText;
        --oom-focus-ring-accent: 2px solid Highlight;
    }
}

/* =============================================================================
   REDUCED MOTION VARIABLES
   ============================================================================= */

@media (prefers-reduced-motion: reduce) {
    :root {
        --oom-transition-fast: none;
        --oom-transition-normal: none;
        --oom-transition-slow: none;
        --oom-animation-fast: none;
        --oom-animation-normal: none;
        --oom-animation-slow: none;
    }
} 

/* =============================================================================
   COMPONENT: BASE (8.5 KB)
   ============================================================================= */
/* =============================================================================
   OneiroMetrics Base & Reset Component
   Foundational styles, resets, typography, and Obsidian integration
   ============================================================================= */

/* =============================================================================
   OBSIDIAN INTEGRATION - Plugin Foundation
   ============================================================================= */

.markdown-preview-view.markdown-rendered.oom-project-note-view .inline-title,
.markdown-preview-view:has(.oneirometrics-title) .inline-title {
    display: none;
}

.markdown-preview-view[data-type="oom-project-note"] {
    /* Project note context base styling */
}

.markdown-rendered table.oom-table {
    /* Integration with Obsidian's markdown renderer */
    td {
        vertical-align: top;
    }
    
    tbody > tr > td.column-content {
        max-width: 300px;
        word-wrap: break-word;
    }
}

/* =============================================================================
   THEME COMPATIBILITY - Light & Dark Mode Support
   ============================================================================= */

.theme-dark .oom-toggle-slider {
    /* Dark theme toggle adjustments */
}

.theme-light .oom-validation-error,
.theme-dark .oom-validation-error {
    /* Theme-specific validation styling */
}

/* Dark theme heatmap adjustments moved to heatmap.css component */

.theme-dark .oom-export-button {
    /* Dark theme export button */
}

.theme-dark .oom-export-button:hover {
    /* Dark theme export button hover */
}

.theme-dark .oom-export-error-content {
    /* Dark theme error content */
}

.theme-dark .oom-insights-section {
    /* Dark theme insights */
}

.theme-dark .oom-insights-section:hover {
    /* Dark theme insights hover */
}

.theme-dark {
    /* Global dark theme adjustments */
}

/* =============================================================================
   BASE TYPOGRAPHY & COMPONENT NESTING
   ============================================================================= */

/* Properly nested headings within their parent components */
.oom-template-preview-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--oom-spacing-sm);
    cursor: pointer;
    
    h3 {
        margin: 0;
        /* NO VISUAL STYLING - Let theme handle heading appearance */
    }
}

.oom-collapsible-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: pointer;
    margin-bottom: var(--oom-spacing-sm);
    
    h3 {
        margin: 0;
        /* NO VISUAL STYLING - Let theme handle heading appearance */
    }
}

.oom-metrics-tabs-button {
    &[data-tab-id="overview"] {
        h2 {
            margin: 0;
            font-size: var(--font-ui-medium);
            /* NO VISUAL STYLING - Let theme handle */
        }
    }
}

h4 {
    margin-bottom: var(--oom-spacing-sm);
    font-size: var(--font-ui-medium);
}

/* Specific heading contexts */
.oom-callout-section h3 {
    margin: 0 0 var(--oom-spacing-lg) 0;
    padding-bottom: var(--oom-spacing-sm);
    border-bottom: 1px solid var(--background-modifier-border);
    font-size: var(--font-ui-large);
    font-weight: 600;
    color: var(--text-normal);
}

.oom-callout-settings h3 {
    margin: 0 0 var(--oom-spacing-lg) 0;
    padding-bottom: var(--oom-spacing-sm);
    border-bottom: 1px solid var(--background-modifier-border);
    font-size: var(--font-ui-large);
    font-weight: 600;
    color: var(--text-normal);
}

.oom-metrics-tabs-content h2:first-of-type {
    margin-block-start: 0;
}

.oom-metrics-tabs-content h3 {
    margin: 0 0 var(--oom-spacing-md) 0;
}

/* =============================================================================
   FOUNDATIONAL ELEMENTS
   ============================================================================= */

.oom-callout-section {
    margin-bottom: var(--oom-spacing-xl);
    padding: var(--oom-spacing-lg);
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--oom-radius-lg);
    background: var(--background-secondary);
}

.oom-callout-section .oom-callout-structure-box {
    margin-bottom: var(--oom-spacing-lg);
}

.oom-callout-section .oom-copy-btn {
    justify-content: center;
    width: 100%;
}

.oom-callout-settings {
    margin-top: var(--oom-spacing-xl);
    padding-top: var(--oom-spacing-lg);
    border-top: 1px solid var(--background-modifier-border);
}

/* =============================================================================
   MODAL INTEGRATION - Base Obsidian Modal Styles
   ============================================================================= */

.modal:has(.template-tabs-modal) {
    width: var(--modal-width);
    max-width: var(--modal-max-width);
    height: var(--modal-height);
    max-height: var(--modal-max-height);
    padding: 0;
    contain: layout style;
}

.template-tabs-modal {
    display: flex;
    flex-direction: column;
    height: 100%;
    margin: 0;
    padding: var(--oom-spacing-sm);
}

/* =============================================================================
   UNIVERSAL RESETS & NORMALIZATIONS
   ============================================================================= */

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        transition-duration: 0.01ms !important;
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        scroll-behavior: auto !important;
    }
    
    .oom-button--loading::after,
    .oom-table-loading::after,
    .oom-metrics-summary.loading::after,
    .oom-icon-picker-loading::after {
        animation: none;
    }
    
    .oom-button:hover,
    .oom-button:active,
    .oom-button--clicked,
    .oom-button-icon:hover,
    .oom-icon-picker-btn:hover,
    .oom-draggable:hover,
    .oom-sortable-item:hover {
        transform: none;
    }
    
    .oom-button--state-expanded .oom-button-icon,
    .oom-preview-toggle:not(.collapsed) svg,
    .oom-preview-toggle.collapsed svg {
        transform: none;
    }
    
    .oom-modal.is-opening,
    .oom-modal.is-open,
    .oom-modal.is-closing {
        opacity: 1;
        transform: translate(-50%, -50%);
    }
    
    .oom-multiselect-dropdown.is-opening,
    .oom-multiselect-dropdown.is-open,
    .oom-multiselect-dropdown.is-closing {
        opacity: 1;
        transform: translateY(0);
    }
}

/* High Contrast Mode Support */
@media (forced-colors: active) {
    .oom-button--loading::after,
    .oom-table-loading::after,
    .oom-metrics-summary.loading::after {
        border-top-color: CanvasText;
        border-right-color: transparent;
    }
    
    .oom-day-cell.highlight-pulse {
        animation: none;
    }
}

/* Print Media - Disable All Animations */
@media print {
    *,
    *::before,
    *::after {
        transition: none !important;
        animation: none !important;
    }
    
    .oom-content-wrapper .oom-content-preview {
        display: none !important;
    }
    
    .oom-content-wrapper .oom-content-full {
        display: block !important;
    }
    
    .oom-button--loading::after,
    .oom-table-loading::after,
    .oom-metrics-summary.loading::after {
        display: none !important;
    }
}

/* =============================================================================
   RESPONSIVE FOUNDATION
   ============================================================================= */

@media screen and (max-width: var(--oom-breakpoint-tablet)) {
    .oom-callout-section {
        margin-bottom: var(--oom-spacing-lg);
        padding: var(--oom-spacing-md);
    }
    
    .oom-callout-section h3 {
        font-size: var(--font-ui-medium);
    }
}

@media screen and (max-width: var(--oom-breakpoint-mobile)) {
    .oom-callout-section {
        margin-bottom: var(--oom-spacing-md);
        padding: var(--oom-spacing-sm);
    }
    
    .oom-callout-section .oom-callout-structure-box {
        min-height: 70px;
        margin-bottom: var(--oom-spacing-md);
        font-size: 0.85em;
    }
    
    .oom-callout-section .oom-copy-btn {
        padding: var(--oom-spacing-xs) var(--oom-spacing-sm);
        font-size: var(--font-ui-smaller);
    }
} 

/* =============================================================================
   COMPONENT: MODALS (12.7 KB)
   ============================================================================= */
/* ==========================================================================
   OneiroMetrics Modal Components
   ========================================================================== */

/* =============================================================================
   MODAL CONTAINER - Theme Integrated & Modernized
   ============================================================================= */

.oom-modal {
    /* === STRUCTURAL PROPERTIES ONLY === */
    position: fixed;
    top: 50%;
    left: 50%;
    z-index: var(--oom-z-modal);
    padding: var(--oom-modal-padding);
    border-radius: var(--oom-modal-border-radius);
    
    /* Layout & Behavior */
    overflow-x: hidden;
    transform: translate(-50%, -50%);
    transition: transform var(--oom-transition-normal),
                opacity var(--oom-transition-normal);
    box-sizing: border-box;
    
    /* NO VISUAL STYLING - Let Obsidian theme handle:
     * - background-color
     * - color
     * - border
     * - box-shadow
     */
    
    /* === MODAL ANIMATION STATES === */
    &.is-opening {
        opacity: 0;
        transform: translate(-50%, -48%);
    }
    
    &.is-open {
        opacity: 1;
        transform: translate(-50%, -50%);
    }
    
    &.is-closing {
        opacity: 0;
        transform: translate(-50%, -52%);
    }
    
    /* === MODAL SIZE VARIANTS === */
    &.oom-modal--sm,
    &.oom-progress-modal,
    &.oneirometrics-custom-date-modal {
        max-width: var(--oom-modal-width-sm);
    }
    
    &.oom-modal--md,
    &.oom-callout-modal {
        max-width: var(--oom-modal-width-md);
    }
    
    &.oom-modal--lg,
    &.oom-icon-picker-modal {
        max-width: var(--oom-modal-width-lg);
    }
    
    /* === SPECIFIC MODAL TYPES === */
    &.oom-metrics-modal {
        width: 750px;
    }
    
    &.oom-date-navigator-modal {
        /* Let theme handle modal sizing */
        max-width: var(--oom-modal-width-lg);
    }
    
    &.oom-log-viewer-modal,
    &.oom-journal-structure-modal,
    &.oom-journal-manager-modal {
        /* Large modals for complex interfaces */
        width: 90vw;
        max-width: 1000px;
        height: 80vh;
        max-height: 800px;
    }
    
    /* === NEW MODAL TYPES - CONSOLIDATED === */
    &.oom-date-selection-modal {
        max-width: var(--oom-modal-width-md);
    }
    
    &.oom-dream-journal-test-modal,
    &.oom-date-utils-test-modal,
    &.oom-content-parser-test-modal,
    &.oom-service-registry-test-modal,
    &.oom-universal-worker-pool-test-modal,
    &.oom-universal-metrics-calculator-test-modal {
        /* Test modals need more space */
        width: 85vw;
        max-width: 900px;
        height: 75vh;
        max-height: 700px;
    }
}

/* Modal container context adjustments using :has() */
.modal {
    /* === SMART MODAL SIZING WITH :has() === */
    &:has(.oom-metrics-modal) {
        width: 800px;
    }
    
    &:has(.oom-date-navigator-modal) {
        width: auto;

        /* Auto-adjust for date navigator content */
        min-width: 400px;
    }
    
    &:has(.oom-journal-structure-modal),
    &:has(.oom-journal-manager-modal) {
        /* Large modal containers */
        width: 95vw;
        height: 85vh;
    }
    
    &:has(.oom-log-viewer-modal) {
        width: 90vw;
        height: 80vh;
    }
    
    &:has(.oom-date-selection-modal) {
        width: auto;
        min-width: 500px;
    }
    
    /* === TEST SUITE MODAL CONTAINERS === */
    &:has(.oom-dream-journal-test-modal),
    &:has(.oom-date-utils-test-modal),
    &:has(.oom-content-parser-test-modal),
    &:has(.oom-service-registry-test-modal),
    &:has(.oom-universal-worker-pool-test-modal),
    &:has(.oom-universal-metrics-calculator-test-modal) {
        width: 90vw;
        height: 80vh;
    }
    
    &:has(.oneirometrics-custom-date-modal) {
        width: auto;
    }
}

/* =============================================================================
   MODAL CONTENT STRUCTURE - Nested Organization
   ============================================================================= */

.oom-modal {
    /* === NESTED CONTENT ELEMENTS === */
    .oom-modal-title {
        /* Title styling - structural only */
        margin: 0 0 var(--oom-spacing-md) 0;
        font-size: var(--font-ui-large);
        font-weight: 600;
        
        /* NO VISUAL STYLING - Let theme handle colors */
    }
    
    .oom-modal-content {
        flex: 1;

        /* Content area - structural only */
        margin-bottom: var(--oom-spacing-lg);
        overflow-y: auto;
        
        /* NO VISUAL STYLING - Let theme handle */
    }
    
    /* === MODAL SECTIONS === */
    .oom-modal-section {
        margin-bottom: var(--oom-spacing-lg);
        
        h4 {
            margin: 0 0 var(--oom-spacing-sm) 0;
            font-size: var(--font-ui-medium);
            font-weight: 600;
            
            /* NO VISUAL STYLING - Let theme handle */
        }
    }
    
    /* === MODAL UTILITIES === */
    .oom-section-helper {
        margin-bottom: var(--oom-spacing-sm);
        font-size: var(--font-ui-smaller);
        line-height: var(--line-height-normal);
        
        /* NO VISUAL STYLING - Let theme handle muted text color */
    }
    
    /* === MODAL GRID LAYOUTS === */
    .oom-modal-grid {
        display: grid;
        align-items: center;
        gap: var(--oom-spacing-md);
        
        /* NO VISUAL STYLING - Let theme handle */
        
        /* Nested input styling */
        input[type='text'],
        input[type='date'],
        input[type='number'] {
            /* NO VISUAL STYLING - Let theme handle form controls */
            padding: var(--oom-spacing-sm);
            border-radius: var(--oom-radius-sm);
        }
        
        label {
            font-size: var(--font-ui-smaller);
            font-weight: 500;
            
            /* NO VISUAL STYLING - Let theme handle label colors */
        }
    }
}

/* =============================================================================
   MODAL LAYOUT VARIANTS - Smart Responsive Design
   ============================================================================= */

/* Multi-column modal layouts */
.oom-modal-container,
.oom-test-modal-container,
.oom-journal-structure-container,
.oom-journal-manager-container {
    display: flex;
    gap: var(--oom-spacing-lg);
    height: 100%;
    
    /* === NESTED LAYOUT COLUMNS === */
    .oom-modal-content-pane,
    .oom-test-modal-content-pane,
    .oom-journal-structure-content,
    .oom-journal-manager-main-content {
        flex: 1;
        overflow-y: auto;
    }
    
    .oom-modal-results-pane,
    .oom-test-modal-results-pane,
    .oom-journal-structure-sidebar,
    .oom-journal-manager-sidebar {
        flex: 0 0 250px;
        overflow-y: auto;
        
        /* NO VISUAL STYLING - Let theme handle sidebar styling */
    }
}

/* =============================================================================
   MODAL BUTTONS - Modern Button System
   ============================================================================= */

/* Modern Modal Button (consolidates .oom-modal-btn and .oom-modal-button) */
.oom-modal-btn,
.oom-modal-button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--oom-button-gap);
    min-width: var(--oom-button-min-width);

    /* === STRUCTURAL PROPERTIES ONLY === */
    padding: var(--oom-button-padding);
    border: none;
    border-radius: var(--oom-button-border-radius);
    font-size: var(--oom-button-font-size);
    text-decoration: none;
    cursor: pointer;
    
    /* NO VISUAL STYLING - Let theme handle:
     * - background-color
     * - color
     * - border-color
     * - box-shadow
     */
    
    /* === NESTED STATES === */
    &:hover,
    &:focus {
        /* NO VISUAL STYLING - Let theme handle hover/focus states */
        text-decoration: none;
    }
    
    /* === MODAL BUTTON VARIANTS === */
    &.mod-cta,
    &.oom-modal-btn--apply,
    &.oom-modal-btn--primary {
        /* NO VISUAL STYLING - Let theme handle primary button appearance */
        font-weight: 600;
    }
    
    &.mod-warning {
        /* NO VISUAL STYLING - Let theme handle warning button appearance */
        border: 1px solid var(--text-error);
        color: var(--text-on-accent);
        background: var(--text-error);
        
        &:hover {
            background: var(--text-error-hover);
        }
    }
    
    &.mod-muted,
    &.oom-modal-btn-muted {
        /* NO VISUAL STYLING - Let theme handle muted button appearance */
        opacity: 0.6;
        
        &:hover {
            opacity: 0.8;
        }
    }
}

/* Modal Button Container */
.oom-modal-button-container {
    /* === STRUCTURAL PROPERTIES ONLY === */
    display: flex;
    justify-content: flex-end;
    gap: var(--oom-spacing-sm);
    margin-top: var(--oom-spacing-lg);
    
    /* NO VISUAL STYLING - Let theme handle container appearance */
    
    /* === NESTED STATES === */
    .oom-modal-btn,
    .oom-modal-button {
        /* NO VISUAL STYLING - Let theme handle nested button appearance */
        flex: 0 0 auto;
    }
}

/* =============================================================================
   MODAL HELPER AND INFORMATION COMPONENTS
   ============================================================================= */

/* Helper Text and Information */
.oom-modal-helper,
.oom-section-helper,
.oom-favorites-helper {
    /* NO VISUAL STYLING - Let theme handle helper appearance */

    /* Structural layout only */
    margin-bottom: var(--oom-spacing-sm);
}

.oom-help-text,
.oom-info-text {
    /* NO VISUAL STYLING - Let theme handle text appearance */

    /* Structural layout only */
    margin-bottom: var(--oom-spacing-sm);
    font-size: var(--font-ui-smaller);
    line-height: var(--line-height-normal);
}

/* =============================================================================
   STICKY FOOTER COMPONENTS - Dream Scrape Tab
   ============================================================================= */

/* Dream Scrape Tab Sticky Footer */
.oom-dream-scrape-sticky-footer {
    position: sticky;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: var(--oom-z-dropdown);
    margin-top: auto;
    padding: var(--oom-spacing-md) var(--oom-spacing-lg);
    box-shadow: 0 -2px 8px var(--background-modifier-box-shadow);
    border-top: 1px solid var(--background-modifier-border);
    background: var(--background-primary);
}

.oom-dream-scrape-actions {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: var(--oom-spacing-md);
    max-width: 400px;
    margin: 0 auto;
}

.oom-dream-scrape-actions .oom-button {
    flex: 0 0 auto;
    min-width: 140px;
}

/* Ensure the content container has proper layout for sticky footer */
.oom-metrics-tabs-content:has(.oom-dream-scrape-sticky-footer) {
    display: flex;
    flex-direction: column;
    min-height: 100%;
}

/* =============================================================================
   RESPONSIVE DESIGN - Mobile Adjustments
   ============================================================================= */

@media (width <= 768px) {
    .oom-modal {
        width: var(--oom-modal-mobile-width);
        padding: var(--oom-modal-mobile-padding);
        
        &.oom-log-viewer-modal,
        &.oom-journal-structure-modal,
        &.oom-journal-manager-modal {
            width: 95vw;
            height: 90vh;
        }
    }
    
    .oom-modal-container,
    .oom-test-modal-container,
    .oom-journal-structure-container,
    .oom-journal-manager-container {
        flex-direction: column;
        
        .oom-modal-results-pane,
        .oom-test-modal-results-pane,
        .oom-journal-structure-sidebar,
        .oom-journal-manager-sidebar {
            flex: 0 0 auto;
            max-height: 200px;
        }
    }
    
    .oom-modal-button-container {
        flex-direction: column;
        gap: var(--oom-spacing-xs);
        
        .oom-modal-btn,
        .oom-modal-button {
            width: 100%;
        }
    }
    
    /* Mobile responsive adjustments for sticky footer */
    .oom-dream-scrape-sticky-footer {
        padding: var(--oom-spacing-sm) var(--oom-spacing-md);
    }
    
    .oom-dream-scrape-actions {
        flex-direction: column;
        gap: var(--oom-spacing-sm);
        max-width: 100%;
    }
    
    .oom-dream-scrape-actions .oom-button {
        width: 100%;
        min-width: unset;
    }
} 

/* =============================================================================
   COMPONENT: BUTTONS (21.9 KB)
   ============================================================================= */
/* ==========================================================================
   OneiroMetrics Button Components
   ========================================================================== */

/* =============================================================================
   BASE BUTTON SYSTEM - Theme Integrated & Modernized
   ============================================================================= */

.oom-button {
    /* === STRUCTURAL PROPERTIES ONLY === */
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--oom-button-gap);
    
    /* Layout & Behavior */
    cursor: pointer;
    -webkit-user-select: none;
    user-select: none;
    transition: all var(--oom-transition-normal);
    
    /* NO VISUAL STYLING - Let Obsidian theme handle:
     * - background-color
     * - color
     * - border
     * - box-shadow
     */
    
    /* === NESTED STATES === */
    &:hover {
        /* Let theme handle color changes */
        transform: translateY(var(--oom-drag-hover-translate));
    }
    
    &:focus {
        outline: none;

        /* Let theme handle focus ring */
    }
    
    &:active {
        transform: scale(0.98);
    }
    
    /* === CTA MODIFIER (from scattered modal rules) === */
    &.mod-cta {
        /* Let theme handle CTA styling, no custom overrides */
        font-weight: 600;
    }
    
    /* === SPECIAL BUTTON STATES === */
    &:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        pointer-events: none;
    }
    
    &.enabled {
        /* Just structural - let theme handle enabled state */
        pointer-events: auto;
    }
    
    /* === LOADING STATE === */
    &--loading::after {
        width: 16px;
        height: 16px;
        border: 2px solid transparent;
        border-top: 2px solid currentcolor;
        border-radius: 50%;
        animation: oom-button-spin 1s linear infinite;
        content: "";
    }
    
    &--clicked {
        transform: scale(0.95);
    }
    
    /* === BUTTON TEXT VARIANT === */
    &--text {
        border: none;
        text-decoration: underline;

        /* Text-only button styling */
        background: transparent;
        
        &:hover {
            text-decoration: none;
        }
    }
}

/* === BUTTON ANIMATIONS === */
@keyframes oom-button-spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

/* =============================================================================
   MODAL BUTTONS - Consolidated from scattered rules
   ============================================================================= */

/* Modern Modal Button (consolidates .oom-modal-btn and .oom-modal-button) */
.oom-modal-btn,
.oom-modal-button {
    /* === STRUCTURAL PROPERTIES ONLY === */
    display: inline-flex;
    align-items: center;
    justify-content: center;
    justify-content: center;
    min-width: var(--oom-button-min-width);
    padding: var(--oom-button-padding);
    border: none;
    border-radius: var(--oom-button-border-radius);
    font-size: var(--oom-button-font-size);
    text-decoration: none;
    cursor: pointer;
    transition: all var(--oom-transition-normal);
    
    /* NO VISUAL STYLING - Let theme handle:
     * - background-color
     * - color
     * - border-color
     * - box-shadow
     */
    
    /* === NESTED STATES === */
    &:hover,
    &:focus {
        /* NO VISUAL STYLING - Let theme handle hover/focus states */
        text-decoration: none;
        transform: translateY(var(--oom-drag-hover-translate));
    }
    
    /* === MODAL BUTTON VARIANTS === */
    &.mod-cta,
    &.oom-modal-btn--apply,
    &.oom-modal-btn--primary {
        /* NO VISUAL STYLING - Let theme handle primary button appearance */
        font-weight: 600;
    }
    
    &.mod-warning {
        /* WARNING: Keep warning state for functional clarity */
        border: 1px solid var(--text-error);
        color: var(--text-on-accent);
        background: var(--text-error);
        
        &:hover {
            background: var(--text-error-hover);
        }
    }
    
    &.mod-muted,
    &.oom-modal-btn-muted {
        /* NO VISUAL STYLING - Let theme handle muted button appearance */
        opacity: 0.6;
        
        &:hover {
            opacity: 0.8;
        }
    }
}

/* =============================================================================
   ICON BUTTONS & PICKER BUTTONS - Theme Integrated
   ============================================================================= */

.oom-button-icon {
    /* === STRUCTURAL PROPERTIES ONLY === */
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: var(--oom-icon-grid-item-size);
    height: var(--oom-icon-grid-item-size);
    padding: 0;
    border-radius: var(--oom-radius-md);
    cursor: pointer;
    transition: all var(--oom-transition-normal);
    
    /* NO VISUAL STYLING - Let theme handle colors/backgrounds */
    
    /* === NESTED STATES === */
    &:hover {
        /* Let theme handle color changes */
        transform: translateY(var(--oom-drag-hover-translate));
    }
    
    /* === NESTED ICON SIZING === */
    svg {
        width: var(--oom-icon-svg-size);
        height: var(--oom-icon-svg-size);
    }
}

/* Icon Picker Buttons */
.oom-icon-picker-btn {
    /* === STRUCTURAL PROPERTIES ONLY === */
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: var(--oom-icon-grid-item-size);
    height: var(--oom-icon-grid-item-size);
    border-radius: var(--oom-radius-md);
    cursor: pointer;
    transition: all var(--oom-transition-normal);
    
    /* NO VISUAL STYLING - Let theme handle */
    
    /* === NESTED STATES === */
    &:hover,
    &:focus {
        /* Let theme handle hover/focus styling */
        transform: scale(1.05);
    }
    
    &.selected {
        /* Let theme handle selected state */
        font-weight: 600;
        
        /* NO VISUAL STYLING - Let theme handle selection colors */
    }
    
    /* === NESTED ICON STYLING === */
    svg {
        width: var(--oom-icon-svg-size);
        height: var(--oom-icon-svg-size);
        
        /* NO VISUAL STYLING - Let theme handle icon colors */
    }
}

/* =============================================================================
   EXPAND BUTTONS - Smart State Management with :has()
   ============================================================================= */

.oom-button--expand,
.oom-expand-button {
    /* === STRUCTURAL PROPERTIES ONLY === */
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 120px;
    border-radius: var(--oom-button-border-radius);
    cursor: pointer;
    transition: all var(--oom-transition-normal);
    
    /* NO VISUAL STYLING - Let theme handle */
    
    /* === SMART STATE MANAGEMENT WITH :has() === */

    /* Automatically rotate based on expanded content state */
    &:has(+ .oom-content-wrapper.expanded) {
        .oom-button-icon {
            transform: rotate(180deg);
        }
    }
    
    /* === NESTED STATES === */
    &:hover {
        /* Let theme handle hover styling */
        transform: scale(1.05);
    }
    
    &:focus {
        outline: none;

        /* Let theme handle focus styling */
    }
    
    &:active {
        transform: scale(0.95);
    }
    
    /* === STATE VARIANTS === */
    &.oom-button--state-expanded {
        .oom-button-icon {
            transform: rotate(180deg);
        }
    }
    
    /* === POSITIONED EXPAND BUTTONS === */
    &[style*="position: absolute"] {
        /* Specific positioning adjustments for absolute positioned expand buttons */
        &:hover {
            /* Reduce transform intensity for positioned buttons */
            transform: scale(1.02);
        }
    }
    
    /* === EXPAND BUTTON TEXT INDICATORS === */
    &[data-expanded="true"] .oom-button-text::before {
        /* Text indicators for expanded state */
        content: "▲ ";
    }
    
    &[data-expanded="false"] .oom-button-text::before,
    &:not([data-expanded="true"]) .oom-button-text::before {
        content: "▼ ";
    }
}

/* =============================================================================
   NAVIGATION & TAB BUTTONS - Smart State Management
   ============================================================================= */

/* Navigation/Tab Buttons */
.oom-nav-item,
.oom-hub-tab-nav-item,
.oom-metrics-tabs-button {
    /* Layout structure only */
    display: flex;
    align-items: center;
    gap: var(--oom-spacing-sm);
    padding: var(--oom-spacing-sm);
    border-radius: var(--oom-radius-sm);
    cursor: pointer;
    transition: all var(--oom-transition-normal);
    
    /* NO VISUAL STYLING - Let theme handle */
    
    &:hover {
        /* Let theme handle hover state */
        transform: translateY(var(--oom-drag-hover-translate));
    }
    
    &.active,
    &.is-active,
    &.oom-metrics-tabs-active {
        /* Let theme handle active state */
        font-weight: 600;
    }
    
    /* === NESTED ICON STYLING === */
    .oom-nav-icon,
    .oom-hub-tab-icon,
    .oom-metrics-tabs-icon {
        display: flex;
        align-items: center;
        justify-content: center;
        
        /* NO VISUAL STYLING - Let theme handle icon colors */
        
        svg {
            width: var(--oom-icon-svg-size);
            height: var(--oom-icon-svg-size);
        }
    }
    
    /* === NESTED LABEL STYLING === */
    .oom-nav-label,
    .oom-hub-tab-label,
    .oom-metrics-tabs-label {
        font-size: calc(var(--font-ui-small) + 1px);
        
        /* NO VISUAL STYLING - Let theme handle text colors */
    }
}

/* Special tab button variants */
.oom-metrics-tabs-button {
    &[data-tab-id="overview"] {
        /* Special overview tab styling */
        h2 {
            margin: 0;
            font-size: var(--font-ui-medium);
            
            /* NO VISUAL STYLING - Let theme handle */
        }
    }
}

/* =============================================================================
   SPECIALIZED BUTTON TYPES - Consolidated
   ============================================================================= */

/* Time Filter Buttons */
.oneirometrics-time-filter-button {
    /* === STRUCTURAL PROPERTIES ONLY === */
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: var(--oom-button-padding);
    border-radius: var(--oom-button-border-radius);
    cursor: pointer;
    transition: all var(--oom-transition-normal);
    
    /* NO VISUAL STYLING - Let theme handle */
    
    /* === NESTED STATES === */
    &:hover,
    &:focus {
        /* Let theme handle hover/focus styling */
        transform: translateY(var(--oom-drag-hover-translate));
    }
}

/* Apply Button (from date navigator) */
.oom-apply-button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: var(--oom-button-padding);
    border-radius: var(--oom-button-border-radius);

    /* Inherits from base button - no additional styling needed */
    font-weight: 600;
    cursor: pointer;
    transition: all var(--oom-transition-normal);
    
    /* NO VISUAL STYLING - Let theme handle */
    
    &:hover {
        /* Let theme handle hover state */
        transform: translateY(var(--oom-drag-hover-translate));
    }
}

/* Today Button (from calendar/date navigator) */
.oom-today-button {
    /* Let theme handle today button styling */
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: var(--oom-button-padding);
    border-radius: var(--oom-button-border-radius);
    cursor: pointer;
    transition: all var(--oom-transition-normal);
    
    /* NO VISUAL STYLING - Let theme handle */
    
    &:hover {
        /* Let theme handle hover state */
        transform: translateY(var(--oom-drag-hover-translate));
    }
}

/* Month Buttons (from date navigator) */
.oom-month-button {
    /* Let theme handle month button styling */
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--oom-button-border-radius);
    cursor: pointer;
    transition: all var(--oom-transition-normal);
    
    /* NO VISUAL STYLING - Let theme handle */
    
    &:hover,
    &:focus {
        /* Let theme handle hover/focus states */
        transform: translateY(var(--oom-drag-hover-translate));
    }
}

/* Action Buttons */
.oom-action-button,
.oom-quick-action-button {
    /* Structural layout only */
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--oom-button-border-radius);
    cursor: pointer;
    transition: all var(--oom-transition-normal);
    
    /* NO VISUAL STYLING - Let theme handle */
    
    &:hover {
        /* Let theme handle hover state */
        transform: translateY(var(--oom-drag-hover-translate));
    }
}

/* Filter Buttons */
.oom-filter-button {
    /* Let theme handle filter button styling */
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--oom-button-border-radius);
    cursor: pointer;
    transition: all var(--oom-transition-normal);
    
    /* NO VISUAL STYLING - Let theme handle */
    
    &:hover {
        /* Let theme handle hover state */
        transform: translateY(var(--oom-drag-hover-translate));
    }
}

/* Open Note Button */
.oom-open-note-button {
    /* Structural properties only */
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: var(--oom-button-padding);
    border-radius: var(--oom-button-border-radius);
    cursor: pointer;
    transition: all var(--oom-transition-normal);
    
    /* NO VISUAL STYLING - Let theme handle */
    
    &.enabled {
        opacity: 1;
        pointer-events: auto;
    }
    
    &:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        pointer-events: none;
    }
    
    &:hover {
        /* Let theme handle hover state */
        transform: translateY(var(--oom-drag-hover-translate));
    }
}

/* Action Button Specialized Types */
.oom-action-btn {
    /* Structural action button */
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: var(--oom-spacing-xs);
    border-radius: var(--oom-button-border-radius);
    cursor: pointer;
    transition: all var(--oom-transition-normal);
    
    /* NO VISUAL STYLING - Let theme handle */
    
    &:hover {
        /* Let theme handle hover state */
        transform: scale(1.05);
    }
}

/* Pattern Delete Button */
.oom-pattern-delete {
    /* Specialized delete button */
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: var(--oom-spacing-xs);
    border-radius: var(--oom-button-border-radius);
    cursor: pointer;
    transition: all var(--oom-transition-normal);
    
    /* NO VISUAL STYLING - Let theme handle */
    
    &:hover {
        /* Let theme handle hover state */
        transform: scale(1.05);
    }
}

/* Text Input Toggle Button */
.oom-text-input-toggle {
    /* Text input section toggle */
    cursor: pointer;
    transition: transform var(--oom-transition-fast);
    
    /* NO VISUAL STYLING - Let theme handle */
    
    &:hover {
        transform: scale(1.1);
    }
}

/* Hidden Button */
.oom-button--hidden {
    display: none;
}

/* =============================================================================
   BUTTON GROUPS - Smart Layout with :has()
   ============================================================================= */

.oom-button-group {
    display: inline-flex;
    gap: var(--oom-spacing-xs);
    
    /* === NESTED BUTTON STYLING === */
    .oom-button {
        border-radius: 0;
        
        &:first-child {
            border-top-left-radius: var(--oom-button-border-radius);
            border-bottom-left-radius: var(--oom-button-border-radius);
        }
        
        &:last-child {
            border-top-right-radius: var(--oom-button-border-radius);
            border-bottom-right-radius: var(--oom-button-border-radius);
        }
    }
}

/* =============================================================================
   BUTTON CONTAINERS - Layout Only
   ============================================================================= */

/* Dialog Button Container */
.oom-dialog-buttons {
    display: flex;
    justify-content: flex-end;
    gap: var(--oom-spacing-sm);
    margin-top: var(--oom-spacing-lg);
}

/* Modal Button Container */
.oom-modal-button-container {
    /* === STRUCTURAL PROPERTIES ONLY === */
    display: flex;
    justify-content: flex-end;
    gap: var(--oom-spacing-sm);
    margin-top: var(--oom-spacing-lg);
    
    /* NO VISUAL STYLING - Let theme handle container appearance */
    
    /* === NESTED STATES === */
    .oom-modal-btn,
    .oom-modal-button {
        /* NO VISUAL STYLING - Let theme handle nested button appearance */
        flex: 0 0 auto;
    }
}

/* Metric Editor Button Container */
.oom-metric-editor-buttons {
    display: flex;
    justify-content: flex-end;
    gap: var(--oom-spacing-sm);
    margin-top: var(--oom-spacing-md);
}

/* Action Buttons Container */
.oom-action-buttons {
    display: flex;
    justify-content: center;
    gap: var(--oom-spacing-sm);
}

/* Quick Navigation Buttons Container */
.oom-quick-nav-buttons {
    display: flex;
    justify-content: center;
    gap: var(--oom-spacing-xs);
}

/* Button Container with Smart Layout */
.oom-button-container {
    display: flex;
    align-items: center;
    gap: var(--oom-spacing-sm);
    
    /* === SMART RESPONSIVE LAYOUT WITH :has() === */

    /* Adjust layout based on content */
    &:has(.oom-button--primary) {
        justify-content: flex-end;
    }
    
    /* Stack on mobile when many buttons */
    &:has(.oom-button:nth-child(4)) {
        @media screen and (max-width: var(--oom-breakpoint-mobile)) {
            flex-direction: column;
            align-items: stretch;
        }
    }
}

/* =============================================================================
   SPECIALIZED MODAL/CONTEXT BUTTONS
   ============================================================================= */

/* Log Action Buttons */
.oom-log-actions button {
    /* Structural layout only */
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: var(--oom-spacing-sm);
    border-radius: var(--oom-button-border-radius);
    cursor: pointer;
    transition: all var(--oom-transition-normal);
    
    /* NO VISUAL STYLING - Let theme handle */
    
    &:hover {
        /* Let theme handle hover state */
        transform: translateY(var(--oom-drag-hover-translate));
    }
}

/* Test Modal Action Buttons */
.oom-test-modal-actions-section button {
    /* NO VISUAL STYLING - Let theme handle button styling */
    cursor: pointer;
    transition: all var(--oom-transition-normal);
    
    &.oom-validating {
        /* Loading state indicator */
        opacity: 0.7;
        cursor: wait;
    }
    
    &:hover {
        /* Let theme handle hover state */
        transform: translateY(var(--oom-drag-hover-translate));
    }
}

/* =============================================================================
   BUTTON RESPONSIVE DESIGN
   ============================================================================= */

@media (width <= 768px) {
    .oom-modal-button-container {
        flex-direction: column;
        gap: var(--oom-spacing-xs);
        
        .oom-modal-btn,
        .oom-modal-button {
            width: 100%;
        }
    }
    
    .oom-button-container {
        &:has(.oom-button:nth-child(3)) {
            flex-direction: column;
            align-items: stretch;
            
            .oom-button {
                width: 100%;
            }
        }
    }
}

/* =============================================================================
   ACCESSIBILITY & REDUCED MOTION
   ============================================================================= */

@media (forced-colors: active) {
    .oom-button,
    .oom-button-icon,
    .oom-modal-btn,
    .oom-modal-button,
    .oneirometrics-time-filter-button,
    .oom-icon-picker-btn,
    .oom-action-button,
    .oom-quick-action-button,
    .oom-filter-button,
    .oom-nav-item,
    .oom-hub-tab-nav-item,
    .oom-metrics-tabs-button {
        /* High contrast mode - minimal overrides */
        border: 1px solid ButtonText;
    }
    
    .oom-button:focus,
    .oom-button-icon:focus,
    .oom-modal-btn:focus,
    .oom-modal-button:focus,
    .oneirometrics-time-filter-button:focus,
    .oom-icon-picker-btn:focus {
        outline: 2px solid Highlight;
    }
}

@media (prefers-reduced-motion: reduce) {
    .oom-button,
    .oom-button-icon,
    .oom-button--expand,
    .oom-expand-button,
    .oom-modal-btn,
    .oom-modal-button,
    .oneirometrics-time-filter-button,
    .oom-icon-picker-btn,
    .oom-action-button,
    .oom-quick-action-button,
    .oom-filter-button,
    .oom-nav-item,
    .oom-hub-tab-nav-item,
    .oom-metrics-tabs-button {
        transition: none;
    }
    
    .oom-button:hover,
    .oom-button:active,
    .oom-button-icon:hover,
    .oom-button--expand:hover,
    .oom-expand-button:hover,
    .oom-action-button:hover,
    .oom-quick-action-button:hover {
        transform: none;
    }
    
    .oom-button--loading::after {
        animation: none;
    }
    
    .oom-button--clicked {
        transform: none;
    }
} 

/* =============================================================================
   COMPONENT: TABLES (14.7 KB)
   ============================================================================= */
/* =============================================================================
   OneiroMetrics Tables Component
   Theme-agnostic structural styling for all table components
   ============================================================================= */

/* =============================================================================
   TABLE CONTAINERS - Layout Foundation
   ============================================================================= */

.oom-table-container {
    /* === STRUCTURAL PROPERTIES ONLY === */
    position: relative;
    margin: var(--oom-spacing-md) 0;
    border-radius: var(--oom-radius-md);
    overflow-x: auto;
    overflow-y: visible;
    
    /* NO VISUAL STYLING - Let Obsidian theme handle:
     * - background-color
     * - border
     * - box-shadow
     */
    
    /* === RESPONSIVE SCROLLING === */
    -webkit-overflow-scrolling: touch;
    scrollbar-width: thin;
    
    /* === NESTED WRAPPER STYLING === */
    .oom-table-wrapper {
        position: relative;
        min-width: 100%;
        
        /* NO VISUAL STYLING - Let theme handle */
    }
    
    /* === LOADING STATE === */
    &.loading {
        position: relative;
        
        .oom-table {
            opacity: 0.6;
            pointer-events: none;
        }
    }
}

.oom-table-wrapper {
    /* Structural properties only */
    width: 100%;
    overflow: visible;
    
    /* NO VISUAL STYLING - Let theme handle */
}

/* =============================================================================
   MAIN TABLE SYSTEM - Theme Integrated
   ============================================================================= */

.oom-table {
    /* === STRUCTURAL PROPERTIES === */
    width: 100%;
    border-collapse: collapse;
    border-spacing: 0;
    table-layout: auto;
    
    /* NO VISUAL STYLING - Let theme handle table styling */
    
    /* === TABLE HEADER === */
    th {
        position: relative;

        /* Structural properties only - using size utility pattern */
        padding: var(--oom-spacing-sm) var(--oom-spacing-md); /* Same as .u-size--md */
        font-weight: 600;
        text-align: left;
        vertical-align: middle;
        cursor: pointer;
        user-select: none;
        
        /* NO VISUAL STYLING - Let theme handle header styling */
        
        /* === NESTED HOVER STATE === */
        &:hover {
            /* Let theme handle hover styling */
        }
        
        &:focus {
            /* Let theme handle focus styling */
            outline: none;
        }
        
        /* === SORTABLE COLUMN INDICATORS === */
        &[data-sort]::after {
            position: absolute;
            top: 50%;
            right: var(--oom-spacing-sm);
            transform: translateY(-50%);
            content: "";
            
            /* NO VISUAL STYLING - Let theme handle sort indicators */
        }
        
        &[data-sort="asc"]::after {
            font-size: 0.8em;
            content: "▲";
        }
        
        &[data-sort="desc"]::after {
            font-size: 0.8em;
            content: "▼";
        }
    }
    
    /* === TABLE CELLS === */
    td {
        /* Structural properties only */
        padding: 4px 8px;
        vertical-align: top;
        
        /* NO VISUAL STYLING - Let theme handle cell styling */
    }
    
    /* === TABLE ROWS === */
    tr {
        /* Structural properties only */
        transition: all var(--oom-transition-fast);
        
        /* NO VISUAL STYLING - Let theme handle row styling */
        
        /* === NESTED ROW HOVER === */
        &:hover {
            /* Let theme handle row hover styling */
        }
    }
    
    /* === SPECIALIZED COLUMN TYPES === */
    .oom-date-column {
        width: var(--oom-table-date-width);
        white-space: nowrap;
    }
    
    .oom-title-column {
        width: var(--oom-table-title-width);
        min-width: 200px;
    }
    
    .oom-words-column {
        width: var(--oom-table-words-width);
        text-align: center;
    }
    
    .oom-content-column {
        width: var(--oom-table-content-width);
        max-width: 300px;
    }
    
    .oom-metrics-column {
        width: var(--oom-table-metrics-width);
        text-align: center;
    }
}

/* =============================================================================
   DREAM ENTRIES TABLE - Specialized Functionality
   ============================================================================= */

.oom-dream-row {
    /* === STRUCTURAL PROPERTIES === */
    transition: all var(--oom-transition-normal);
    
    /* NO VISUAL STYLING - Let theme handle */
    
    /* === VISIBILITY STATES === */
    &.oom-row--hidden {
        display: none;
    }
    
    &.oom-row--visible {
        display: table-row;
    }
    
    /* === SMART STATE MANAGEMENT WITH :has() === */
    &:has(.oom-content-wrapper.expanded) {
        /* Auto-adjust row when content is expanded */
        .oom-content-column {
            max-width: none;
        }
    }
}

.oom-content-cell {
    /* Structural properties for expandable content */
    position: relative;
    
    /* NO VISUAL STYLING - Let theme handle */
}

/* =============================================================================
   TABLE STATES - Loading & Empty
   ============================================================================= */

.oom-table-loading {
    position: relative;

    /* === STRUCTURAL PROPERTIES === */
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 200px;
    
    /* NO VISUAL STYLING - Let theme handle */
    
    /* === LOADING SPINNER === */
    &::after {
        width: 24px;
        height: 24px;
        border: 2px solid currentcolor;
        border-radius: 50%;
        animation: oom-table-spin 1s linear infinite;
        content: "";
        border-right-color: transparent;
        
        /* NO VISUAL STYLING - Let theme handle spinner colors */
    }
}

.oom-table-empty {
    /* === STRUCTURAL PROPERTIES === */
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 200px;
    font-size: var(--font-ui-medium);
    
    /* NO VISUAL STYLING - Let theme handle empty state styling */
}

@keyframes oom-table-spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

/* =============================================================================
   TABLE SECTIONS - Layout & Organization
   ============================================================================= */

h2.oom-table-title.oom-stats-title {
    margin-block-start: 0;
}

.oom-table-section {
    /* Structural layout */

    /* NO VISUAL STYLING - Let theme handle */
    
    /* === NESTED SECTION VARIANTS === */
    &.oom-stats-section {
        /* Stats section specific layout */
        margin-bottom: var(--oom-spacing-xl);
    }
}

.oom-metric-category {
    font-size: var(--font-ui-smaller);

    /* Category row styling */
    font-weight: 600;
    
    /* NO VISUAL STYLING - Let theme handle category styling */
    
    td {
        padding: var(--oom-spacing-md);
        
        /* NO VISUAL STYLING - Let theme handle */
    }
}

/* =============================================================================
   TABLE FILTER INTEGRATION - Smart Display
   ============================================================================= */

.oom-filter-display {
    /* Structural properties for filter state */
    transition: all var(--oom-transition-normal);
    
    /* NO VISUAL STYLING - Let theme handle */
    
    &--updated {
        /* Updated filter state indicator */
        animation: oom-filter-pulse 0.3s ease-in-out;
    }
}

@keyframes oom-filter-pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.02); }
}

/* =============================================================================
   METRIC ICON INTEGRATION - Table Cells
   ============================================================================= */

.oom-table th .oom-metric-icon,
.oom-table td .oom-metric-icon {
    /* Icon positioning in tables */
    display: inline-flex;
    align-items: center;
    justify-content: center;
    margin-right: var(--oom-spacing-xs);
    
    /* NO VISUAL STYLING - Let theme handle icons */
}

td:has(.oom-metric-icon-container) {
    /* Smart cell layout with icons */
    display: flex;
    align-items: center;
    gap: var(--oom-spacing-xs);
}

.oom-metric-icon-container {
    /* Icon container in tables */
    display: inline-flex;
    align-items: center;
    justify-content: center;
    
    /* NO VISUAL STYLING - Let theme handle */
}

/* =============================================================================
   TABLE INTEGRATION - Project Note Context
   ============================================================================= */

.markdown-preview-view[data-type="oom-project-note"] {
    /* === NESTED TABLE SECTION STYLING === */
    .oom-table-section {
        margin: var(--oom-spacing-lg) 0;
        
        /* NO VISUAL STYLING - Let theme handle */
    }
    
    .oom-table-container {
        margin: var(--oom-spacing-md) 0;
        
        /* NO VISUAL STYLING - Let theme handle */
    }
    
    /* === TABLE TITLE STYLING === */
    .oom-table-title {
        margin-bottom: var(--oom-spacing-md);
        font-size: var(--font-ui-large);
        font-weight: 600;
        
        /* NO VISUAL STYLING - Let theme handle */
    }
    
    .oom-dream-entries-title {
        margin: var(--oom-spacing-lg) 0 var(--oom-spacing-md) 0;
        font-size: var(--font-ui-large);
        font-weight: 600;
        
        /* NO VISUAL STYLING - Let theme handle */
    }
}

.markdown-rendered table.oom-table {
    /* Integration with Obsidian's markdown renderer */
    td {
        /* NO VISUAL STYLING - Let theme handle */
        vertical-align: top;
    }
    
    tbody > tr > td.column-content {
        /* Content column specific styling */
        max-width: 300px;
        word-wrap: break-word;
    }
}

/* =============================================================================
   RESPONSIVE DESIGN - Mobile First
   ============================================================================= */

@media screen and (max-width: var(--oom-breakpoint-tablet)) {
    .oom-table-container {
        /* Tablet responsive adjustments */
        margin: var(--oom-spacing-sm) 0;
    }
    
    .oom-table,
    .oom-stats-table,
    .oom-metrics-tabs-score-table table {
        /* Smaller padding on tablets - using size utility pattern */
        th,
        td {
            padding: var(--oom-spacing-xs) var(--oom-spacing-sm); /* Same as .u-size--sm */
            font-size: var(--font-ui-smaller);
        }
    }
    
    .markdown-preview-view[data-type="oom-project-note"] {
        .oom-table-section {
            margin: var(--oom-spacing-md) 0;
        }
    }
}

@media screen and (max-width: var(--oom-breakpoint-mobile)) {
    .oom-table-container {
        /* Mobile responsive adjustments */
        margin: var(--oom-spacing-xs) 0;
        border-radius: var(--oom-radius-sm);
    }
    
    .oom-table,
    .oom-stats-table,
    .oom-metrics-tabs-score-table table {
        /* Mobile table adjustments */
        font-size: var(--font-ui-smaller);
        
        th,
        td {
            padding: var(--oom-spacing-xs); /* Same as .u-size--xs */
        }
        
        /* === MOBILE COLUMN ADJUSTMENTS === */
        .oom-date-column {
            width: 80px;
            font-size: var(--font-ui-smallest);
        }
        
        .oom-title-column {
            min-width: 150px;
        }
        
        .oom-content-column {
            max-width: 200px;
        }
        
        .oom-metrics-column {
            width: 60px;
        }
    }
    
    .markdown-preview-view[data-type="oom-project-note"] {
        .oom-table-section {
            margin: var(--oom-spacing-sm) 0;
        }
        
        .oom-table-container {
            margin: var(--oom-spacing-xs) 0;
        }
    }
}

/* =============================================================================
   ACCESSIBILITY & REDUCED MOTION
   ============================================================================= */

@media (forced-colors: active) {
    .oom-table-container {
        /* High contrast mode support */
        border: 1px solid ButtonText;
    }
    
    .oom-table th,
    .oom-table td,
    .oom-stats-table th,
    .oom-stats-table td,
    .oom-metrics-tabs-score-table th,
    .oom-metrics-tabs-score-table td {
        border: 1px solid ButtonText;
    }
    
    .oom-table th,
    .oom-stats-table th,
    .oom-metrics-tabs-score-table th {
        color: ButtonText;
        background: ButtonFace;
    }
    
    .oom-metric-category td {
        color: HighlightText;
        background: Highlight;
    }
}

@media (prefers-reduced-motion: reduce) {
    .oom-table tr,
    .oom-stats-table tr,
    .oom-dream-row,
    .oom-filter-display {
        transition: none;
    }
    
    .oom-table-loading::after {
        animation: none;
    }
    
    .oom-filter-display--updated {
        animation: none;
    }
}

/* =============================================================================
   PRINT STYLES
   ============================================================================= */

@media print {
    .oom-table-container {
        margin: var(--oom-spacing-sm) 0;

        /* Print-friendly table styles */
        overflow: visible;
    }
    
    .oom-table th,
    .oom-stats-table th,
    .oom-metrics-tabs-score-table th {
        border-bottom: 2px solid black !important;
        color: black !important;

        /* Print header styling */
        background: none !important;
    }
    
    .oom-table td,
    .oom-stats-table td,
    .oom-metrics-tabs-score-table td {
        /* Print cell styling */
        border-bottom: 1px solid #ccc !important;
    }
    
    .oom-table tr,
    .oom-stats-table tr {
        /* Print row styling */
        page-break-inside: avoid;
    }
    
    /* Expand all content for print */
    .oom-content-wrapper .oom-content-preview {
        display: none !important;
    }
    
    .oom-content-wrapper .oom-content-full {
        display: block !important;
    }
    
    .oom-table-loading,
    .oom-table-empty {
        display: none;
    }
} 

/* =============================================================================
   COMPONENT: UTILITIES (16.1 KB)
   ============================================================================= */
/* =============================================================================
   OneiroMetrics Utilities Component
   Helper classes, layout utilities, and common patterns
   ============================================================================= */

/* =============================================================================
   SIZE UTILITIES - Standardized Padding/Sizing Patterns
   Extracts commonly repeated sizing patterns from components
   ============================================================================= */

/* =============================================================================
   VERIFIED SIZE UTILITIES - Based on actual repeated patterns
   ============================================================================= */

/* Pattern: var(--oom-spacing-xs) var(--oom-spacing-sm) 
   Found in: base.css, tables.css, navigation.css + CSS variables */
.u-size--sm {
    padding: var(--oom-spacing-xs) var(--oom-spacing-sm);
}

/* Pattern: var(--oom-spacing-sm) var(--oom-spacing-md)
   Found in: tables.css, navigation.css, icons.css + 4 CSS variables */
.u-size--md {
    padding: var(--oom-spacing-sm) var(--oom-spacing-md);
}

/* Pattern: display: flex + align-items: center + justify-content: center
   Found in: icons.css (5+ times), likely other components too */
.u-flex-center {
    display: flex;
    align-items: center;
    justify-content: center;
}

/* =============================================================================
   STATE UTILITIES - Form and Component States (Obsidian Native Variables)
   ============================================================================= */

/* Error state utility using Obsidian's native semantic color
   Pattern: border-color: var(--text-error) - Found 10+ times across components */
.u-state--error {
    border-color: var(--text-error);
}

/* Success state utility using Obsidian's native semantic color
   Pattern: border-color: var(--text-success) - Found in forms/validation */
.u-state--success {
    border-color: var(--text-success);
}

/* Warning state utility using Obsidian's native semantic color
   Pattern: border-color: var(--text-warning) - Found in forms/validation */
.u-state--warning {
    border-color: var(--text-warning);
}

/* Loading state utility for forms and buttons
   Pattern: opacity + cursor - Found in multiple button states */
.u-state--loading {
    opacity: 0.6;
    cursor: wait;
}

/* Interactive state utility using Obsidian's native hover color
   Pattern: background-color on hover - Found throughout components */
.u-state--interactive:hover {
    background-color: var(--interactive-hover);
}

/* =============================================================================
   OBSIDIAN NATIVE SPACING UTILITIES - Leverage Obsidian's 4px Grid System
   ============================================================================= */

/* Margin utilities using Obsidian's official --size-4-* variables */
.u-margin--xs { margin: var(--oom-spacing-xs); }      /* 4px - replaces direct usage */
.u-margin--sm { margin: var(--oom-spacing-sm); }      /* 8px - replaces direct usage */
.u-margin--md { margin: var(--oom-spacing-md); }      /* 16px - replaces direct usage */
.u-margin--lg { margin: var(--oom-spacing-lg); }      /* 24px - replaces direct usage */
.u-margin--xl { margin: var(--oom-spacing-xl); }      /* 32px - replaces direct usage */

/* Padding utilities using Obsidian's official --size-4-* variables */
.u-padding--xs { padding: var(--oom-spacing-xs); }    /* 4px - replaces direct usage */
.u-padding--sm { padding: var(--oom-spacing-sm); }    /* 8px - replaces direct usage */
.u-padding--md { padding: var(--oom-spacing-md); }    /* 16px - replaces direct usage */
.u-padding--lg { padding: var(--oom-spacing-lg); }    /* 24px - replaces direct usage */
.u-padding--xl { padding: var(--oom-spacing-xl); }    /* 32px - replaces direct usage */

/* Gap utilities for flexbox/grid using reliable oom spacing variables */
.u-gap--xs { gap: var(--oom-spacing-xs); }            /* 4px - consolidates gap patterns */
.u-gap--sm { gap: var(--oom-spacing-sm); }            /* 8px - consolidates gap patterns */
.u-gap--md { gap: var(--oom-spacing-md); }            /* 16px - consolidates gap patterns */
.u-gap--lg { gap: var(--oom-spacing-lg); }            /* 24px - consolidates gap patterns */

/* Directional spacing utilities for common patterns */
.u-margin-bottom--sm { margin-bottom: var(--oom-spacing-sm); }    /* margin-bottom patterns */
.u-margin-bottom--md { margin-bottom: var(--oom-spacing-md); }    /* margin-bottom patterns */
.u-margin-bottom--lg { margin-bottom: var(--oom-spacing-lg); }    /* margin-bottom patterns */

.u-margin-top--md { margin-top: var(--oom-spacing-md); }         /* margin-top patterns */
.u-margin-top--lg { margin-top: var(--oom-spacing-lg); }         /* margin-top patterns */
.u-margin-top--xl { margin-top: var(--oom-spacing-xl); }         /* margin-top patterns */

/* =============================================================================
   TRANSITION UTILITIES - Common Animation Patterns
   ============================================================================= */

/* Standard transition utility - consolidates 50+ occurrences
   Pattern: transition: all var(--oom-transition-normal) */
.u-transition {
    transition: all var(--oom-transition-normal);
}

/* Standard transition with easing - found in specific components */
.u-transition--eased {
    transition: all var(--oom-transition-normal) var(--oom-ease-out);
}

/* =============================================================================
   GRID SYSTEMS - Layout Utilities
   ============================================================================= */

.oom-actions-grid,
.oom-icon-picker-grid,
.oom-quick-actions-grid {
    display: grid;
    gap: var(--size-4-4); /* Using Obsidian native instead of var(--oom-spacing-md) */
    
    /* Grid-specific configurations */
    &.oom-actions-grid,
    &.oom-quick-actions-grid {
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        margin-top: var(--size-4-4); /* Using Obsidian native instead of var(--oom-spacing-md) */
    }
    
    &.oom-icon-picker-grid {
        grid-template-columns: repeat(auto-fill, minmax(40px, 1fr));
        max-height: 200px;
        padding: var(--size-4-2); /* Using Obsidian native instead of var(--oom-spacing-sm) */
        overflow-y: auto;
    }
}

.oom-modal-grid {
    display: grid;
    gap: var(--size-4-4); /* Using Obsidian native instead of var(--oom-spacing-md) */
    grid-template-columns: 1fr 1fr;
    margin-top: var(--size-4-2); /* Using Obsidian native instead of var(--oom-spacing-sm) */
}

.oom-dashboard-info-grid {
    display: grid;
    gap: var(--size-4-6); /* Using Obsidian native instead of var(--oom-spacing-lg) */
    grid-template-columns: 1fr 1fr;
    margin-top: var(--size-4-6); /* Using Obsidian native instead of var(--oom-spacing-lg) */
}

/* =============================================================================
   ACCESSIBILITY UTILITIES
   ============================================================================= */

.oom-sr-only,
.oom-live-region {
    position: absolute;
    width: 1px;
    height: 1px;
    margin: -1px;
    padding: 0;
    border: 0;
    white-space: nowrap;
    overflow: hidden;
    clip: var(--oom-utility-sr-clip);
}

.oom-focus-visible:focus {
    outline: var(--oom-focus-outline);
    outline-offset: var(--oom-focus-outline-offset);
}

.oom-focus-trap {
    position: relative;
}

.oom-skip-link {
    position: absolute;
    top: -40px;
    left: 6px;
    z-index: 9999;
    padding: 8px;
    text-decoration: none;
    transition: top var(--oom-transition-fast);
    
    &:focus {
        top: 6px;
    }
}

/* =============================================================================
   VISIBILITY UTILITIES
   ============================================================================= */

.oom-hide,
.oom-hidden {
    display: none !important;
}

.oom-show {
    display: block !important;
}

.oom-show-inline {
    display: inline !important;
}

.oom-show-inline-block {
    display: inline-block !important;
}

.oom-show-flex {
    display: flex !important;
}

.oom-show-grid {
    display: grid !important;
}

.oom-invisible {
    visibility: hidden !important;
}

.oom-visible {
    visibility: visible !important;
}

.oom-metrics-hide {
    display: none !important;
}

.oom-button--hidden {
    display: none;
}

.oom-row--hidden {
    position: absolute;
    display: none !important;
    opacity: 0;
    visibility: hidden;
    transform: translateZ(0);
}

.oom-row--visible {
    opacity: 1;
    visibility: visible;
    transform: translateZ(0);
}

/* =============================================================================
   LAYOUT UTILITIES - Content Wrappers
   ============================================================================= */

.oom-content-wrapper {
    position: relative;
    width: 100%;
    padding-bottom: 30px;
    transition: max-height var(--oom-transition-duration) ease-in-out;
    
    .oom-content-preview {
        display: block;
        max-height: 120px;
        margin-bottom: var(--size-4-2); /* Using Obsidian native instead of var(--oom-spacing-sm) */
        text-overflow: ellipsis;
        white-space: normal;
        overflow: hidden;
    }
    
    .oom-content-full {
        display: none;
        margin-bottom: var(--size-4-2); /* Using Obsidian native instead of var(--oom-spacing-sm) */
        white-space: normal;
    }
    
    &.expanded,
    &[data-expanded="true"] {
        .oom-content-preview {
            display: none;
        }
        
        .oom-content-full {
            display: block;
        }
    }
}

/* =============================================================================
   SECTION LAYOUTS - Modal & Dashboard
   ============================================================================= */

.oom-modal-section {
    margin-bottom: var(--size-4-6); /* Using Obsidian native instead of var(--oom-spacing-lg) */
    
    h4 {
        margin-bottom: var(--size-4-2); /* Using Obsidian native instead of var(--oom-spacing-sm) */
    }
}

.oom-dashboard-section {
    margin-bottom: var(--size-4-8); /* Using Obsidian native instead of var(--oom-spacing-xl) */
    
    h4 {
        margin-bottom: var(--size-4-4); /* Using Obsidian native instead of var(--oom-spacing-md) */
    }
}

.oom-dashboard-info-grid .oom-dashboard-section {
    margin-top: 0;
}

.oom-journal-structure-sections {
    display: flex;
    flex-direction: column;
    gap: var(--size-4-4); /* Using Obsidian native instead of var(--oom-spacing-md) */
}

/* =============================================================================
   SIDEBAR LAYOUTS
   ============================================================================= */

.oom-journal-manager-sidebar,
.oom-journal-structure-sidebar,
.oom-metrics-tabs-sidebar {
    min-width: 180px;
    padding: var(--oom-spacing-lg) 0;
    overflow-y: auto;
    
    &.oom-journal-manager-sidebar {
        width: 180px;
    }
    
    &.oom-journal-structure-sidebar {
        width: 200px;
        padding: var(--oom-spacing-lg);
    }
    
    &.oom-metrics-tabs-sidebar {
        min-width: 180px;
        max-width: 250px;
        padding: var(--oom-spacing-lg) var(--oom-spacing-sm);
        flex-shrink: 0;
    }
}

.oom-journal-manager-main-content,
.oom-journal-structure-content,
.oom-metrics-tabs-content {
    flex: 1;
    padding: var(--oom-spacing-lg);
    overflow-y: auto;
}

.oom-metrics-tabs-content h2:first-of-type {
    margin-block-start: 0;
}

/* =============================================================================
   COMPACT DISPLAY UTILITIES
   ============================================================================= */

.oom-metrics-compact {
    padding: var(--oom-utility-compact-padding) !important;
    font-size: var(--oom-utility-compact-font-size) !important;
}

/* =============================================================================
   INTERACTION UTILITIES
   ============================================================================= */

.oom-drop-indicator {
    opacity: 0;
    transition: opacity var(--oom-transition-normal) var(--oom-ease-out);
    
    &.visible {
        opacity: 1;
    }
}

.oom-hover-opacity:hover {
    will-change: opacity;
}

/* =============================================================================
   CLEARFIX UTILITY
   ============================================================================= */

.oom-clearfix::after {
    display: table;
    clear: both;
    content: "";
}

/* =============================================================================
   PERFORMANCE OPTIMIZATIONS
   ============================================================================= */

.oom-transform,
.oom-hover-lift,
.oom-hover-scale,
.oom-loading {
    transform: translateZ(0);
    backface-visibility: hidden;
}

.oom-hover-lift:hover,
.oom-hover-scale:hover,
.oom-loading {
    will-change: transform;
}

.oom-dream-row,
.oom-content-wrapper,
.oom-modal,
.oom-multiselect-dropdown {
    transform: translateZ(0);
    backface-visibility: hidden;
}

.oom-button--expand,
.oom-preview-toggle,
.oom-drop-indicator {
    will-change: transform, opacity;
}

/* =============================================================================
   RESPONSIVE GRID ADJUSTMENTS
   ============================================================================= */

@media screen and (max-width: var(--oom-breakpoint-tablet)) {
    .oom-dashboard-info-grid {
        gap: var(--oom-spacing-md);
        grid-template-columns: 1fr;
    }
    
    .oom-icon-picker-grid {
        gap: var(--oom-spacing-xs);
        grid-template-columns: repeat(auto-fill, minmax(var(--oom-icon-grid-item-mobile-size), 1fr));
    }
    
    .oom-modal-grid {
        grid-template-columns: 1fr;
    }
}

@media screen and (max-width: var(--oom-breakpoint-mobile)) {
    .oom-dashboard-info-grid {
        gap: var(--oom-spacing-sm);
    }
    
    .oom-icon-picker-grid {
        gap: 2px;
        grid-template-columns: repeat(auto-fill, minmax(32px, 1fr));
        padding: var(--oom-spacing-xs);
    }
    
    .oom-modal-grid {
        gap: var(--oom-spacing-sm);
        grid-template-columns: 1fr;
    }
}

/* =============================================================================
   FEEDBACK SYSTEM - Dream Scrape Feedback Components
   ============================================================================= */

/* Dream Scrape Feedback Area */
.oom-dream-scrape-feedback {
    margin: 16px 0;
    padding: 0;
}

.oom-feedback-content {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 16px;
    border-radius: 6px;
    border: 1px solid;
    font-size: 14px;
    line-height: 1.4;
}

/* Feedback type styles */
.oom-feedback-info {
    border-color: var(--text-accent);
    color: var(--text-normal);
    background-color: var(--background-modifier-info);
}

.oom-feedback-warning {
    border-color: var(--text-warning);
    color: var(--text-normal);
    background-color: var(--background-modifier-error-hover);
}

.oom-feedback-success {
    border-color: var(--text-success);
    color: var(--text-normal);
    background-color: var(--background-modifier-success);
}

.oom-feedback-error {
    border-color: var(--text-error);
    color: var(--text-normal);
    background-color: var(--background-modifier-error);
}

.oom-feedback-icon {
    display: flex;
    flex-shrink: 0;
    height: 16px;
    width: 16px;
    align-items: center;
    justify-content: center;
}

.oom-feedback-message {
    flex: 1;
    font-weight: 500;
}

.oom-feedback-buttons {
    display: flex;
    gap: 8px;
    margin-left: auto;
}

.oom-feedback-buttons .oom-button {
    height: auto;
    padding: 4px 12px;
    font-size: 13px;
} 

/* =============================================================================
   COMPONENT: ICONS (11.9 KB)
   ============================================================================= */
/* =============================================================================
   OneiroMetrics Icons Component
   Comprehensive icon systems for metrics, buttons, navigation, and interface
   ============================================================================= */

/* =============================================================================
   METRIC ICONS - Dream Metrics and Score Indicators
   ============================================================================= */

.oom-metric-icon,
.oom-metric-icon-svg {
    display: inline-flex;
    align-items: center;
    width: var(--oom-icon-size);
    height: var(--oom-icon-size);
    margin-right: 0;
    margin-left: var(--oom-spacing-sm);
    font-size: 1em;
    vertical-align: middle;
    opacity: var(--oom-icon-opacity);
    pointer-events: none;
    transition: color var(--oom-transition-normal),
                opacity var(--oom-transition-normal),
                fill var(--oom-transition-normal);
}

.oom-metric-icon--start {
    margin-right: var(--oom-spacing-sm);
    margin-left: 0;
}

.oom-metric-icon-container {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: var(--oom-icon-container-min-width);
}

td:has(.oom-metric-icon-container) {
    text-align: center;
    vertical-align: middle;
}

.oom-table th .oom-metric-icon,
.oom-table td .oom-metric-icon,
.oom-select option .oom-metric-icon {
    width: var(--oom-icon-size-sm);
    height: var(--oom-icon-size-sm);
    margin: 0;
}

span.oom-metric-header svg {
    margin-left: var(--oom-spacing-xs);
    vertical-align: middle;
}

/* =============================================================================
   BUTTON ICONS - Icon Elements within Buttons
   ============================================================================= */

.oom-button-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    margin-right: var(--oom-spacing-xs);
    transition: all var(--oom-transition-normal);
}

.oom-button-icon svg {
    width: var(--oom-button-icon-size);
    height: var(--oom-button-icon-size);
}

.oom-button--state-expanded .oom-button-icon,
.oom-button--state-collapsed .oom-button-icon {
    transition: transform var(--oom-transition-normal);
}

.oom-button--state-expanded .oom-button-icon {
    transform: rotate(180deg);
}

/* =============================================================================
   NAVIGATION ICONS - Sidebar and Menu Icons
   ============================================================================= */

.oom-nav-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: var(--oom-nav-icon-size);
    height: var(--oom-nav-icon-size);
    margin-right: var(--oom-spacing-sm);
    flex-shrink: 0;
}

.oom-quick-action-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--oom-quick-action-icon-size);
}

.oom-action-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: var(--oom-spacing-sm);
    font-size: var(--oom-action-icon-size);
}

/* =============================================================================
   TAB ICONS - Metrics Tabs and Hub Tab Icons
   ============================================================================= */

.oom-metrics-tabs-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: var(--oom-tab-icon-size);
    height: var(--oom-tab-icon-size);
    margin-right: var(--oom-spacing-sm);
    flex-shrink: 0;
}

.oom-hub-tab-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: var(--oom-tab-icon-size);
    height: var(--oom-tab-icon-size);
    margin-right: var(--oom-spacing-sm);
    flex-shrink: 0;
}

.oom-hub-tab-icon svg {
    width: var(--oom-tab-icon-svg-size);
    height: var(--oom-tab-icon-svg-size);
}

/* =============================================================================
   ICON PICKER SYSTEM - Icon Selection Interface
   ============================================================================= */

.oom-icon-picker-container {
    display: flex;
    flex-direction: column;
    gap: var(--oom-spacing-md);
    height: var(--oom-icon-picker-height);
}

.oom-icon-picker-search {
    position: relative;
    margin-bottom: var(--oom-spacing-sm);
}

.oom-icon-picker-search::before {
    position: absolute;
    top: 50%;
    left: var(--oom-spacing-sm);
    width: var(--oom-search-icon-size);
    height: var(--oom-search-icon-size);
    transform: translateY(-50%);
    content: "";
}

.oom-icon-picker-search input {
    width: 100%;
    padding: var(--oom-input-padding);
    padding-left: calc(var(--oom-search-icon-size) + var(--oom-spacing-lg));
    border-radius: var(--oom-input-radius);
    font-size: var(--oom-input-font-size);
}

.oom-icon-picker-search input:focus {
    outline: none;
    box-shadow: var(--oom-focus-ring);
}

.oom-icon-picker-grid {
    display: grid;
    gap: var(--oom-spacing-xs);
    grid-template-columns: repeat(auto-fill, minmax(var(--oom-icon-picker-cell-size), 1fr));
    max-height: var(--oom-icon-picker-grid-height);
    padding: var(--oom-spacing-sm);
    border-radius: var(--oom-radius-md);
    overflow-y: auto;
}

.oom-icon-picker-grid::-webkit-scrollbar {
    width: var(--oom-scrollbar-width);
}

.oom-icon-picker-grid::-webkit-scrollbar-thumb {
    border-radius: var(--oom-scrollbar-radius);
}

.oom-icon-picker-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: var(--oom-icon-picker-btn-size);
    height: var(--oom-icon-picker-btn-size);
    border-radius: var(--oom-radius-sm);
    cursor: pointer;
    transition: all var(--oom-transition-normal);
}

.oom-icon-picker-btn:hover {
    transform: scale(1.05);
}

.oom-icon-picker-btn:focus {
    outline: none;
    box-shadow: var(--oom-focus-ring);
}

.oom-icon-picker-btn.selected {
    transform: scale(1.1);
}

.oom-icon-picker-btn svg {
    width: var(--oom-icon-picker-svg-size);
    height: var(--oom-icon-picker-svg-size);
}

.oom-icon-picker-clear {
    margin-top: var(--oom-spacing-sm);
    padding: var(--oom-spacing-sm) var(--oom-spacing-md); /* Same as .u-size--md */
    border-radius: var(--oom-radius-sm);
    font-size: var(--oom-font-size-sm);
    text-align: center;
    cursor: pointer;
    transition: all var(--oom-transition-normal);
}

.oom-icon-picker-clear:focus {
    outline: none;
    box-shadow: var(--oom-focus-ring);
}

/* =============================================================================
   ICON FALLBACK SYSTEM - Error Handling and Placeholder Icons
   ============================================================================= */

.oom-icon-fallback {
    display: flex;
    align-items: center;
    justify-content: center;
    width: var(--oom-icon-size);
    height: var(--oom-icon-size);
    border-radius: var(--oom-radius-sm);
    font-size: var(--oom-icon-fallback-font-size);
    font-weight: var(--font-bold);
}

/* =============================================================================
   FILTER ICONS - Status and State Indicator Icons
   ============================================================================= */

.oom-filter-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: var(--oom-filter-icon-size);
    height: var(--oom-filter-icon-size);
    margin-right: var(--oom-spacing-xs);
    color: inherit;
}

/* =============================================================================
   RESPONSIVE DESIGN - Mobile First
   ============================================================================= */

@media screen and (max-width: var(--oom-breakpoint-tablet)) {
    .oom-nav-icon,
    .oom-quick-action-icon,
    .oom-action-icon {
        width: var(--oom-icon-size-lg);
        height: var(--oom-icon-size-lg);
        margin-right: var(--oom-spacing-xs);
    }
    
    .oom-icon-picker-grid {
        grid-template-columns: repeat(auto-fill, minmax(var(--oom-icon-picker-cell-size-tablet), 1fr));
        max-height: var(--oom-icon-picker-grid-height-tablet);
    }
    
    .oom-metrics-tabs-icon,
    .oom-hub-tab-icon {
        width: var(--oom-tab-icon-size-tablet);
        height: var(--oom-tab-icon-size-tablet);
    }
}

@media screen and (max-width: var(--oom-breakpoint-mobile)) {
    .oom-metric-icon,
    .oom-metric-icon-svg {
        width: var(--oom-icon-size-mobile);
        height: var(--oom-icon-size-mobile);
        margin-left: var(--oom-spacing-xs);
    }
    
    .oom-button-icon svg {
        width: var(--oom-button-icon-size-mobile);
        height: var(--oom-button-icon-size-mobile);
    }
    
    .oom-nav-icon {
        width: var(--oom-nav-icon-size-mobile);
        height: var(--oom-nav-icon-size-mobile);
        margin-right: var(--oom-spacing-xs);
    }
    
    .oom-icon-picker-grid {
        gap: var(--oom-spacing-xxs);
        grid-template-columns: repeat(auto-fill, minmax(var(--oom-icon-picker-cell-size-mobile), 1fr));
        max-height: var(--oom-icon-picker-grid-height-mobile);
    }
    
    .oom-icon-picker-btn {
        width: var(--oom-icon-picker-btn-size-mobile);
        height: var(--oom-icon-picker-btn-size-mobile);
    }
    
    .oom-metrics-tabs-icon,
    .oom-hub-tab-icon {
        width: var(--oom-tab-icon-size-mobile);
        height: var(--oom-tab-icon-size-mobile);
        margin-right: var(--oom-spacing-xs);
    }
}

/* =============================================================================
   ACCESSIBILITY & HIGH CONTRAST
   ============================================================================= */

@media (forced-colors: active) {
    .oom-metric-icon,
    .oom-metric-icon-svg,
    .oom-button-icon,
    .oom-nav-icon,
    .oom-metrics-tabs-icon,
    .oom-hub-tab-icon {
        color: ButtonText;
        forced-color-adjust: auto;
    }
    
    .oom-icon-picker-btn {
        border: 2px solid ButtonText;
    }
    
    .oom-icon-picker-btn:focus {
        border-color: Highlight;
        color: HighlightText;
        background-color: Highlight;
    }
    
    .oom-icon-picker-btn.selected {
        border-color: Highlight;
        color: HighlightText;
        background-color: Highlight;
    }
    
    .oom-icon-picker-clear {
        border: 1px solid ButtonText;
    }
    
    .oom-icon-picker-clear:focus {
        color: HighlightText;
        background-color: Highlight;
    }
    
    .oom-icon-fallback {
        border: 2px solid ButtonText;
        color: ButtonText;
        background-color: Canvas;
    }
}

@media (prefers-reduced-motion: reduce) {
    .oom-metric-icon,
    .oom-metric-icon-svg,
    .oom-button-icon,
    .oom-icon-picker-btn,
    .oom-icon-picker-clear,
    .oom-button--state-expanded .oom-button-icon,
    .oom-button--state-collapsed .oom-button-icon {
        transition: none;
    }
    
    .oom-icon-picker-btn:hover {
        transform: none;
    }
    
    .oom-icon-picker-btn.selected {
        transform: none;
    }
}

/* =============================================================================
   PRINT STYLES
   ============================================================================= */

@media print {
    .oom-icon-picker-container,
    .oom-icon-picker-search,
    .oom-icon-picker-grid,
    .oom-icon-picker-btn,
    .oom-icon-picker-clear {
        display: none;
    }
    
    .oom-metric-icon,
    .oom-metric-icon-svg,
    .oom-button-icon,
    .oom-nav-icon {
        opacity: 1 !important;
        color: black !important;
    }
    
    .oom-icon-fallback {
        border: 1px solid black !important;
        color: black !important;
        background-color: white !important;
    }
}


/* =============================================================================
   COMPONENT: NAVIGATION (24.2 KB)
   ============================================================================= */
/* =============================================================================
   NAVIGATION COMPONENT - OneiroMetrics Tab & Navigation System
   ============================================================================= */

/* COMPONENT OVERVIEW:
   - Tab Systems (metrics tabs, hub tabs, navigation tabs)
   - Sidebar Navigation (journal manager, structure, metrics)
   - Template Wizard Navigation
   - Quick Navigation & Year Navigation
   - Date Navigator Integration
   - Tab Modal Containers
   - Navigation Icons & Labels
   - Responsive Navigation Design
   - Print & Accessibility Optimizations
*/

/* =============================================================================
   NAVIGATION ICONS - Comprehensive Icon System (MOVED FIRST for specificity order)
   ============================================================================= */

/* Base Navigation Icons - STANDALONE FIRST */
.oom-nav-icon {
    /* === STRUCTURAL PROPERTIES === */
    display: flex;
    align-items: center;
    justify-content: center;
    width: var(--oom-icon-size);
    height: var(--oom-icon-size);
    flex-shrink: 0;
    
    /* NO VISUAL STYLING - Let theme handle icon colors */
    
    /* === SVG SIZING === */
    svg {
        width: var(--oom-icon-svg-size);
        height: var(--oom-icon-svg-size);
        
        /* NO VISUAL STYLING - Let theme handle SVG colors */
    }
}

/* Tab Icons - Unified System - STANDALONE FIRST */
.oom-metrics-tabs-icon,
.oom-hub-tab-icon {
    /* === STRUCTURAL PROPERTIES === */
    display: flex;
    align-items: center;
    justify-content: center;
    width: var(--oom-tab-icon-size);
    height: var(--oom-tab-icon-size);
    margin-right: var(--oom-spacing-sm);
    flex-shrink: 0;
    
    /* NO VISUAL STYLING - Let theme handle icon colors */
    
    /* === NESTED SVG STYLING === */
    svg {
        width: var(--oom-tab-icon-svg-size);
        height: var(--oom-tab-icon-svg-size);
        
        /* NO VISUAL STYLING - Let theme handle SVG colors */
    }
}

/* Remove margin for hub tab icons (they use gap on parent) */
.oom-hub-tab-icon {
    margin-right: 0;
}

/* =============================================================================
   NAVIGATION LABELS - Text Content Management (MOVED FIRST for specificity order)
   ============================================================================= */

/* STANDALONE LABELS FIRST */
.oom-nav-label,
.oom-hub-tab-label,
.oom-metrics-tabs-label {
    /* === STRUCTURAL PROPERTIES === */
    flex: 1;
    font-size: var(--font-ui-medium);
    font-weight: 400;
    line-height: 1.4;
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
    
    /* NO VISUAL STYLING - Let theme handle label colors */
}

/* Special heading labels */
h2.oom-metrics-tabs-label {
    font-size: var(--h3-size);
    margin-block-start: 0;
    margin-block-end: 0;
}

/* =============================================================================
   TAB NAVIGATION BUTTONS - Enhanced State Management (MOVED FIRST for specificity order)
   ============================================================================= */

/* STANDALONE BUTTON STYLES FIRST */
.oom-metrics-tabs-button,
.oom-hub-tab-nav-item {
    /* === STRUCTURAL PROPERTIES === */
    display: flex;
    align-items: center;
    gap: var(--oom-spacing-sm);
    padding: .45em 0;
    border-left: 3px solid transparent;
    cursor: pointer;
    transition: all var(--oom-transition-fast);
    
    /* NO VISUAL STYLING - Let theme handle button colors and backgrounds */
}

/* Hover states for tab buttons */
.oom-metrics-tabs-button:hover,
.oom-hub-tab-nav-item:hover {
    /* Let theme handle hover styling */
}

/* =============================================================================
   GENERAL NAVIGATION ITEMS - Smart State Management
   ============================================================================= */

/* Base Navigation Items */
.oom-nav-item,
.oom-hub-tab-nav-item,
.oom-metrics-tabs-button {
    /* === STRUCTURAL PROPERTIES ONLY === */
    display: flex;
    align-items: center;
    gap: var(--oom-spacing-sm);
    padding: var(--oom-spacing-sm);
    border-radius: var(--oom-radius-sm);
    cursor: pointer;
    transition: all var(--oom-transition-normal);
    
    /* NO VISUAL STYLING - Let theme handle colors/backgrounds */
    
    /* === HOVER STATE === */
    &:hover {
        /* Let theme handle hover styling */
        transform: translateY(var(--oom-drag-hover-translate));
    }
    
    /* === ACTIVE STATE === */
    &.active,
    &.is-active,
    &.oom-metrics-tabs-active {
        /* Let theme handle active state colors */
        font-weight: 600;
    }
    
    /* === NESTED ICON STYLING - Higher specificity after standalone icons === */
    .oom-nav-icon,
    .oom-hub-tab-icon,
    .oom-metrics-tabs-icon {
        display: flex;
        align-items: center;
        justify-content: center;
        
        /* NO VISUAL STYLING - Let theme handle icon colors */
        
        svg {
            width: var(--oom-icon-svg-size);
            height: var(--oom-icon-svg-size);
        }
    }
    
    /* === NESTED LABEL STYLING - Higher specificity after standalone labels === */
    .oom-nav-label,
    .oom-hub-tab-label,
    .oom-metrics-tabs-label {
        font-size: calc(var(--font-ui-small) + 1px);
        
        /* NO VISUAL STYLING - Let theme handle text colors */
    }
}

/* PARENT STATE CHANGES - Higher specificity after standalone icons */
.oom-nav-item:hover .oom-nav-icon,
.oom-nav-item.active .oom-nav-icon {
    /* Let theme handle state-based icon changes */
}

.oom-metrics-tabs-active .oom-metrics-tabs-icon,
.oom-hub-tab-nav-item.is-active .oom-hub-tab-icon {
    /* Let theme handle active icon colors */
}

/* Special tab button variants */
.oom-metrics-tabs-button {
    &[data-tab-id="overview"] {
        /* Special overview tab styling */
        h2 {
            margin: 0;
            font-size: var(--font-ui-medium);
            
            /* NO VISUAL STYLING - Let theme handle */
        }
    }
}

/* =============================================================================
   TAB MODAL CONTAINERS - Theme Integrated
   ============================================================================= */

/* Main modal container with tab interface */
.modal:has(.oom-metrics-tabs-modal) {
    width: var(--modal-width);
    max-width: var(--modal-max-width);

    /* === STRUCTURAL PROPERTIES ONLY === */
    height: var(--modal-height);
    max-height: var(--modal-max-height);
    padding: 0;
    contain: layout style;
    
    /* NO VISUAL STYLING - Let Obsidian modal handle all styling */
}

.oom-metrics-tabs-modal {
    /* === STRUCTURAL LAYOUT === */
    display: flex;
    flex-direction: column;
    height: 100%;
    margin: 0;
    padding: var(--oom-spacing-sm);
    
    /* NO VISUAL STYLING - Let theme handle modal styling */
}

/* Modal content area adjustments */
.oom-metrics-tabs-modal {
    display: flex;
    flex-direction: column;
    height: auto;
    max-height: calc(100% - 30px);
}

/* Modal content label spacing */
.modal-content:has(.oom-metrics-tabs-label) {
    .oom-metrics-tabs-label {
        font-size: calc(var(--font-ui-small) + 1px);
        
        &:first-of-type {
            font-size: var(--h3-size);
        }
    }
}

/* =============================================================================
   TAB HEADER - Theme Integrated
   ============================================================================= */

.oom-metrics-tabs-header {
    /* === STRUCTURAL PROPERTIES === */
    margin-bottom: 0;
    padding-bottom: 0;
    font-size: var(--h1-size);
    font-weight: var(--h1-weight);
    text-align: center;
    margin-block-start: 0;
    
    /* NO VISUAL STYLING - Let theme handle header colors and borders */
}

/* =============================================================================
   TAB CONTAINER LAYOUT - Unified System
   ============================================================================= */

.oom-metrics-tabs-container {
    /* === FLEXBOX LAYOUT === */
    display: flex;
    flex: 1;
    gap: 0;
    min-height: 0;
    border-radius: var(--oom-radius-md);
    overflow: hidden;
    
    /* NO VISUAL STYLING - Let theme handle borders and backgrounds */
}

/* =============================================================================
   SIDEBAR NAVIGATION - Consolidated System
   ============================================================================= */

/* Unified Sidebar System */
.oom-journal-manager-sidebar,
.oom-journal-structure-sidebar,
.oom-metrics-tabs-sidebar {
    /* === STRUCTURAL PROPERTIES === */
    display: flex;
    flex-direction: column;
    overflow-y: auto;
    flex-shrink: 0;
    
    /* NO VISUAL STYLING - Let theme handle sidebar appearance */
    
    /* === SCROLLBAR STYLING === */
    scrollbar-width: thin;
    
    &::-webkit-scrollbar {
        width: 8px;
    }
    
    &::-webkit-scrollbar-track {
        /* NO VISUAL STYLING - Let theme handle scrollbar track */
    }
    
    &::-webkit-scrollbar-thumb {
        border-radius: var(--oom-radius-sm);
        
        /* NO VISUAL STYLING - Let theme handle scrollbar thumb */
        
        &:hover {
            /* Let theme handle scrollbar hover */
        }
    }
}

/* Sidebar-specific sizing */
.oom-journal-manager-sidebar {
    width: var(--oom-sidebar-width);
    min-width: var(--oom-sidebar-width);
    padding: var(--oom-spacing-sm);
}

.oom-journal-structure-sidebar {
    width: var(--oom-sidebar-width);
    min-width: var(--oom-sidebar-width);
    padding: var(--oom-spacing-sm);
}

.oom-metrics-tabs-sidebar {
    width: var(--oom-tab-sidebar-width);
    min-width: var(--oom-tab-sidebar-width);
    padding: var(--oom-spacing-sm) 0;
}

/* =============================================================================
   TAB GROUP HEADERS - Unified Organization
   ============================================================================= */

/* Group headers for both metrics tabs and hub tabs */
.oom-metrics-tabs-group-header,
.oom-hub-tab-group-title {
    /* === STRUCTURAL PROPERTIES === */
    margin: var(--oom-spacing-sm) 0 var(--oom-spacing-xs) 0;
    padding: 0 .32em;
    font-size: var(--font-ui-smaller);
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05rem;
    
    /* NO VISUAL STYLING - Let theme handle group header colors */
    
    /* === NESTED FIRST CHILD === */
    &:first-child {
        margin-top: 0;
    }
}

/* =============================================================================
   TAB NAVIGATION BUTTONS - Enhanced State Management
   ============================================================================= */

/* MOVED FIRST for proper specificity order - Base button styles */
.oom-metrics-tabs-button,
.oom-hub-tab-nav-item {
    /* === STRUCTURAL PROPERTIES === */
    display: flex;
    align-items: center;
    gap: var(--oom-spacing-sm);
    padding: .45em 0;
    border-left: 3px solid transparent;
    cursor: pointer;
    transition: all var(--oom-transition-fast);
    
    /* NO VISUAL STYLING - Let theme handle button colors and backgrounds */
}

/* Hover states - MOVED AFTER base styles for proper specificity order */
.oom-metrics-tabs-button:hover,
.oom-hub-tab-nav-item:hover {
    /* Let theme handle hover styling */
}

/* =============================================================================
   TAB CONTENT AREAS - Scrollable Content Management
   ============================================================================= */

.oom-metrics-tabs-content {
    /* === STRUCTURAL PROPERTIES === */
    flex: 1;
    padding: var(--oom-spacing-lg);
    overflow-y: auto;
    
    /* NO VISUAL STYLING - Let theme handle content area styling */
    
    /* === SCROLLBAR STYLING === */
    scrollbar-width: thin;
    
    &::-webkit-scrollbar {
        width: 8px;
    }
    
    &::-webkit-scrollbar-track {
        /* NO VISUAL STYLING - Let theme handle scrollbar track */
    }
    
    &::-webkit-scrollbar-thumb {
        border-radius: var(--oom-radius-sm);
        
        /* NO VISUAL STYLING - Let theme handle scrollbar thumb */
        
        &:hover {
            /* Let theme handle scrollbar hover */
        }
    }
}

/* =============================================================================
   TAB CONTENT ELEMENTS - Content Styling
   ============================================================================= */

/* Metric headers in tab content */
.oom-metrics-tabs-metric-header {
    /* === STRUCTURAL PROPERTIES === */
    margin-top: 0;
    margin-bottom: var(--oom-spacing-md);
    padding-bottom: var(--oom-spacing-sm);
    font-size: var(--h2-size);
    font-weight: var(--h2-weight);
    
    /* NO VISUAL STYLING - Let theme handle header colors */
}

/* Description text */
.oom-metrics-tabs-description {
    /* === STRUCTURAL PROPERTIES === */
    margin-bottom: var(--oom-spacing-lg);
    line-height: var(--line-height-normal);
    
    /* NO VISUAL STYLING - Let theme handle description styling */
}

/* Overview text content */
.oom-metrics-tabs-overview-text {
    /* === STRUCTURAL PROPERTIES === */
    margin-bottom: var(--oom-spacing-xl);
    line-height: var(--line-height-normal);
    
    /* NO VISUAL STYLING - Let theme handle text styling */
    
    /* === NESTED FIRST PARAGRAPH === */
    p:first-child {
        margin-top: 0;
    }
}

/* Sources content section */
.oom-metrics-tabs-sources-content {
    /* === STRUCTURAL PROPERTIES === */
    margin-top: var(--oom-spacing-xl);
    
    /* NO VISUAL STYLING - Let theme handle content styling */
    
    /* === NESTED HEADING STYLING === */
    h2,
    h3,
    h4 {
        margin-top: var(--oom-spacing-md);
        margin-bottom: var(--oom-spacing-sm);
        
        /* NO VISUAL STYLING - Let theme handle heading colors */
    }
    
    /* === NESTED LIST STYLING === */
    ul {
        margin-left: 0;
        padding-left: var(--oom-spacing-lg);
    }
    
    li {
        margin-bottom: var(--oom-spacing-xs);
    }
}

/* =============================================================================
   TAB FOOTER - Action Area
   ============================================================================= */

.oom-metrics-tabs-footer {
    /* === STRUCTURAL PROPERTIES === */
    display: flex;
    justify-content: flex-end;
    gap: var(--oom-spacing-sm);
    margin-top: var(--oom-spacing-lg);
    padding-top: var(--oom-spacing-md);
    
    /* NO VISUAL STYLING - Let theme handle footer borders and styling */
}

/* =============================================================================
   TAB INTEGRATION - Score Tables
   ============================================================================= */

/* Score tables within tab content */
.oom-metrics-tabs-score-table {
    /* === STRUCTURAL PROPERTIES === */
    margin-top: var(--oom-spacing-lg);
    overflow-x: auto;
    
    /* NO VISUAL STYLING - Let theme handle table styling */
    
    /* === NESTED TABLE STYLING === */
    table {
        width: 100%;
        border-collapse: collapse;
        
        /* NO VISUAL STYLING - Let theme handle table styling */
    }
    
    th,
    td {
        padding: var(--oom-spacing-sm);
        text-align: left;
        
        /* NO VISUAL STYLING - Let theme handle cell styling */
    }
}

/* =============================================================================
   TEMPLATE WIZARD NAVIGATION - Specialized Navigation
   ============================================================================= */

.oom-template-wizard-navigation {
    /* === STRUCTURAL PROPERTIES === */
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-top: var(--oom-spacing-lg);
    padding: var(--oom-spacing-md) 0;
    
    /* NO VISUAL STYLING - Let theme handle navigation appearance */
    
    .oom-button-container {
        display: flex;
        gap: var(--oom-spacing-sm);
    }
}

/* =============================================================================
   QUICK NAVIGATION - Centered Navigation System
   ============================================================================= */

.oom-quick-navigation {
    /* === STRUCTURAL PROPERTIES === */
    display: flex;
    align-items: center;
    justify-content: center;
    
    /* NO VISUAL STYLING - Let theme handle navigation appearance */
}

.oom-quick-nav-buttons {
    /* === STRUCTURAL PROPERTIES === */
    display: flex;
    gap: var(--oom-spacing-sm);
    
    /* NO VISUAL STYLING - Let theme handle buttons appearance */
}

/* =============================================================================
   YEAR NAVIGATION - Date-Based Navigation
   ============================================================================= */

.oom-year-nav {
    /* === STRUCTURAL PROPERTIES === */
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--oom-spacing-md);
    
    /* NO VISUAL STYLING - Let theme handle navigation appearance */
}

.oom-year-display {
    /* === STRUCTURAL PROPERTIES === */
    display: flex;
    align-items: center;
    gap: var(--oom-spacing-md);
    
    /* NO VISUAL STYLING - Let theme handle display appearance */
}

/* =============================================================================
   DATE NAVIGATOR - Component Variables Integration
   ============================================================================= */

.oom-date-navigator {
    /* === COMPONENT-SCOPED VARIABLES === */
    --month-bg: var(--background-primary);
    --month-border: var(--background-modifier-border);
    --month-text: var(--text-normal);
    --month-header: var(--text-accent);
    --day-bg: var(--background-primary);
    --day-border: var(--background-modifier-border);
    --day-text: var(--text-normal);
    --day-today: var(--interactive-accent);
    --day-selected: var(--interactive-accent-hover);
    --day-dream: var(--text-accent);
    --day-no-dream: var(--text-muted);
    --day-other-month: var(--background-secondary);
    --day-hover: var(--background-modifier-hover);
    --day-with-entry-bg: rgb(var(--interactive-accent-rgb), 0.1);
    
    /* === STRUCTURAL PROPERTIES === */

    /* Component-specific structure handled by date-navigator component */
}

/* Navigation Active State Variables */
.oom-nav-item.active {
    --background-modifier-hover: var(--interactive-accent);
    --icon-color: var(--text-on-accent);
}

/* =============================================================================
   RESPONSIVE DESIGN - Mobile First Navigation
   ============================================================================= */

@media screen and (max-width: var(--oom-breakpoint-tablet)) {
    /* === TABLET RESPONSIVE LAYOUT === */
    .oom-metrics-tabs-container {
        flex-direction: column;
    }
    
    .oom-metrics-tabs-sidebar {
        flex-direction: row;

        /* === HORIZONTAL SIDEBAR ON TABLET === */
        width: 100%;
        max-height: 200px;
        padding: var(--oom-spacing-sm) var(--oom-spacing-md); /* Same as .u-size--md */
        overflow-x: auto;
        overflow-y: hidden;
        
        /* NO VISUAL STYLING - Let theme handle tablet borders */
    }
    
    .oom-metrics-tabs-button,
    .oom-hub-tab-nav-item {
        padding: var(--oom-spacing-xs) var(--oom-spacing-sm); /* Same as .u-size--sm */
        border-bottom: 3px solid transparent;
        border-left: none;
        white-space: nowrap;

        /* === TABLET TAB ITEM ADJUSTMENTS === */
        flex-shrink: 0;
        
        &.oom-metrics-tabs-active,
        &.is-active {
            /* NO VISUAL STYLING - Let theme handle active tablet styling */
        }
    }
    
    .oom-metrics-tabs-content {
        padding: var(--oom-spacing-md);
    }
    
    .oom-metrics-tabs-header {
        margin-bottom: var(--oom-spacing-sm);
        padding-bottom: var(--oom-spacing-xs);
        font-size: var(--h2-size);
    }
    
    /* === SIDEBAR RESPONSIVE ADJUSTMENTS === */
    .oom-journal-manager-sidebar,
    .oom-journal-structure-sidebar {
        width: 100%;
        max-height: 150px;
        padding: var(--oom-spacing-sm);
        overflow-x: auto;
    }
}

@media screen and (max-width: var(--oom-breakpoint-mobile)) {
    /* === MOBILE MODAL ADJUSTMENTS === */
    .oom-metrics-tabs-modal {
        padding: var(--oom-spacing-xs);
    }
    
    .oom-metrics-tabs-sidebar {
        /* === MOBILE SIDEBAR STYLING === */
        max-height: 150px;
        padding: var(--oom-spacing-xs);
    }
    
    .oom-metrics-tabs-button,
    .oom-hub-tab-nav-item {
        padding: var(--oom-spacing-xs);

        /* === MOBILE TAB ADJUSTMENTS === */
        font-size: var(--font-ui-smaller);
        
        .oom-metrics-tabs-icon,
        .oom-hub-tab-icon {
            width: calc(var(--oom-tab-icon-size) * 0.8);
            height: calc(var(--oom-tab-icon-size) * 0.8);
        }
        
        .oom-metrics-tabs-label,
        .oom-hub-tab-label {
            font-size: var(--font-ui-small);
        }
    }
    
    /* === MOBILE NAVIGATION ADJUSTMENTS === */
    .oom-template-wizard-navigation .oom-button-container {
        flex-direction: column;
        gap: var(--oom-spacing-xs);
    }
    
    .oom-quick-navigation,
    .oom-year-nav {
        flex-direction: column;
        gap: var(--oom-spacing-sm);
    }
    
    /* === MOBILE SIDEBAR ADJUSTMENTS === */
    .oom-journal-manager-sidebar,
    .oom-journal-structure-sidebar {
        width: 100%;
        max-height: 150px;
        padding: var(--oom-spacing-sm);
        overflow-x: auto;
    }
}

/* =============================================================================
   PRINT OPTIMIZATION - Navigation
   ============================================================================= */

@media print {
    /* === HIDE INTERACTIVE NAVIGATION IN PRINT === */
    .oom-template-wizard-navigation,
    .oom-quick-navigation,
    .oom-year-nav,
    .oom-journal-manager-sidebar,
    .oom-journal-structure-sidebar,
    .oom-metrics-tabs-sidebar {
        display: none;
    }
    
    /* === SIMPLIFY TAB CONTENT FOR PRINT === */
    .oom-metrics-tabs-container {
        flex-direction: column;
    }
    
    .oom-metrics-tabs-content {
        padding: 0;
        overflow: visible;
    }
    
    /* === HIDE INTERACTIVE ELEMENTS === */
    .oom-metrics-tabs-footer {
        display: none;
    }
}

/* =============================================================================
   ACCESSIBILITY - High Contrast & Focus Management
   ============================================================================= */

/* High contrast mode adjustments */
@media (forced-colors: active) {
    .oom-nav-item,
    .oom-hub-tab-nav-item,
    .oom-metrics-tabs-button {
        border: 1px solid ButtonText;
        
        &.active,
        &.is-active,
        &.oom-metrics-tabs-active {
            color: HighlightText;
            background: Highlight;
        }
    }
    
    .oom-metrics-tabs-sidebar,
    .oom-journal-manager-sidebar,
    .oom-journal-structure-sidebar {
        border: 1px solid ButtonText;
    }
}

/* Focus management for keyboard navigation */
.oom-nav-item:focus-visible,
.oom-hub-tab-nav-item:focus-visible,
.oom-metrics-tabs-button:focus-visible {
    outline: var(--oom-focus-ring-accent);
    outline-offset: 2px;
}

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
    .oom-nav-item,
    .oom-hub-tab-nav-item,
    .oom-metrics-tabs-button {
        transition: none;
        
        &:hover {
            transform: none;
        }
    }
    
    .oom-metrics-tabs-container,
    .oom-metrics-tabs-content {
        scroll-behavior: auto;
    }
} 

/* =============================================================================
   COMPONENT: ENHANCED-DATE-NAVIGATOR (54.6 KB)
   ============================================================================= */
/* ==========================================================================
   Enhanced Date Navigator Modal
   ========================================================================== */

/* Enhanced Date Navigator Modal - Complete Implementation */
.oomp-enhanced-date-navigator-modal {
    border-radius: 12px;
    padding: 16px;
    max-width: none;
    width: 600px;
    max-height: 90vh;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    box-shadow: var(--shadow-l);
    background: var(--modal-background);
    
    /* Main container */
    .enhanced-date-navigator-container {
        display: flex;
        flex-direction: column;
        gap: 8px; /* Reduced from 16px for optimized layout */
    }

    /* Optimized Navigation Section - First Row */
    .enhanced-nav-section.optimized-nav-row {
        display: flex;
        flex-direction: column;
        gap: 0; /* No internal gaps needed */
        
        .nav-header.optimized-nav-header {
            display: flex;
            flex-wrap: nowrap; /* No wrapping for tighter layout */
            gap: 8px; /* Reduced from 12px */
            align-items: center;
            padding: 8px 12px; /* Reduced vertical padding */
            background: var(--background-secondary);
            border-radius: 6px;
            border: 1px solid var(--background-modifier-border);
        }
    }

    /* Optimized Interaction Section - Second Row (Recent removed) */
    .enhanced-interaction-section.optimized-interaction-row {
        display: flex;
        flex-direction: column;
        
        .interaction-header.optimized-interaction-header {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 6px 12px;
            background: transparent;
            border-bottom: 1px solid var(--background-modifier-border);
            gap: 24px; /* Increased gap since we have more space */
        }
    }

    /* Simplified interaction sections (no left section needed) */
    .interaction-center {
        flex: 0 0 auto;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .interaction-right {
        flex: 0 0 auto;
        display: flex;
        align-items: center;
    }

    /* Optimized mode buttons */
    .mode-buttons.optimized-mode-buttons {
        display: flex;
        gap: 4px; /* Tighter than original */
        
        .selection-mode-btn {
            padding: 4px 12px; /* Slightly more compact */
            font-size: 12px;
            border-radius: 4px;
        }
    }

    /* Year Picker */
    .year-picker-container {
        display: flex;
        align-items: center;
        gap: 8px;
        
        .year-picker {
            background: var(--background-primary);
            border: 1px solid var(--background-modifier-border);
            border-radius: 4px;
            padding: 4px 8px;
            color: var(--text-normal);
            font-size: 12px;
            cursor: pointer;
            
            &:focus {
                outline: 2px solid var(--interactive-accent);
                outline-offset: 1px;
            }
            
            option[data-has-dreams="true"] {
                font-weight: 600;
            }
        }
    }

    /* Month Jump */
    .month-jump-container {
        position: relative;
        
        .month-jump-trigger {
            background: var(--background-primary);
            border: 1px solid var(--background-modifier-border);
            border-radius: 4px;
            padding: 4px 8px;
            color: var(--text-normal);
            font-size: 12px;
            cursor: pointer;
            
            &:hover {
                background: var(--background-modifier-hover);
            }
            
            &:focus {
                outline: 2px solid var(--interactive-accent);
                outline-offset: 1px;
            }
        }
        
        .month-jump-menu {
            position: absolute;
            top: 100%;
            left: 0;
            background: var(--background-primary);
            border: 1px solid var(--background-modifier-border);
            border-radius: 6px;
            box-shadow: var(--shadow-s);
            z-index: 100;
            min-width: 200px;
            
            .month-item {
                padding: 8px 12px;
                cursor: pointer;
                font-size: 12px;
                border-bottom: 1px solid var(--background-modifier-border);
                
                &:hover {
                    background: var(--background-modifier-hover);
                }
                
                &:last-child {
                    border-bottom: none;
                }
                
                &[data-has-dreams="true"]::after {
                    content: " ●";
                    color: var(--interactive-accent);
                }
            }
        }
    }

    /* Quarter Toggle */
    .quarter-toggle-container {
        .quarter-toggle {
            background: var(--background-primary);
            border: 1px solid var(--background-modifier-border);
            border-radius: 4px;
            padding: 4px 8px;
            color: var(--text-normal);
            font-size: 12px;
            cursor: pointer;
            
            &:hover {
                background: var(--background-modifier-hover);
            }
            
            &.active {
                background: var(--interactive-accent);
                color: var(--text-on-accent);
            }
            
            &:focus {
                outline: 2px solid var(--interactive-accent);
                outline-offset: 1px;
            }
        }
    }

    /* Go to Date */
    .goto-date-container {
        display: flex;
        align-items: center;
        gap: 4px;
        
        .goto-date-input {
            background: var(--background-primary);
            border: 1px solid var(--background-modifier-border);
            border-radius: 4px;
            padding: 4px 8px;
            color: var(--text-normal);
            font-size: 12px;
            width: 100px;
            
            &:focus {
                outline: 2px solid var(--interactive-accent);
                outline-offset: 1px;
                border-color: var(--interactive-accent);
            }
            
            &::placeholder {
                color: var(--text-muted);
            }
        }
        
        .goto-date-btn {
            background: var(--interactive-accent);
            border: 1px solid var(--interactive-accent);
            border-radius: 4px;
            padding: 4px 8px;
            color: var(--text-on-accent);
            font-size: 12px;
            cursor: pointer;
            
            &:hover {
                background: var(--interactive-accent-hover);
            }
            
            &:disabled {
                opacity: 0.5;
                cursor: not-allowed;
            }
        }
    }

    /* Navigation Memory */
    .navigation-memory-container {
        min-width: 0;         /* Allow shrinking */
        overflow: hidden;     /* Hide overflow */
        
        .memory-chips {
            display: flex;
            flex-wrap: nowrap;    /* Single line to prevent wrapping */
            gap: 4px;
            overflow-x: auto;     /* Horizontal scroll if needed */
            scrollbar-width: none; /* Hide scrollbar in Firefox */
            -ms-overflow-style: none; /* Hide scrollbar in IE/Edge */
            
            &::-webkit-scrollbar {
                display: none;    /* Hide scrollbar in Webkit browsers */
            }
            
            .memory-chip {
                background: var(--background-primary);
                border: 1px solid var(--background-modifier-border);
                border-radius: 12px;
                padding: 2px 8px;
                font-size: 10px;
                color: var(--text-normal);
                cursor: pointer;
                transition: all 0.2s ease;
                white-space: nowrap;  /* Prevent text wrapping inside chips */
                flex-shrink: 0;       /* Prevent chips from shrinking */

                &:hover {
                    background: var(--background-modifier-hover);
                    transform: translateY(-1px);
                }

                .remove-chip {
                    margin-left: 4px;
                    color: var(--text-muted);
                    cursor: pointer;
                    font-size: 8px;

                    &:hover {
                        color: var(--text-error);
                    }
                }
            }
        }
    }

    /* Selection Mode Buttons - now in optimized interaction row */

    /* Calendar Section */
    .enhanced-calendar-section {
        .calendar-header {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 12px;
            
            .month-navigation {
                display: flex;
                align-items: center;
                gap: 12px;
                
                .nav-button {
                    background: var(--background-secondary);
                    border: 1px solid var(--background-modifier-border);
                    color: var(--text-normal);
                    width: 28px;
                    height: 28px;
                    border-radius: 4px;
                    cursor: pointer;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 14px;
                    transition: all 0.2s ease;

                    &:hover {
                        background: var(--background-modifier-hover);
                    }
                    
                    &:focus {
                        outline: 2px solid var(--interactive-accent);
                        outline-offset: 1px;
                    }
                }
                
                .month-display {
                    font-size: 16px;
                    font-weight: 600;
                    color: var(--text-normal);
                }
            }
        }
        
        .calendar-grid {
            max-width: fit-content;
            width: fit-content;
            margin: 0 auto;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid var(--background-modifier-border);
            background: var(--background-secondary);
            
            .day-header {
                text-align: center;
                font-size: 11px;
                font-weight: 600;
                color: var(--text-muted);
                padding: 6px 2px;
                border-bottom: 1px solid var(--background-modifier-border);
                margin-bottom: 4px;
            }
            
            .calendar-day {
                position: relative;
                display: flex;
                aspect-ratio: 1;
                min-height: 64px;
                height: 64px;
                border-radius: 6px;
                border: 1px solid transparent;
                align-items: center;
                justify-content: center;
                font-size: 14px;
                cursor: pointer;
                transition: all 0.15s ease;
                user-select: none;
                color: var(--text-normal);
                background: var(--background-primary);

                &:hover {
                    background: var(--background-modifier-hover);
                    transform: scale(1.03);
                    z-index: 1;
                }

                &:focus {
                    outline: 2px solid var(--interactive-accent);
                    outline-offset: 1px;
                    z-index: 2;
                }

                &.today {
                    border: 2px solid var(--interactive-accent);
                    font-weight: 600;
                }

                &.other-month {
                    color: var(--text-muted);
                    opacity: 0.4;
                }

                &.selected {
                    background: var(--interactive-accent);
                    color: var(--text-on-accent);
                    font-weight: 600;
                    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
                }

                &.range-start {
                    background: var(--interactive-accent);
                    color: var(--text-on-accent);
                    border-top-left-radius: 12px;
                    border-bottom-left-radius: 12px;
                    border-top-right-radius: 4px;
                    border-bottom-right-radius: 4px;
                }

                &.range-end {
                    background: var(--interactive-accent);
                    color: var(--text-on-accent);
                    border-top-left-radius: 4px;
                    border-bottom-left-radius: 4px;
                    border-top-right-radius: 12px;
                    border-bottom-right-radius: 12px;
                }

                &.range-middle {
                    background: var(--interactive-accent-hover);
                    color: var(--text-on-accent);
                    border-radius: 4px;
                }

                &.multi-selected {
                    background: var(--interactive-accent);
                    color: var(--text-on-accent);
                    border-radius: 8px;

                    &::after {
                        content: "✓";
                        position: absolute;
                        top: 2px;
                        right: 2px;
                        font-size: 8px;
                        opacity: 0.8;
                    }
                }

                &.drag-preview {
                    background: var(--interactive-accent-hover);
                    color: var(--text-on-accent);
                    opacity: 0.7;
                    border: 2px dashed var(--interactive-accent);
                }

                /* Dream Quality Indicators */
                .dream-indicator {
                    position: absolute;
                    bottom: 1px;
                    right: 1px;
                    width: 6px;
                    height: 6px;
                    border-radius: 50%;
                    border: 1px solid var(--background-primary);

                    &.quality-high {
                        background: radial-gradient(circle, #48bb78 0%, #2f855a 100%);
                        box-shadow: 0 0 4px rgba(72, 187, 120, 0.4);
                    }

                    &.quality-medium {
                        background: radial-gradient(circle, #ed8936 0%, #c05621 100%);
                        box-shadow: 0 0 4px rgba(237, 137, 54, 0.4);
                    }

                    &.quality-low {
                        background: radial-gradient(circle, #f56565 0%, #c53030 100%);
                        box-shadow: 0 0 4px rgba(245, 101, 101, 0.4);
                    }

                    &.quality-none {
                        background: #718096;
                    }

                    &.multiple-entries {
                        width: 8px;
                        height: 8px;
                        bottom: 0px;
                        right: 0px;

                        &.quality-high {
                            background: radial-gradient(circle, #48bb78 0%, #2f855a 50%, #1a5d3a 100%);
                            box-shadow: 0 0 6px rgba(72, 187, 120, 0.6);
                        }

                        &.quality-medium {
                            background: radial-gradient(circle, #ed8936 0%, #c05621 50%, #8b3d15 100%);
                            box-shadow: 0 0 6px rgba(237, 137, 54, 0.6);
                        }

                        &.quality-low {
                            background: radial-gradient(circle, #f56565 0%, #c53030 50%, #9b2c2c 100%);
                            box-shadow: 0 0 6px rgba(245, 101, 101, 0.6);
                        }
                    }
                }

                .entry-count {
                    position: absolute;
                    top: -1px;
                    right: -1px;
                    background: var(--interactive-accent);
                    color: var(--text-on-accent);
                    font-size: 7px;
                    font-weight: bold;
                    width: 12px;
                    height: 12px;
                    border-radius: 50%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    border: 1px solid var(--background-primary);
                }
            }
        }
    }

    /* Quarter View - Alternative Implementation */
    .quarter-view {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 20px;
        padding: 12px;
        width: 100%;
    }

    /* Individual Month Containers in Quarter View */
    .oomp-quarter-month {
        display: flex;
        flex-direction: column;
        background: var(--background-secondary);
        border: 1px solid var(--background-modifier-border);
        border-radius: 8px;
        padding: 12px;
        min-width: 0;
    }

    /* Quarter Month Headers */
    .oomp-quarter-month-header {
        font-size: 14px;
        font-weight: 700;
        text-align: center;
        color: var(--text-normal);
        margin-bottom: 10px;
        padding: 6px 0;
        border-bottom: 1px solid var(--background-modifier-border);
    }

    /* Compact Month Grid */
    .oomp-compact-month-grid {
        display: flex;
        flex-direction: column;
        gap: 3px;
    }

    /* Compact Header Row (Weekdays) */
    .oomp-compact-header-row {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 2px;
        margin-bottom: 4px;
    }

    /* Compact Weekday Headers */
    .oomp-compact-weekday {
        font-size: 11px;
        font-weight: 600;
        text-align: center;
        color: var(--text-muted);
        padding: 1px;
        min-height: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    /* Compact Days Container */
    .oomp-compact-days-container {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 2px;
    }

    /* Compact Day Cells */
    .oomp-compact-day {
        position: relative;
        min-height: 18px;
        max-height: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        border-radius: 2px;
        transition: background-color 0.15s ease;
        background: var(--background-primary);
        border: 1px solid transparent;
        font-size: 11px;
        padding: 1px;
    }

    .oomp-compact-day:hover {
        background: var(--background-modifier-hover);
    }

    .oomp-compact-day.today {
        background: var(--interactive-accent);
        color: var(--text-on-accent);
        font-weight: 600;
    }

    .oomp-compact-day.other-month {
        visibility: hidden;
        pointer-events: none;
    }

    /* Accessibility: Focus styles for compact calendar days */
    .oomp-compact-day:focus {
        outline: 2px solid var(--interactive-accent);
        outline-offset: 2px;
        background: var(--background-modifier-hover);
        z-index: 10;
        border-color: var(--interactive-accent);
        box-shadow: 0 0 0 1px var(--interactive-accent);
    }

    .oomp-compact-day:focus .oomp-compact-day-number {
        font-weight: 600;
        color: var(--interactive-accent);
    }

    /* High contrast support for compact calendar focus */
    @media (prefers-contrast: high) {
        .oomp-compact-day:focus {
            outline: 3px solid var(--interactive-accent);
            outline-offset: 1px;
            box-shadow: 0 0 0 2px var(--interactive-accent);
        }

        .oomp-compact-day:focus .oomp-compact-day-number {
            color: var(--text-accent);
        }
    }

    /* Focus-visible support for compact calendar days */
    .oomp-compact-day:focus-visible {
        outline: 2px solid var(--interactive-accent);
        outline-offset: 2px;
    }

    /* Remove focus outline when clicked (not keyboard focused) */
    .oomp-compact-day:focus:not(:focus-visible) {
        outline: none;
        box-shadow: none;
    }

    /* Compact Day Selection Styles */
    .oomp-compact-day.selected {
        background: var(--interactive-accent);
        color: var(--text-on-accent);
        border-color: var(--interactive-accent);
        font-weight: 600;
    }

    .oomp-compact-day.selected .oomp-compact-day-number {
        color: var(--text-on-accent);
        font-weight: 600;
    }

    .oomp-compact-day.selected .oomp-compact-dream-indicator {
        color: var(--text-on-accent);
        font-weight: bold;
    }

    /* Selection with today state */
    .oomp-compact-day.selected.today {
        background: var(--interactive-accent);
        border-color: var(--text-accent);
        box-shadow: 0 0 0 1px var(--text-accent);
    }

    /* Compact Day Numbers */
    .oomp-compact-day-number {
        font-size: 10px;
        font-weight: 500;
        line-height: 1;
        z-index: 1;
        color: var(--text-normal);
    }

    /* Compact Dream Indicators */
    .oomp-compact-dream-indicator {
        position: absolute;
        bottom: 1px;
        right: 1px;
        font-size: 6px;
        color: var(--color-green);
        line-height: 1;
        z-index: 2;
    }

    /* Quarter Toggle Enhancement */
    .quarter-toggle-container {
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .quarter-toggle {
        display: flex;
        align-items: center;
        gap: 6px;
        padding: 4px 8px;
        border-radius: 4px;
        background: var(--background-secondary);
        border: 1px solid var(--background-modifier-border);
        cursor: pointer;
        transition: all 0.15s ease;
        user-select: none;
    }

    .quarter-toggle:hover {
        border-color: var(--background-modifier-border-hover);
        background: var(--background-modifier-hover);
    }

    .quarter-toggle:active {
        transform: translateY(1px);
        background: var(--background-modifier-active);
    }

    .toggle-switch input[type="checkbox"] {
        height: 14px;
        width: 14px;
        margin: 0;
        pointer-events: none;
        accent-color: var(--interactive-accent);
    }

    .toggle-label {
        pointer-events: none;
        user-select: none;
        font-size: 12px;
        font-weight: 500;
        color: var(--text-normal);
    }

    .quarter-toggle:has(input:checked) {
        border-color: var(--interactive-accent);
        background: var(--interactive-accent-hover);
    }

    .quarter-toggle:has(input:checked) .toggle-label {
        font-weight: 600;
        color: var(--text-on-accent);
    }

    /* Dark Mode Adjustments */
    .theme-dark .oomp-quarter-month {
        background: var(--background-primary-alt);
    }

    .theme-dark .oomp-compact-day {
        background: var(--background-secondary);
    }

    .theme-dark .oomp-compact-dream-indicator {
        color: var(--color-green-rgb);
    }

    /* Responsive Design */
    @media (max-width: 768px) {
        .quarter-view {
            grid-template-columns: 1fr;
            gap: 12px;
        }
        
        .oomp-quarter-month {
            padding: 6px;
        }
        
        .oomp-compact-day {
            min-height: 24px;
        }
        
        .oomp-compact-day-number {
            font-size: 11px;
        }
    }

    /* Visualization Dropdown */
    .oomp-visualization-dropdown-container {
        display: flex;
        align-items: center;
        gap: 8px;
        
        .oomp-visualization-dropdown {
            min-width: 110px;
            padding: 4px 8px;
            border: 1px solid var(--background-modifier-border);
            border-radius: 4px;
            font-size: 12px;
            cursor: pointer;
            color: var(--text-normal);
            background: var(--background-primary);
            
            &:focus {
                outline: 2px solid var(--interactive-accent);
                outline-offset: 1px;
                border-color: var(--interactive-accent);
            }
            
            &:hover {
                background: var(--background-modifier-hover);
            }
            
            option {
                padding: 4px;
                color: var(--text-normal);
                background: var(--background-primary);
            }
        }
    }

    /* Pattern Visualization Elements */
    .oomp-pattern-indicator {
        position: absolute;
        z-index: 2;
        top: 2px;
        right: 2px;
        width: 8px;
        height: 8px;
        border-radius: 50%;
    }

    .oomp-quality-score {
        position: absolute;
        z-index: 2;
        bottom: 2px;
        right: 2px;
        background: rgba(0, 0, 0, 0.7);
        color: white;
        font-size: 0.6em;
        padding: 1px 3px;
        border-radius: 2px;
    }

    .oomp-metric-overlay {
        position: absolute;
        z-index: 2;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        display: grid;
        grid-template-columns: 1fr 1fr;
        grid-template-rows: 1fr 1fr;
        pointer-events: none;
    }

    .oomp-metric-dot {
        height: 4px;
        width: 4px;
        margin: auto;
        border-radius: 50%;
    }

    .oomp-pattern-icon {
        position: absolute;
        z-index: 2;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 1.2em;
    }

    .oomp-fallback-indicator {
        position: absolute;
        z-index: 2;
        top: 2px;
        right: 2px;
        height: 8px;
        width: 8px;
        border-radius: 50%;
        background-color: #666;
    }

    /* Pattern Legend System */
    .oomp-pattern-legend {
        background: var(--background-secondary);
        border: 1px solid var(--background-modifier-border);
        border-radius: 6px;
        padding: 12px;
        margin: 16px 0;
        max-width: 300px;
    }

    .oomp-legend-title {
        font-size: 14px;
        font-weight: 600;
        color: var(--text-normal);
        margin-bottom: 8px;
        border-bottom: 1px solid var(--background-modifier-border);
        padding-bottom: 4px;
    }

    .oomp-legend-items {
        display: flex;
        flex-direction: column;
        gap: 6px;
    }

    .oomp-legend-item {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 12px;
        color: var(--text-normal);
    }

    .oomp-legend-dot {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        flex-shrink: 0;
    }

    .oomp-legend-gradient {
        width: 16px;
        height: 12px;
        border-radius: 2px;
        flex-shrink: 0;
    }

    /* Pattern Type Classes */
    .oomp-pattern-high-quality {
        background: var(--color-green);
    }

    .oomp-pattern-fragmented {
        background: var(--color-yellow);
    }

    .oomp-pattern-rich-narrative {
        background: var(--color-blue);
    }

    .oomp-pattern-basic-recall {
        background: var(--color-orange);
    }

    /* Quality Level Classes */
    .oomp-quality-high {
        background: var(--color-green);
    }

    .oomp-quality-medium {
        background: var(--color-yellow);
    }

    .oomp-quality-low {
        background: var(--color-red);
    }

    /* Metric-Specific Classes for Multi-Layer Visualization */
    .oomp-sensory {
        background-color: #7c3aed;
    }

    .oomp-emotional {
        background-color: #06d6a0;
    }

    .oomp-fragmentation {
        background-color: #f72585;
    }

    .oomp-descriptiveness {
        background-color: #f77f00;
    }

    /* Tooltips */
    .oomp-pattern-tooltip {
        position: absolute;
        left: 50%;
        bottom: 100%;
        z-index: 100;
        max-width: 250px;
        margin-bottom: 8px;
        padding: 8px 12px;
        border-radius: 6px;
        font-size: 0.75em;
        line-height: 1.4;
        white-space: nowrap;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.2s;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        transform: translateX(-50%);
        color: white;
        background: rgba(0, 0, 0, 0.9);
    }

    .oomp-tooltip-title {
        font-weight: bold;
    }

    .oomp-tooltip-date {
        color: #ccc;
    }

    .oomp-tooltip-pattern {
        font-weight: bold;
        color: #7c3aed;
    }

    .oomp-tooltip-pattern-desc {
        font-style: italic;
        color: #bbb;
    }

    .oomp-tooltip-metric {
        font-size: 0.9em;
    }

    .oomp-tooltip-calculated {
        font-weight: bold;
        color: #faa61a;
    }

    .oomp-tooltip-no-metrics {
        font-style: italic;
        color: #888;
    }

    /* Calendar Day Focus Styles for Accessibility */
    .calendar-day:focus {
        border: 3px solid var(--interactive-accent) !important;
        background: var(--background-modifier-hover) !important;
        outline: none;
        box-shadow: 0 0 8px rgba(var(--interactive-accent-rgb), 0.3);
        z-index: 1;
        position: relative;
        transform: scale(1.05);
        transition: all 0.2s ease;
    }

    .calendar-day:focus .day-number {
        color: var(--interactive-accent);
        font-weight: 700;
        font-size: 1.1em;
    }

    /* High contrast focus for better accessibility */
    @media (prefers-contrast: high) {
        .calendar-day:focus {
            border: 4px solid var(--text-normal) !important;
            background: var(--background-secondary) !important;
            box-shadow: 0 0 0 2px var(--background-primary), 0 0 0 6px var(--text-normal);
            transform: scale(1.1);
        }
        
        .calendar-day:focus .day-number {
            color: var(--text-normal);
            font-weight: 800;
        }
    }

    /* Focus visible for keyboard-only navigation */
    .calendar-day:focus-visible {
        border: 3px solid var(--interactive-accent) !important;
        background: var(--background-modifier-hover) !important;
        outline: none;
        box-shadow: 0 0 8px rgba(var(--interactive-accent-rgb), 0.3);
        transform: scale(1.05);
    }

    /* Remove focus outline for mouse clicks */
    .calendar-day:focus:not(:focus-visible) {
        border: 1px solid var(--background-modifier-border);
        background: initial;
        box-shadow: none;
        transform: none;
    }

    /* Compact Calendar Container Focus Styles for Tab Navigation */
    .oomp-enhanced-date-navigator-modal .oomp-compact-days-container:focus {
        outline: 2px solid var(--interactive-accent);
        outline-offset: 2px;
        border-radius: 4px;
    }

    .oomp-enhanced-date-navigator-modal .oomp-compact-days-container:focus-visible {
        outline: 2px solid var(--interactive-accent);
        outline-offset: 2px;
        border-radius: 4px;
    }

    /* Remove focus outline when clicked (not keyboard focused) */
    .oomp-enhanced-date-navigator-modal .oomp-compact-days-container:focus:not(:focus-visible) {
        outline: none;
    }

    /* High contrast support for compact calendar container focus */
    @media (prefers-contrast: high) {
        .oomp-enhanced-date-navigator-modal .oomp-compact-days-container:focus {
            outline: 3px solid var(--interactive-accent);
            outline-offset: 1px;
        }
    }
}

.modal.oomp-enhanced-date-navigator-modal:has(.dual-view) {
    height: 570px;
}

.modal.oomp-enhanced-date-navigator-modal:has(.quarter-view) {
    height: 525px;
}

/* Accessibility and Preferences */
@media (prefers-reduced-motion: reduce) {
    .oomp-enhanced-date-navigator-modal {
        .calendar-day {
            transition: none;

            &:hover {
                transform: none;
            }
        }
        
        .selection-mode-btn {
            transition: none;
        }
    }
}

@media (prefers-contrast: high) {
    .oomp-enhanced-date-navigator-modal {
        .calendar-day.selected {
            border: 2px solid var(--text-on-accent);
        }
        
        .selection-mode-btn.active {
            border: 2px solid var(--text-on-accent);
        }
    }
}

/* Responsive Adjustments */
@container (max-width: 500px) {
    .oomp-enhanced-date-navigator-modal {
        .calendar-day {
            min-height: 28px;
            font-size: 12px;
        }

        .calendar-grid {
            padding: 8px;
            gap: 1px;
        }

        .enhanced-nav-section .nav-header {
            flex-direction: column;
            align-items: stretch;
        }

        .selection-mode-section {
            flex-direction: column;
            align-items: stretch;
            
            .mode-buttons {
                justify-content: center;
            }
        }
    }
}

/* Calendar Days Grid - CRITICAL GRID LAYOUT */
.oomp-enhanced-date-navigator-modal .calendar-days-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 3px;
    max-width: none;
    width: 100%;
    padding: 4px;
}

/* Calendar Header Row */  
.oomp-enhanced-date-navigator-modal .calendar-header-row {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 3px;
    max-width: none;
    width: 100%;
    margin-bottom: 6px;
    padding: 0 4px;
}

/* Weekday Headers */
.oomp-enhanced-date-navigator-modal .calendar-weekday {
    padding: 5px 2px;
    text-align: center;
    font-size: 11px;
    border-bottom: 1px solid var(--background-modifier-border);
    font-weight: 600;
    color: var(--text-muted);
}

/* Quarter View Layout */
.oomp-enhanced-date-navigator-modal .quarter-view {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
    padding: 12px;
    width: 100%;
}

/* Individual Month Containers in Quarter View */
.oomp-enhanced-date-navigator-modal .oomp-quarter-month {
    display: flex;
    flex-direction: column;
    background: var(--background-secondary);
    border: 1px solid var(--background-modifier-border);
    border-radius: 8px;
    padding: 12px;
    min-width: 0;
}

/* Quarter Month Headers */
.oomp-enhanced-date-navigator-modal .oomp-quarter-month-header {
    font-size: 14px;
    font-weight: 700;
    text-align: center;
    color: var(--text-normal);
    margin-bottom: 10px;
    padding: 6px 0;
    border-bottom: 1px solid var(--background-modifier-border);
}

/* Compact Month Grid */
.oomp-enhanced-date-navigator-modal .oomp-compact-month-grid {
    display: flex;
    flex-direction: column;
    gap: 3px;
}

/* Compact Header Row (Weekdays) */
.oomp-enhanced-date-navigator-modal .oomp-compact-header-row {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 2px;
    margin-bottom: 4px;
}

/* Compact Weekday Headers */
.oomp-enhanced-date-navigator-modal .oomp-compact-weekday {
    font-size: 11px;
    font-weight: 600;
    text-align: center;
    color: var(--text-muted);
    padding: 1px;
    min-height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* Compact Days Container */
.oomp-enhanced-date-navigator-modal .oomp-compact-days-container {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 2px;
}

/* Compact Day Cells */
.oomp-enhanced-date-navigator-modal .oomp-compact-day {
    position: relative;
    min-height: 18px;
    max-height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    border-radius: 2px;
    transition: background-color 0.15s ease;
    background: var(--background-primary);
    border: 1px solid transparent;
    font-size: 11px;
    padding: 1px;
}

.oomp-enhanced-date-navigator-modal .oomp-compact-day:hover {
    background: var(--background-modifier-hover);
}

.oomp-enhanced-date-navigator-modal .oomp-compact-day.today {
    background: var(--interactive-accent);
    color: var(--text-on-accent);
    font-weight: 600;
}

.oomp-enhanced-date-navigator-modal .oomp-compact-day.other-month {
    visibility: hidden;
    pointer-events: none;
}

/* Accessibility: Focus styles for compact calendar days */
.oomp-enhanced-date-navigator-modal .oomp-compact-day:focus {
    outline: 2px solid var(--interactive-accent);
    outline-offset: 2px;
    background: var(--background-modifier-hover);
    z-index: 10;
    border-color: var(--interactive-accent);
    box-shadow: 0 0 0 1px var(--interactive-accent);
}

.oomp-enhanced-date-navigator-modal .oomp-compact-day:focus .oomp-compact-day-number {
    font-weight: 600;
    color: var(--interactive-accent);
}

/* High contrast support for compact calendar focus */
@media (prefers-contrast: high) {
    .oomp-enhanced-date-navigator-modal .oomp-compact-day:focus {
        outline: 3px solid var(--interactive-accent);
        outline-offset: 1px;
        box-shadow: 0 0 0 2px var(--interactive-accent);
    }

    .oomp-enhanced-date-navigator-modal .oomp-compact-day:focus .oomp-compact-day-number {
        color: var(--text-accent);
    }
}

/* Focus-visible support for compact calendar days */
.oomp-enhanced-date-navigator-modal .oomp-compact-day:focus-visible {
    outline: 2px solid var(--interactive-accent);
    outline-offset: 2px;
}

/* Remove focus outline when clicked (not keyboard focused) */
.oomp-enhanced-date-navigator-modal .oomp-compact-day:focus:not(:focus-visible) {
    outline: none;
    box-shadow: none;
}

/* Compact Day Numbers */
.oomp-enhanced-date-navigator-modal .oomp-compact-day-number {
    font-size: 10px;
    font-weight: 500;
    line-height: 1;
    z-index: 1;
    color: var(--text-normal);
}

/* Compact Dream Indicators */
.oomp-enhanced-date-navigator-modal .oomp-compact-dream-indicator {
    position: absolute;
    bottom: 1px;
    right: 1px;
    font-size: 6px;
    color: var(--color-green);
    line-height: 1;
    z-index: 2;
}

/* Quarter Toggle Enhancement */
.oomp-enhanced-date-navigator-modal .quarter-toggle-container {
    display: flex;
    align-items: center;
    gap: 8px;
}

.oomp-enhanced-date-navigator-modal .quarter-toggle {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 4px 8px;
    border-radius: 4px;
    background: var(--background-secondary);
    border: 1px solid var(--background-modifier-border);
    cursor: pointer;
    transition: all 0.15s ease;
    user-select: none;
}

.oomp-enhanced-date-navigator-modal .quarter-toggle:hover {
    border-color: var(--background-modifier-border-hover);
    background: var(--background-modifier-hover);
}

.oomp-enhanced-date-navigator-modal .quarter-toggle:active {
    transform: translateY(1px);
    background: var(--background-modifier-active);
}

.oomp-enhanced-date-navigator-modal .toggle-switch input[type="checkbox"] {
    height: 14px;
    width: 14px;
    margin: 0;
    pointer-events: none;
    accent-color: var(--interactive-accent);
}

.oomp-enhanced-date-navigator-modal .toggle-label {
    pointer-events: none;
    user-select: none;
    font-size: 12px;
    font-weight: 500;
    color: var(--text-normal);
}

.oomp-enhanced-date-navigator-modal .quarter-toggle:has(input:checked) {
    border-color: var(--interactive-accent);
    background: var(--interactive-accent-hover);
}

.oomp-enhanced-date-navigator-modal .quarter-toggle:has(input:checked) .toggle-label {
    font-weight: 600;
    color: var(--text-on-accent);
}

/* Dark Mode Adjustments */
.theme-dark .oomp-enhanced-date-navigator-modal .oomp-quarter-month {
    background: var(--background-primary-alt);
}

.theme-dark .oomp-enhanced-date-navigator-modal .oomp-compact-day {
    background: var(--background-secondary);
}

.theme-dark .oomp-enhanced-date-navigator-modal .oomp-compact-dream-indicator {
    color: var(--color-green-rgb);
}

/* Responsive Design */
@media (max-width: 768px) {
    .oomp-enhanced-date-navigator-modal .quarter-view {
        grid-template-columns: 1fr;
        gap: 12px;
    }
    
    .oomp-enhanced-date-navigator-modal .oomp-quarter-month {
        padding: 6px;
    }
    
    .oomp-enhanced-date-navigator-modal .oomp-compact-day {
        min-height: 24px;
    }
    
    .oomp-enhanced-date-navigator-modal .oomp-compact-day-number {
        font-size: 11px;
    }
}

/* Visualization Dropdown */
.oomp-visualization-dropdown-container {
    display: flex;
    align-items: center;
    gap: 8px;
    
    .oomp-visualization-dropdown {
        min-width: 110px;
        padding: 4px 8px;
        border: 1px solid var(--background-modifier-border);
        border-radius: 4px;
        font-size: 12px;
        cursor: pointer;
        color: var(--text-normal);
        background: var(--background-primary);
        
        &:focus {
            outline: 2px solid var(--interactive-accent);
            outline-offset: 1px;
            border-color: var(--interactive-accent);
        }
        
        &:hover {
            background: var(--background-modifier-hover);
        }
        
        option {
            padding: 4px;
            color: var(--text-normal);
            background: var(--background-primary);
        }
    }
}

/* Pattern Visualization Elements */
.oomp-pattern-indicator {
    position: absolute;
    z-index: 2;
    top: 2px;
    right: 2px;
    width: 8px;
    height: 8px;
    border-radius: 50%;
}

.oomp-quality-score {
    position: absolute;
    z-index: 2;
    bottom: 2px;
    right: 2px;
    background: rgba(0, 0, 0, 0.7);
    color: white;
    font-size: 0.6em;
    padding: 1px 3px;
    border-radius: 2px;
}

.oomp-metric-overlay {
    position: absolute;
    z-index: 2;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: 1fr 1fr;
    pointer-events: none;
}

.oomp-metric-dot {
    height: 4px;
    width: 4px;
    margin: auto;
    border-radius: 50%;
}

.oomp-pattern-icon {
    position: absolute;
    z-index: 2;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 1.2em;
}

.oomp-fallback-indicator {
    position: absolute;
    z-index: 2;
    top: 2px;
    right: 2px;
    height: 8px;
    width: 8px;
    border-radius: 50%;
    background-color: #666;
}

/* Pattern Legend System */
.oomp-pattern-legend {
    background: var(--background-secondary);
    border: 1px solid var(--background-modifier-border);
    border-radius: 6px;
    padding: 12px;
    margin: 16px 0;
    max-width: 300px;
}

.oomp-legend-title {
    font-size: 14px;
    font-weight: 600;
    color: var(--text-normal);
    margin-bottom: 8px;
    border-bottom: 1px solid var(--background-modifier-border);
    padding-bottom: 4px;
}

.oomp-legend-items {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.oomp-legend-item {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 12px;
    color: var(--text-normal);
}

.oomp-legend-dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    flex-shrink: 0;
}

.oomp-legend-gradient {
    width: 16px;
    height: 12px;
    border-radius: 2px;
    flex-shrink: 0;
}

/* Pattern Type Classes */
.oomp-pattern-high-quality {
    background: var(--color-green);
}

.oomp-pattern-fragmented {
    background: var(--color-yellow);
}

.oomp-pattern-rich-narrative {
    background: var(--color-blue);
}

.oomp-pattern-basic-recall {
    background: var(--color-orange);
}

/* Quality Level Classes */
.oomp-quality-high {
    background: var(--color-green);
}

.oomp-quality-medium {
    background: var(--color-yellow);
}

.oomp-quality-low {
    background: var(--color-red);
}

/* Metric-Specific Classes for Multi-Layer Visualization */
.oomp-sensory {
    background-color: #7c3aed;
}

.oomp-emotional {
    background-color: #06d6a0;
}

.oomp-fragmentation {
    background-color: #f72585;
}

.oomp-descriptiveness {
    background-color: #f77f00;
}

/* Tooltips */
.oomp-pattern-tooltip {
    position: absolute;
    left: 50%;
    bottom: 100%;
    z-index: 100;
    max-width: 250px;
    margin-bottom: 8px;
    padding: 8px 12px;
    border-radius: 6px;
    font-size: 0.75em;
    line-height: 1.4;
    white-space: nowrap;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.2s;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
    transform: translateX(-50%);
    color: white;
    background: rgba(0, 0, 0, 0.9);
}

.oomp-tooltip-title {
    font-weight: bold;
}

.oomp-tooltip-date {
    color: #ccc;
}

.oomp-tooltip-pattern {
    font-weight: bold;
    color: #7c3aed;
}

.oomp-tooltip-pattern-desc {
    font-style: italic;
    color: #bbb;
}

.oomp-tooltip-metric {
    font-size: 0.9em;
}

.oomp-tooltip-calculated {
    font-weight: bold;
    color: #faa61a;
}

.oomp-tooltip-no-metrics {
    font-style: italic;
    color: #888;
}

/* Calendar Day Focus Styles for Accessibility */
.calendar-day:focus {
    border: 3px solid var(--interactive-accent) !important;
    background: var(--background-modifier-hover) !important;
    outline: none;
    box-shadow: 0 0 8px rgba(var(--interactive-accent-rgb), 0.3);
    z-index: 1;
    position: relative;
    transform: scale(1.05);
    transition: all 0.2s ease;
}

.calendar-day:focus .day-number {
    color: var(--interactive-accent);
    font-weight: 700;
    font-size: 1.1em;
}

/* High contrast focus for better accessibility */
@media (prefers-contrast: high) {
    .calendar-day:focus {
        border: 4px solid var(--text-normal) !important;
        background: var(--background-secondary) !important;
        box-shadow: 0 0 0 2px var(--background-primary), 0 0 0 6px var(--text-normal);
        transform: scale(1.1);
    }
    
    .calendar-day:focus .day-number {
        color: var(--text-normal);
        font-weight: 800;
    }
}

/* Focus visible for keyboard-only navigation */
.calendar-day:focus-visible {
    border: 3px solid var(--interactive-accent) !important;
    background: var(--background-modifier-hover) !important;
    outline: none;
    box-shadow: 0 0 8px rgba(var(--interactive-accent-rgb), 0.3);
    transform: scale(1.05);
}

/* Remove focus outline for mouse clicks */
.calendar-day:focus:not(:focus-visible) {
    border: 1px solid var(--background-modifier-border);
    background: initial;
    box-shadow: none;
    transform: none;
}

/* Hide main calendar headers in Quarter view */
.oomp-enhanced-date-navigator-modal .quarter-view ~ .calendar-header-row,
.oomp-enhanced-date-navigator-modal .calendar-days-grid.quarter-view ~ .calendar-header-row {
    display: none;
}

/* Hide main calendar headers when Quarter or Dual view is active */
.oomp-enhanced-date-navigator-modal .calendar-days-grid.quarter-view + .calendar-header-row,
.oomp-enhanced-date-navigator-modal .calendar-days-grid.quarter-view ~ .calendar-header-row,
.oomp-enhanced-date-navigator-modal .calendar-days-grid.dual-view + .calendar-header-row,
.oomp-enhanced-date-navigator-modal .calendar-days-grid.dual-view ~ .calendar-header-row,
.oomp-enhanced-date-navigator-modal:has(.quarter-view) .calendar-header-row,
.oomp-enhanced-date-navigator-modal:has(.dual-view) .calendar-header-row {
    display: none !important;
}

/* Selection Info and Action Buttons */
.oomp-enhanced-date-navigator-modal .selection-info,
.oomp-enhanced-date-navigator-modal .action-buttons {
    margin-top: .5em;
    text-align: center;
}

/* View Mode Dropdown */
.oomp-enhanced-date-navigator-modal .view-mode-container {
    display: flex;
    align-items: center;
    gap: 8px;
}

.oomp-enhanced-date-navigator-modal .view-mode-dropdown {
    min-width: 110px;
    padding: 4px 8px;
    border: 1px solid var(--background-modifier-border);
    border-radius: 4px;
    font-size: 12px;
    cursor: pointer;
    color: var(--text-normal);
    background: var(--background-primary);
    transition: all 0.15s ease;
}

.oomp-enhanced-date-navigator-modal .view-mode-dropdown:focus {
    outline: 2px solid var(--interactive-accent);
    outline-offset: 1px;
    border-color: var(--interactive-accent);
}

.oomp-enhanced-date-navigator-modal .view-mode-dropdown:hover {
    background: var(--background-modifier-hover);
    border-color: var(--background-modifier-border-hover);
}

.oomp-enhanced-date-navigator-modal .view-mode-dropdown option {
    padding: 4px;
    color: var(--text-normal);
    background: var(--background-primary);
}

/* Dual View Layout */
.oomp-enhanced-date-navigator-modal .dual-view {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
    padding: 12px;
    width: 100%;
}

/* Individual Month Containers in Dual View */
.oomp-enhanced-date-navigator-modal .oomp-dual-month {
    display: flex;
    flex-direction: column;
    background: var(--background-secondary);
    border: 1px solid var(--background-modifier-border);
    border-radius: 8px;
    padding: 12px;
    min-width: 0;
}

/* Dual Month Headers */
.oomp-enhanced-date-navigator-modal .oomp-dual-month-header {
    font-size: 14px;
    font-weight: 700;
    text-align: center;
    color: var(--text-normal);
    margin-bottom: 10px;
    padding: 6px 0;
    border-bottom: 1px solid var(--background-modifier-border);
}

/* Larger sizing for Dual View - we have more space than Quarter view */
.oomp-enhanced-date-navigator-modal .dual-view .oomp-compact-month-grid {
    gap: 4px; /* Increased from 3px */
}

.oomp-enhanced-date-navigator-modal .dual-view .oomp-compact-header-row {
    gap: 3px; /* Increased from 2px */
    margin-bottom: 6px; /* Increased from 4px */
}

.oomp-enhanced-date-navigator-modal .dual-view .oomp-compact-weekday {
    font-size: 12px; /* Increased from 11px */
    font-weight: 600;
    min-height: 24px; /* Increased from 20px */
    padding: 2px; /* Increased from 1px */
}

.oomp-enhanced-date-navigator-modal .dual-view .oomp-compact-days-container {
    gap: 3px; /* Increased from 2px */
}

.oomp-enhanced-date-navigator-modal .dual-view .oomp-compact-day {
    min-height: 24px; /* Increased from 18px */
    max-height: 28px; /* Increased from 20px */
    border-radius: 3px; /* Increased from 2px */
    font-size: 12px; /* Increased from 11px */
    padding: 2px; /* Increased from 1px */
}

.oomp-enhanced-date-navigator-modal .dual-view .oomp-compact-day-number {
    font-size: 11px; /* Increased from 10px */
    font-weight: 500;
}

/* Enhanced Mobile and Responsive Design */
@media (max-width: 768px) {
    /* Make modal responsive */
    .oomp-enhanced-date-navigator-modal {
        width: 95vw;
        max-width: 500px;
        height: auto !important;
        max-height: 90vh;
        padding: 12px;
    }
    
    /* Responsive navigation controls */
    .oomp-enhanced-date-navigator-modal .nav-header.optimized-nav-header {
        flex-wrap: wrap;
        gap: 6px;
        padding: 6px 8px;
    }
    
    /* Quarter view - single column */
    .oomp-enhanced-date-navigator-modal .quarter-view {
        grid-template-columns: 1fr;
        gap: 12px;
    }
    
    /* Dual view - single column on mobile */
    .oomp-enhanced-date-navigator-modal .dual-view {
        grid-template-columns: 1fr;
        gap: 16px;
    }
    
    /* Compact month containers */
    .oomp-enhanced-date-navigator-modal .oomp-quarter-month,
    .oomp-enhanced-date-navigator-modal .oomp-dual-month {
        padding: 8px;
    }
    
    /* Larger touch targets for mobile */
    .oomp-enhanced-date-navigator-modal .oomp-compact-day {
        min-height: 32px;
        max-height: 36px;
        font-size: 13px;
        padding: 2px;
    }
    
    .oomp-enhanced-date-navigator-modal .oomp-compact-day-number {
        font-size: 12px;
    }
    
    /* Larger weekday headers */
    .oomp-enhanced-date-navigator-modal .oomp-compact-weekday {
        min-height: 28px;
        font-size: 12px;
        padding: 3px;
    }
    
    /* Navigation dropdowns */
    .oomp-enhanced-date-navigator-modal .view-mode-dropdown,
    .oomp-enhanced-date-navigator-modal .year-picker {
        min-width: 80px;
        font-size: 11px;
        padding: 6px 8px;
    }
    
    /* Selection mode buttons */
    .oomp-enhanced-date-navigator-modal .selection-mode-btn {
        padding: 6px 10px;
        font-size: 11px;
        min-width: 50px;
    }
}

@media (max-width: 480px) {
    /* Extra small screens */
    .oomp-enhanced-date-navigator-modal {
        width: 98vw;
        padding: 8px;
    }
    
    /* Stack navigation controls vertically */
    .oomp-enhanced-date-navigator-modal .nav-header.optimized-nav-header {
        flex-direction: column;
        align-items: stretch;
        gap: 8px;
    }
    
    /* Smaller compact days */
    .oomp-enhanced-date-navigator-modal .oomp-compact-day {
        min-height: 28px;
        max-height: 32px;
        font-size: 12px;
    }
    
    .oomp-enhanced-date-navigator-modal .oomp-compact-day-number {
        font-size: 11px;
    }
    
    /* Smaller headers */
    .oomp-enhanced-date-navigator-modal .oomp-dual-month-header,
    .oomp-enhanced-date-navigator-modal .oomp-quarter-month-header {
        font-size: 13px;
        padding: 4px 0;
        margin-bottom: 8px;
    }
}

/* Landscape phone orientation */
@media (max-width: 768px) and (orientation: landscape) {
    .oomp-enhanced-date-navigator-modal {
        height: auto !important;
        max-height: 95vh;
    }
    
    /* Keep dual view as 2 columns in landscape */
    .oomp-enhanced-date-navigator-modal .dual-view {
        grid-template-columns: repeat(2, 1fr);
        gap: 12px;
    }
} 

/* =============================================================================
   COMPONENT: UNIFIED-TEST-SUITE (27.0 KB)
   ============================================================================= */
/* =============================================================================
   UNIFIED TEST SUITE - Complete Modal System & Configuration Components
   ============================================================================= */

/* Modal Container */
.modal:has(.unified-test-suite-modal) {
    contain: layout style;
    width: var(--modal-width);
    max-width: var(--modal-max-width);
    height: var(--modal-height);
    max-height: var(--modal-max-height);
    padding: 0;
}

.unified-test-suite-modal {
    display: flex;
    flex-direction: column;
    height: 100%;
    margin: 0;
    padding: var(--oom-spacing-sm);
}

/* Header & Description */
.unified-test-suite-header {
    margin-bottom: 0;
    margin-block-start: 0;
    padding-bottom: 0;
    text-align: center;
    font-size: var(--h1-size);
    font-weight: var(--h1-weight);
}

.unified-test-suite-description {
    margin-bottom: var(--oom-spacing-lg);
    text-align: center;
    line-height: var(--line-height-normal);
    color: var(--text-muted);
}

/* Two-Column Layout */
.unified-test-suite-container {
    display: flex;
    flex: 1;
    min-height: 0;
    overflow: hidden;
    gap: 0;
    border-radius: var(--oom-radius-md);
}

/* Sidebar Navigation */
.unified-test-suite-sidebar {
    display: flex;
    flex-direction: column;
    flex-shrink: 0;
    overflow-y: auto;
    width: var(--oom-tab-sidebar-width);
    min-width: var(--oom-tab-sidebar-width);
    padding: var(--oom-spacing-sm) 0;
    scrollbar-width: thin;
}

.unified-test-suite-sidebar::-webkit-scrollbar {
    width: 8px;
}

.unified-test-suite-sidebar::-webkit-scrollbar-track {
    /* Let theme handle scrollbar track styling */
}

.unified-test-suite-sidebar::-webkit-scrollbar-thumb {
    border-radius: var(--oom-radius-sm);
    /* Let theme handle scrollbar thumb styling */
}

.unified-test-suite-sidebar::-webkit-scrollbar-thumb:hover {
    /* Let theme handle scrollbar hover styling */
}

/* Tab Group Headers */
.unified-test-suite-tab-group-title {
    margin: var(--oom-spacing-sm) 0 var(--oom-spacing-xs) 0;
    padding: 0 .32em;
    font-weight: 700;
    font-size: var(--font-ui-smaller);
    letter-spacing: 0.05rem;
    text-transform: uppercase;
}

.unified-test-suite-tab-group-title:first-child {
    margin-top: 0;
}

/* Tab Navigation Items */
.unified-test-suite-tab-nav-item {
    display: flex;
    align-items: center;
    padding: .45em 0;
    gap: var(--oom-spacing-sm);
    border-left: 3px solid transparent;
    cursor: pointer;
    transition: all var(--oom-transition-fast);
}

.unified-test-suite-tab-nav-item:hover {
    /* Let theme handle hover styling */
}

.unified-test-suite-tab-nav-item:focus {
    outline: none;
    /* Let theme handle focus styling */
}

.unified-test-suite-tab-nav-item.is-active {
    font-weight: 600;
    /* Let theme handle active state colors */
}

.unified-test-suite-tab-label {
    /* Inherits from the navigation item styling */
}

/* Content Area */
.unified-test-suite-content {
    flex: 1;
    min-height: 0;
    overflow-y: auto;
    padding: 0 1em;
    scrollbar-width: thin;
}

.unified-test-suite-content::-webkit-scrollbar {
    width: 8px;
}

.unified-test-suite-content::-webkit-scrollbar-track {
    /* Let theme handle scrollbar track styling */
}

.unified-test-suite-content::-webkit-scrollbar-thumb {
    border-radius: var(--oom-radius-sm);
    /* Let theme handle scrollbar thumb styling */
}

.unified-test-suite-content::-webkit-scrollbar-thumb:hover {
    /* Let theme handle scrollbar hover styling */
}

/* Content Headers */
.unified-test-suite-content-header {
    margin-bottom: var(--oom-spacing-md);
    font-size: var(--h2-size);
    font-weight: var(--h2-weight);
}

.unified-test-suite-content-description {
    margin-bottom: var(--oom-spacing-lg);
    line-height: var(--line-height-normal);
    color: var(--text-muted);
}

/* Dashboard Components */
.unified-test-suite-dashboard-stats {
    display: flex;
    flex-wrap: wrap;
    gap: var(--oom-spacing-md);
    margin-bottom: var(--oom-spacing-lg);
}

.unified-test-suite-stat-widget {
    flex: 1;
    min-width: 120px;
    padding: var(--oom-spacing-md);
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--oom-radius-md);
    background: var(--background-secondary);
}

.unified-test-suite-stat-label {
    margin-bottom: var(--oom-spacing-xs);
    color: var(--text-muted);
    font-size: var(--font-ui-smaller);
}

.unified-test-suite-stat-value {
    color: var(--text-normal);
    font-size: var(--h3-size);
    font-weight: 600;
}

.unified-test-suite-dashboard-actions {
    margin-top: var(--oom-spacing-lg);
}

.unified-test-suite-dashboard-actions h3 {
    margin-bottom: var(--oom-spacing-md);
    font-size: var(--h3-size);
}

/* Action Buttons */
.unified-test-suite-action-button {
    display: inline-flex;
    align-items: center;
    gap: var(--oom-spacing-sm);
    padding: var(--oom-spacing-sm) var(--oom-spacing-md);
    margin-right: var(--oom-spacing-sm);
    margin-bottom: var(--oom-spacing-sm);
    border: none;
    border-radius: var(--oom-radius-sm);
    cursor: pointer;
    transition: background-color var(--oom-transition-fast);
    color: var(--text-on-accent);
    background: var(--interactive-normal);
}

.unified-test-suite-action-button:hover {
    background: var(--interactive-hover);
}

.unified-test-suite-test-button,
.unified-test-suite-utility-button {
    display: block;
    width: 100%;
    padding: var(--oom-spacing-sm) var(--oom-spacing-md);
    margin-bottom: var(--oom-spacing-xs);
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--oom-radius-sm);
    cursor: pointer;
    transition: all var(--oom-transition-fast);
    background: var(--background-secondary);
    color: var(--text-normal);
}

.unified-test-suite-test-button:hover,
.unified-test-suite-utility-button:hover {
    background: var(--background-modifier-hover);
    border-color: var(--background-modifier-border-hover);
}

.unified-test-suite-quick-test-button {
    display: inline-block;
    padding: var(--oom-spacing-sm) var(--oom-spacing-md);
    margin-right: var(--oom-spacing-sm);
    margin-bottom: var(--oom-spacing-sm);
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--oom-radius-sm);
    cursor: pointer;
    transition: all var(--oom-transition-fast);
    background: var(--background-secondary);
    color: var(--text-normal);
}

.unified-test-suite-quick-test-button:hover {
    background: var(--background-modifier-hover);
    border-color: var(--background-modifier-border-hover);
}

/* Test Areas */
.unified-test-suite-test-controls {
    margin: var(--oom-spacing-lg) 0;
    padding: var(--oom-spacing-md);
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--oom-radius-md);
    background: var(--background-secondary);
}

.unified-test-suite-test-results {
    margin-top: var(--oom-spacing-lg);
}

.unified-test-suite-results-area {
    padding: var(--oom-spacing-md);
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--oom-radius-md);
    background: var(--background-primary-alt);
}

/* Quick Tests */
.unified-test-suite-quick-tests {
    margin: var(--oom-spacing-lg) 0;
}

.unified-test-suite-quick-tests h3 {
    margin-bottom: var(--oom-spacing-md);
    font-size: var(--h3-size);
}

.unified-test-suite-custom-test {
    margin-top: var(--oom-spacing-lg);
    padding: var(--oom-spacing-md);
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--oom-radius-md);
    background: var(--background-secondary);
}

.unified-test-suite-custom-test h3 {
    margin-bottom: var(--oom-spacing-md);
    font-size: var(--h4-size);
}

/* Memory/Scaling Tests */
.unified-test-suite-memory-tests,
.unified-test-suite-scaling-tests {
    margin: var(--oom-spacing-lg) 0;
}

.unified-test-suite-memory-tests h3,
.unified-test-suite-scaling-tests h3 {
    margin-bottom: var(--oom-spacing-md);
    font-size: var(--h3-size);
}

/* Utilities Container */
.unified-test-suite-utilities-container {
    display: flex;
    flex-direction: column;
    gap: var(--oom-spacing-lg);
}

.unified-test-suite-utility-description {
    margin-bottom: 1rem;
    line-height: 1.4;
    font-size: 0.9rem;
}

.unified-test-suite-utility-section {
    padding: var(--oom-spacing-md);
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--oom-radius-md);
    background: var(--background-secondary);
}

.unified-test-suite-utility-section h3 {
    margin-bottom: var(--oom-spacing-md);
    color: var(--text-normal);
    font-size: var(--h4-size);
}

/* Folder Configuration */
.unified-test-suite-folder-config {
    margin-bottom: 1.5rem;
    padding: 1rem;
    border: 1px solid var(--background-modifier-border);
    border-radius: 6px;
    background: var(--background-secondary);
}

.unified-test-suite-folder-input {
    width: 100%;
    padding: 0.5rem;
    border: 1px solid var(--background-modifier-border);
    border-radius: 4px;
    background: var(--background-primary);
    color: var(--text-normal);
    font-family: var(--font-monospace);
    margin-top: 0.5rem;
}

.unified-test-suite-folder-input:focus {
    outline: none;
    border-color: var(--interactive-accent);
    box-shadow: 0 0 0 2px var(--interactive-accent-hover);
}

.unified-test-suite-generation-buttons {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 0.75rem;
    margin-bottom: 1rem;
}

/* Template Configuration */
.unified-test-suite-template-config {
    margin: var(--oom-spacing-md) 0;
    padding: var(--oom-spacing-md);
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--oom-radius-md);
    background: var(--background-secondary);
}

.unified-test-suite-template-input {
    width: 100%;
    padding: var(--oom-spacing-sm) var(--oom-spacing-md);
    margin: var(--oom-spacing-xs) 0;
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--oom-radius-sm);
    background: var(--background-primary);
    color: var(--text-normal);
    font-size: var(--font-ui-medium);
}

.unified-test-suite-template-input:focus {
    outline: none;
    border-color: var(--interactive-accent);
    box-shadow: 0 0 0 2px var(--interactive-accent-hover);
}

.unified-test-suite-browse-button {
    padding: var(--oom-spacing-sm) var(--oom-spacing-md);
    margin-top: var(--oom-spacing-sm);
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--oom-radius-sm);
    background: var(--background-secondary);
    color: var(--text-normal);
    cursor: pointer;
    transition: all var(--oom-transition-fast);
}

.unified-test-suite-browse-button:hover {
    background: var(--background-modifier-hover);
}

/* Template Selector Dialog */
.unified-test-suite-template-selector-dialog {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 400px;
    max-height: 500px;
    padding: var(--oom-spacing-lg);
    border: 2px solid var(--interactive-accent);
    border-radius: var(--oom-radius-md);
    background: var(--background-primary);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    z-index: 1000;
}

.unified-test-suite-template-selector-dialog h4 {
    margin: 0 0 var(--oom-spacing-md) 0;
    color: var(--interactive-accent);
    font-weight: 600;
}

.unified-test-suite-template-list {
    max-height: 300px;
    overflow-y: auto;
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--oom-radius-sm);
}

.unified-test-suite-template-list::-webkit-scrollbar {
    width: 8px;
}

.unified-test-suite-template-list::-webkit-scrollbar-track {
    background: var(--background-secondary);
}

.unified-test-suite-template-list::-webkit-scrollbar-thumb {
    background: var(--background-modifier-border);
    border-radius: 4px;
}

.unified-test-suite-template-list::-webkit-scrollbar-thumb:hover {
    background: var(--background-modifier-border-hover);
}

.unified-test-suite-template-option {
    padding: var(--oom-spacing-sm) var(--oom-spacing-md);
    border-bottom: 1px solid var(--background-modifier-border);
    cursor: pointer;
    transition: background-color var(--oom-transition-fast);
}

.unified-test-suite-template-option:last-child {
    border-bottom: none;
}

.unified-test-suite-template-option:hover {
    background: var(--background-modifier-hover);
}

.unified-test-suite-template-option span {
    color: var(--text-normal);
    font-size: var(--font-ui-medium);
    word-break: break-all;
}

.unified-test-suite-template-close {
    padding: var(--oom-spacing-sm) var(--oom-spacing-lg);
    background: var(--background-modifier-border);
    color: var(--text-normal);
    border: none;
    border-radius: var(--oom-radius-sm);
    cursor: pointer;
    font-size: var(--font-ui-medium);
    transition: background-color var(--oom-transition-normal);
}

.unified-test-suite-template-close:hover {
    background: var(--background-modifier-border-hover);
}

/* Help Content */
.unified-test-suite-help-content {
    max-width: none;
    line-height: var(--line-height-normal);
}

.unified-test-suite-help-content h3 {
    margin: var(--oom-spacing-lg) 0 var(--oom-spacing-md) 0;
    font-size: var(--h3-size);
}

.unified-test-suite-help-content h4 {
    margin: var(--oom-spacing-md) 0 var(--oom-spacing-sm) 0;
    font-size: var(--h4-size);
}

.unified-test-suite-help-content p {
    margin-bottom: var(--oom-spacing-md);
    color: var(--text-normal);
}

.unified-test-suite-help-content ul {
    margin: var(--oom-spacing-sm) 0 var(--oom-spacing-md) var(--oom-spacing-lg);
}

.unified-test-suite-help-content li {
    margin-bottom: var(--oom-spacing-xs);
    color: var(--text-normal);
}

.unified-test-suite-help-content code {
    padding: 2px 4px;
    border-radius: var(--oom-radius-xs);
    background: var(--background-primary-alt);
    font-family: var(--font-monospace);
}

/* Recent Results */
.unified-test-suite-recent-results {
    margin-top: var(--oom-spacing-xl);
}

.unified-test-suite-recent-results h3 {
    margin-bottom: var(--oom-spacing-md);
    font-size: var(--h3-size);
}

.unified-test-suite-results-list {
    display: flex;
    flex-direction: column;
    gap: var(--oom-spacing-sm);
}

.unified-test-suite-result-item {
    padding: var(--oom-spacing-sm);
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--oom-radius-sm);
    border-left-width: 4px;
    background: var(--background-secondary);
}

.unified-test-suite-result-success {
    border-left-color: var(--color-green);
}

.unified-test-suite-result-failure {
    border-left-color: var(--color-red);
}

.unified-test-suite-result-warning {
    border-left-color: var(--color-orange);
}

.unified-test-suite-result-running {
    border-left-color: var(--color-blue);
}

.unified-test-suite-result-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--oom-spacing-xs);
}

.unified-test-suite-result-name {
    font-weight: 600;
}

.unified-test-suite-result-status {
    padding: 2px 8px;
    border-radius: var(--oom-radius-xs);
    font-size: var(--font-ui-smaller);
    font-weight: 600;
    text-transform: uppercase;
}

.unified-test-suite-result-success .unified-test-suite-result-status {
    background: var(--color-green);
    color: white;
}

.unified-test-suite-result-failure .unified-test-suite-result-status {
    background: var(--color-red);
    color: white;
}

.unified-test-suite-result-warning .unified-test-suite-result-status {
    background: var(--color-orange);
    color: white;
}

.unified-test-suite-result-running .unified-test-suite-result-status {
    background: var(--color-blue);
    color: white;
}

.unified-test-suite-result-duration,
.unified-test-suite-result-details {
    font-size: var(--font-ui-smaller);
    color: var(--text-muted);
}

/* Data Table */
.unified-test-suite-data-table {
    margin: var(--oom-spacing-lg) 0;
}

.unified-test-suite-data-table table {
    width: 100%;
    border-collapse: collapse;
    border-spacing: 0;
}

.unified-test-suite-data-table th,
.unified-test-suite-data-table td {
    padding: var(--oom-spacing-sm);
    border-bottom: 1px solid var(--background-modifier-border);
    text-align: left;
}

.unified-test-suite-data-table th {
    background: var(--background-secondary);
    color: var(--text-normal);
    font-weight: 600;
}

.unified-test-suite-data-table td {
    color: var(--text-normal);
}

.unified-test-suite-data-table tr:hover {
    background: var(--background-modifier-hover);
}

/* Item Actions */
.unified-test-suite-item-actions {
    display: flex;
    gap: var(--oom-spacing-sm);
    margin-top: var(--oom-spacing-lg);
}

.unified-test-suite-item-actions button {
    padding: var(--oom-spacing-sm) var(--oom-spacing-md);
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--oom-radius-sm);
    background: var(--background-secondary);
    color: var(--text-normal);
    cursor: pointer;
    transition: all var(--oom-transition-fast);
}

.unified-test-suite-item-actions button:hover {
    background: var(--background-modifier-hover);
}

.unified-test-suite-item-actions button.mod-warning {
    border-color: var(--background-modifier-error);
    background: var(--background-modifier-error);
    color: var(--text-error);
}

/* Logging Settings */
.unified-test-suite-logging-settings {
    margin-bottom: 1.5rem;
    padding: 1rem;
    border-radius: 6px;
    border: 1px solid var(--background-modifier-border);
    background: var(--background-secondary);
}

.unified-test-suite-setting-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 1rem;
}

.unified-test-suite-setting-label {
    min-width: 180px;
    font-weight: 500;
    color: var(--text-normal);
}

.unified-test-suite-log-level-select {
    flex: 1;
    padding: 0.5rem;
    border: 1px solid var(--background-modifier-border);
    border-radius: 4px;
    background: var(--background-primary);
    color: var(--text-normal);
    transition: all var(--oom-transition-fast);
}

.unified-test-suite-log-level-select:hover {
    border-color: var(--background-modifier-border-hover);
}

.unified-test-suite-log-level-select:focus {
    outline: none;
    border-color: var(--interactive-accent);
    box-shadow: 0 0 0 2px var(--interactive-accent-hover);
}

.unified-test-suite-setting-helper {
    margin-top: 0.5rem;
}

.unified-test-suite-helper-text {
    color: var(--text-muted);
    font-size: 0.9rem;
    margin: 0;
}

.unified-test-suite-logging-testing,
.unified-test-suite-performance-testing {
    margin: var(--oom-spacing-lg) 0;
}

/* Custom Dialog Container */
.oomp-unified-test-suite-custom-dialog {
    max-width: 800px;
    width: 90vw;
    max-height: 80vh;
    overflow-y: auto;
    padding: 1.5rem;
    border-radius: 8px;
    background: var(--background-primary);
    border: 1px solid var(--background-modifier-border);
    box-shadow: var(--shadow-l);
}

/* Configuration Sections */
.oomp-unified-test-suite-config-section {
    margin-bottom: 2rem;
    padding: 1rem;
    border: 1px solid var(--background-modifier-border);
    border-radius: 6px;
    background: var(--background-secondary);
}

.oomp-unified-test-suite-config-section h5 {
    margin: 0 0 1rem 0;
    color: var(--text-accent);
    font-weight: 600;
    font-size: 1.1rem;
}

.oomp-unified-test-suite-config-section h6 {
    margin: 0 0 0.75rem 0;
    color: var(--text-normal);
    font-weight: 500;
    font-size: 1rem;
}

/* Setting Items */
.oomp-unified-test-suite-setting-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 1rem;
}

.oomp-unified-test-suite-setting-item label {
    min-width: 180px;
    font-weight: 500;
    color: var(--text-normal);
}

.oomp-unified-test-suite-setting-item input,
.oomp-unified-test-suite-setting-item select {
    flex: 1;
    padding: 0.5rem;
    border: 1px solid var(--background-modifier-border);
    border-radius: 4px;
    background: var(--background-primary);
    color: var(--text-normal);
}

/* Template Preview */
.oomp-unified-test-suite-template-preview {
    margin-top: 1rem;
    padding: 1rem;
    border: 1px solid var(--background-modifier-border);
    border-radius: 4px;
    background: var(--background-primary);
}

.oomp-unified-test-suite-template-preview-content {
    margin: 0.5rem 0 0 0;
    font-size: 0.9rem;
    color: var(--text-muted);
    background: var(--code-background);
    padding: 0.75rem;
    border-radius: 4px;
    white-space: pre-wrap;
    overflow-x: auto;
}

/* Metrics Info & Help Text */
.oomp-unified-test-suite-metrics-info {
    margin-bottom: 1rem;
}

.oomp-unified-test-suite-help-text {
    color: var(--text-muted);
    font-size: 0.9rem;
    margin: 0;
}

.oomp-unified-test-suite-metrics-group {
    margin-bottom: 1.5rem;
}

/* Metrics Container & Items */
.oomp-unified-test-suite-metrics-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 0.75rem;
    margin-bottom: 1rem;
}

.oomp-unified-test-suite-metric-item {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
    padding: 0.75rem;
    border: 1px solid var(--background-modifier-border);
    border-radius: 4px;
    background: var(--background-primary);
}

.oomp-unified-test-suite-metric-item label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-weight: 500;
    color: var(--text-normal);
    cursor: pointer;
    min-width: auto;
}

.oomp-unified-test-suite-metric-item input[type="checkbox"] {
    margin: 0;
    width: 16px;
    height: 16px;
    flex: none;
    appearance: checkbox;
    -webkit-appearance: checkbox;
    border-radius: 3px;
}

.oomp-unified-test-suite-metric-item input[type="checkbox"]:checked {
    background: var(--interactive-accent);
    border-color: var(--interactive-accent);
}

.oomp-unified-test-suite-metric-item input[type="checkbox"]:checked::after {
    content: '✓';
    position: absolute;
    top: -1px;
    left: 2px;
    color: var(--text-on-accent);
    font-size: 12px;
    font-weight: bold;
}

.oomp-unified-test-suite-metric-description {
    font-size: 0.85rem;
    color: var(--text-muted);
    margin-left: 1.25rem;
}

/* Quick Selection */
.oomp-unified-test-suite-quick-select {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
    margin-top: 1rem;
}

.oomp-unified-test-suite-quick-btn {
    padding: 0.375rem 0.75rem;
    background: var(--interactive-normal);
    color: var(--text-normal);
    border: 1px solid var(--background-modifier-border);
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.9rem;
    transition: all 0.1s ease;
}

.oomp-unified-test-suite-quick-btn:hover {
    background: var(--interactive-hover);
}

/* Dialog Actions */
.oomp-unified-test-suite-dialog-buttons {
    display: flex;
    gap: 0.75rem;
    justify-content: flex-end;
    margin-top: 2rem;
    padding-top: 1rem;
    border-top: 1px solid var(--background-modifier-border);
}

.oomp-unified-test-suite-preview-btn {
    padding: 0.5rem 1rem;
    background: var(--interactive-normal);
    color: var(--text-normal);
    border: 1px solid var(--background-modifier-border);
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.1s ease;
}

.oomp-unified-test-suite-preview-btn:hover {
    background: var(--interactive-hover);
}

/* Collapsible Sections */
.unified-test-suite-collapsible-section {
    margin: 1rem 0;
    border: 1px solid var(--background-modifier-border);
    border-radius: 6px;
    background: var(--background-secondary);
}

.unified-test-suite-collapsible-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.75rem 1rem;
    cursor: pointer;
    background: var(--background-secondary);
    border-radius: 6px 6px 0 0;
    transition: background 0.1s ease;
}

.unified-test-suite-collapsible-header:hover {
    background: var(--background-modifier-hover);
}

.unified-test-suite-collapsible-header h3 {
    margin: 0;
    font-size: 1rem;
    font-weight: 500;
    color: var(--text-normal);
}

.unified-test-suite-toggle {
    font-size: 0.9rem;
    color: var(--text-muted);
    transition: transform 0.2s ease;
}

.unified-test-suite-collapsible-content {
    padding: 1rem;
    border-top: 1px solid var(--background-modifier-border);
    background: var(--background-primary);
}

/* Mobile Responsive Design */
@media (max-width: 768px) {
    .oomp-unified-test-suite-custom-dialog {
        width: 95vw;
        padding: 1rem;
    }
    
    .oomp-unified-test-suite-setting-item {
        flex-direction: column;
        align-items: flex-start;
    }
    
    .oomp-unified-test-suite-setting-item label {
        min-width: auto;
    }
    
    .oomp-unified-test-suite-metrics-container {
        grid-template-columns: 1fr;
    }
    
    .oomp-unified-test-suite-dialog-buttons {
        flex-direction: column;
    }
}

/* Responsive Design */
@media screen and (max-width: var(--oom-breakpoint-tablet)) {
    .unified-test-suite-container {
        flex-direction: column;
    }

    .unified-test-suite-sidebar {
        width: 100%;
        min-width: 100%;
        max-height: 200px;
        padding: var(--oom-spacing-sm);
        border-bottom: 1px solid var(--background-modifier-border);
    }

    .unified-test-suite-tab-nav-item {
        padding: var(--oom-spacing-sm);
        border-left: none;
        border-bottom: 2px solid transparent;
    }

    .unified-test-suite-dashboard-stats {
        flex-direction: column;
    }

    .unified-test-suite-quick-test-button {
        display: block;
        margin-right: 0;
        margin-bottom: var(--oom-spacing-sm);
    }
}

@media screen and (max-width: var(--oom-breakpoint-mobile)) {
    .unified-test-suite-modal {
        padding: var(--oom-spacing-xs);
    }

    .unified-test-suite-content {
        padding: 0 var(--oom-spacing-sm);
    }

    .unified-test-suite-action-button {
        display: block;
        width: 100%;
        margin-right: 0;
        margin-bottom: var(--oom-spacing-sm);
    }

    .unified-test-suite-item-actions {
        flex-direction: column;
    }

    .unified-test-suite-utility-section {
        padding: var(--oom-spacing-sm);
    }

    .unified-test-suite-result-header {
        flex-direction: column;
        align-items: flex-start;
    }
} 

/* =============================================================================
   COMPONENT: METRICS-CHARTS (29.7 KB)
   ============================================================================= */
/* =============================================================================
   OneiroMetrics Charts & Visualization Component
   Complete chart system including tabs, heatmaps, Chart.js integration, and metrics visualization
   ============================================================================= */

/* =============================================================================
   ENHANCED CHART TOOLBAR SYSTEM
   ============================================================================= */

.oom-chart-toolbar {
    display: flex;
    min-height: 40px;
    margin-bottom: 12px;
    padding: 8px 12px;
    align-items: center;
    border: 1px solid var(--background-modifier-border);
    border-radius: 6px;
    justify-content: space-between;
    background: var(--background-secondary);
}

.oom-chart-title {
    margin: 0;
    font-size: 14px;
    font-weight: 600;
    /* NO VISUAL STYLING - Let theme handle */
}

.oom-chart-content {
    flex: 1;
}

/* Statistics Tab Specific - No title in toolbar, just export button */
.oom-chart-container:has(.oom-chart-content table) .oom-chart-toolbar {
    justify-content: flex-end;
}

/* =============================================================================
   ENHANCED HEATMAP CONTROLS
   ============================================================================= */

.oom-heatmap-controls {
    display: flex;
    align-items: center;
    gap: 12px;
    flex-wrap: wrap;
    margin-bottom: 16px;
    padding: 8px 12px;
    border: 1px solid var(--background-modifier-border);
    border-radius: 6px;
    background: var(--background-secondary);
}

.oom-heatmap-label {
    font-size: 13px;
    font-weight: 500;
    color: var(--text-normal);
    white-space: nowrap;
}

.oom-heatmap-selector {
    flex: 1;
    min-width: 150px;
    padding: 6px 10px;
    border: 1px solid var(--background-modifier-border);
    border-radius: 4px;
    font-size: 13px;
    background: var(--background-primary);
    color: var(--text-normal);
    cursor: pointer;
    transition: all 0.2s ease;
}

.oom-heatmap-selector:focus {
    outline: none;
    box-shadow: 0 0 0 2px rgba(var(--interactive-accent-rgb), 0.2);
    border-color: var(--interactive-accent);
}

.oom-heatmap-selector:hover {
    background: var(--background-modifier-hover);
    border-color: var(--background-modifier-border-hover);
}

.oom-heatmap-calendar {
    display: flex;
    flex-direction: column;
    gap: 16px;
    width: 100%;
    max-width: 100%;
    overflow-x: auto;
}

.oom-metric-selector {
    flex: 1;
    min-width: 200px;
    padding: 6px 10px;
    border: 1px solid var(--background-modifier-border);
    border-radius: 4px;
    font-size: 13px;
    /* NO VISUAL STYLING - Let theme handle */
    background: var(--background-primary);
}

.oom-metric-selector:focus {
    outline: none;
    box-shadow: 0 0 0 2px rgba(var(--interactive-accent-rgb), 0.2);
    border-color: var(--interactive-accent);
}

/* =============================================================================
   EXPORT ERROR NOTIFICATIONS SYSTEM
   ============================================================================= */

.oom-export-error {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 1000;
    max-width: 400px;
    animation: slideInFromRight 0.3s ease-out;
}

.oom-export-error-content {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 12px 16px;
    border: 1px solid var(--color-red);
    border-radius: 6px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    /* NO VISUAL STYLING - Let theme handle */
    background: var(--background-primary);
}

.oom-export-error-icon {
    flex-shrink: 0;
    font-size: 16px;
}

.oom-export-error-message {
    flex: 1;
    line-height: 1.4;
    font-size: 13px;
}

.oom-export-error-close {
    display: flex;
    height: 20px;
    width: 20px;
    padding: 0;
    border: none;
    cursor: pointer;
    transition: all 0.2s ease;
    border-radius: 50%;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    font-weight: bold;
    /* NO VISUAL STYLING - Let theme handle */
    background: none;
}

.oom-export-error-close:hover {
    /* NO VISUAL STYLING - Let theme handle */
    background: var(--background-modifier-hover);
}

/* Success notification variant */
.oom-export-success .oom-export-error-content {
    border-color: var(--color-green);
    /* NO VISUAL STYLING - Let theme handle */
}

/* Animation for error notifications */
@keyframes slideInFromRight {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

/* =============================================================================
   INSIGHTS TAB ANALYTICS SYSTEM
   ============================================================================= */

.oom-insights-content {
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: 20px;
    max-height: 70vh;
    overflow-y: auto;
}

.oom-insights-section {
    background: var(--background-primary);
    border: 1px solid var(--background-modifier-border);
    border-radius: 8px;
    padding: 16px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    transition: box-shadow 0.2s ease;
}

.oom-insights-section:hover {
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
}

.oom-insights-header {
    margin: 0 0 12px 0;
    font-size: 16px;
    font-weight: 600;
    /* NO VISUAL STYLING - Let theme handle */
    border-bottom: 2px solid var(--background-modifier-border);
    padding-bottom: 8px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.oom-insight-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 0;
    border-bottom: 1px solid var(--background-modifier-border-hover);
    gap: 12px;
}

.oom-insight-item:last-child {
    border-bottom: none;
    padding-bottom: 0;
}

.oom-insight-label {
    font-weight: 500;
    /* NO VISUAL STYLING - Let theme handle */
    flex: 1;
    font-size: 14px;
}

.oom-insight-value {
    max-width: 60%;
    font-weight: 600;
    text-align: right;
    font-size: 14px;
    word-wrap: break-word;
    /* NO VISUAL STYLING - Let theme handle */
}

/* Trend indicators */
.oom-trend-positive {
    color: var(--color-green);
}

.oom-trend-negative {
    color: var(--color-red);
}

.oom-trend-stable {
    /* NO VISUAL STYLING - Let theme handle */
}

/* Outlier indicators */
.oom-outlier-high {
    font-weight: 700;
    color: var(--color-orange);
}

.oom-outlier-low {
    font-weight: 700;
    color: var(--color-blue);
}

/* Correlation strength indicators */
.oom-correlation-strong {
    font-weight: 700;
    color: var(--color-purple);
}

.oom-correlation-moderate {
    font-weight: 600;
    color: var(--color-cyan);
}

/* Empty and error states */
.oom-insights-empty,
.oom-insights-error {
    padding: 40px 20px;
    border-radius: 8px;
    border: 2px dashed var(--background-modifier-border);
    text-align: center;
    font-style: italic;
    /* NO VISUAL STYLING - Let theme handle */
    background: var(--background-secondary);
}

.oom-insights-error {
    border-color: var(--color-red);
    color: var(--color-red);
    background: rgba(var(--color-red-rgb), 0.1);
}

/* =============================================================================
   ADVANCED CHART CONTROLS WITH NESTING AND :has()
   ============================================================================= */

.oom-chart-container {
    /* Chart type selector */
    .oom-chart-type-selector {
        display: flex;
        align-items: center;
        gap: 8px;
        margin: 0 12px;

        .oom-chart-selector-label {
            white-space: nowrap;
            font-size: 12px;
            font-weight: 500;
            /* NO VISUAL STYLING - Let theme handle */
        }

        .oom-chart-selector {
            min-width: 120px;
            padding: 4px 8px;
            border: 1px solid var(--background-modifier-border);
            border-radius: 4px;
            font-size: 12px;
            /* NO VISUAL STYLING - Let theme handle */
            background: var(--background-primary);

            &:hover {
                border-color: var(--background-modifier-border-hover);
                transform: translateY(-1px);
                transition: transform 0.2s ease;
            }

            &:focus {
                outline: none;
                border-color: var(--interactive-accent);
                box-shadow: 0 0 0 2px rgba(var(--interactive-accent-rgb), 0.2);
            }
        }
    }

    /* Smoothing toggle */
    .oom-chart-toggle {
        display: flex;
        align-items: center;
        gap: 6px;
        margin: 0 12px;

        input[type="checkbox"] {
            width: 14px;
            height: 14px;
            margin: 0;
            accent-color: var(--interactive-accent);
        }

        label {
            margin: 0;
            cursor: pointer;
            font-size: 12px;
            font-weight: 500;
            /* NO VISUAL STYLING - Let theme handle */
        }

        &:hover label {
            /* NO VISUAL STYLING - Let theme handle */
        }
    }

    /* Correlation threshold controls */
    .oom-correlation-threshold {
        display: flex;
        align-items: center;
        gap: 8px;
        margin: 0 12px;

        .oom-threshold-label {
            white-space: nowrap;
            font-size: 12px;
            font-weight: 500;
            /* NO VISUAL STYLING - Let theme handle */
        }

        .oom-threshold-slider {
            width: 80px;
            height: 4px;
            border-radius: 2px;
            outline: none;
            -webkit-appearance: none;
            appearance: none;
            background: var(--background-modifier-border);

            &:hover {
                transform: translateY(-1px);
                transition: transform 0.2s ease;
            }

            &::-webkit-slider-thumb {
                -webkit-appearance: none;
                appearance: none;
                width: 14px;
                height: 14px;
                border-radius: 50%;
                cursor: pointer;
                border: 2px solid var(--background-primary);
                box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
                background: var(--interactive-accent);
            }
        }

        .oom-threshold-value {
            min-width: 24px;
            padding: 2px 6px;
            border-radius: 3px;
            border: 1px solid var(--background-modifier-border);
            text-align: center;
            font-size: 12px;
            font-weight: 600;
            /* NO VISUAL STYLING - Let theme handle */
            background: var(--background-modifier-form-field);
        }
    }

    /* Chart toolbar */
    .oom-chart-toolbar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        flex-wrap: wrap;
        gap: 8px;
        min-height: 48px;
        padding: 12px 16px;
        border-bottom: 1px solid var(--background-modifier-border);
        background: var(--background-secondary);

        .oom-chart-title {
            flex-shrink: 0;
            margin: 0;
            font-size: 16px;
            font-weight: 600;
            /* NO VISUAL STYLING - Let theme handle */
        }

        .oom-chart-controls {
            display: flex;
            align-items: center;
            gap: 12px;
            flex-wrap: wrap;
        }
    }

    /* Enhanced chart canvas */
    .oom-chart-canvas {
        min-height: 400px;
        max-height: 600px;
    }

    /* Loading state */
    &.oom-chart-container--loading {
        .oom-chart-canvas {
            opacity: 0.6;
            pointer-events: none;
        }

        &::after {
            position: absolute;
            top: 50%;
            left: 50%;
            z-index: 10;
            padding: 8px 16px;
            content: "Loading chart...";
            transform: translate(-50%, -50%);
            border-radius: 4px;
            border: 1px solid var(--background-modifier-border);
            font-size: 12px;
            /* NO VISUAL STYLING - Let theme handle */
            background: var(--background-primary);
        }
    }

    /* Special styling when container has correlation controls */
    &:has(.oom-correlation-threshold) {
        .oom-chart-toolbar {
            background: linear-gradient(135deg, var(--background-secondary), var(--background-modifier-hover));
        }
    }

    /* Box plot info styling when box plot is present */
    &:has(.oom-chart-selector option[value="box"]:checked) {
        .oom-box-plot-info {
            position: absolute;
            top: 8px;
            right: 8px;
            padding: 6px 8px;
            border: 1px solid var(--background-modifier-border);
            border-radius: 4px;
            pointer-events: none;
            font-size: 10px;
            /* NO VISUAL STYLING - Let theme handle */
            background: var(--background-primary);
        }
    }
}

/* =============================================================================
   CORRELATION MATRIX & TREND DECOMPOSITION
   ============================================================================= */

.oom-correlation-matrix {
    position: relative;

    .oom-correlation-legend {
        display: flex;
        gap: 12px;
        margin: 8px 0;
        align-items: center;
        justify-content: center;
        font-size: 11px;
        /* NO VISUAL STYLING - Let theme handle */

        .oom-correlation-legend-item {
            display: flex;
            align-items: center;
            gap: 4px;

            .oom-correlation-legend-color {
                width: 12px;
                height: 12px;
                border-radius: 2px;

                &.oom-correlation-legend-positive {
                    background: rgba(0, 100, 255, 0.7);
                }

                &.oom-correlation-legend-negative {
                    background: rgba(255, 100, 0, 0.7);
                }
            }
        }
    }
}

.oom-trend-decomposition {
    .oom-trend-decomposition-legend {
        display: flex;
        gap: 12px;
        margin: 8px 0;
        align-items: center;
        justify-content: center;
        font-size: 11px;
        /* NO VISUAL STYLING - Let theme handle */

        .oom-trend-decomposition-item {
            display: flex;
            align-items: center;
            gap: 4px;

            .oom-trend-line-original {
                width: 16px;
                height: 2px;
                background: var(--color-blue);
            }

            .oom-trend-line-trend {
                width: 16px;
                height: 2px;
                background: var(--color-green);
            }

            .oom-trend-line-residual {
                width: 16px;
                height: 2px;
                background: var(--color-red);
            }
        }
    }
}

/* Chart transition animation */
.oom-chart-transition {
    transition: all 0.3s ease;
}

/* =============================================================================
   TAB-BASED CHART SYSTEM
   ============================================================================= */

.oom-metrics-chart-tabs-container {
    display: flex;
    flex-direction: column;
    height: 100%;
    width: 100%;
    /* NO VISUAL STYLING - Let theme handle container styling */
}

.oom-metrics-chart-tabs-nav {
    display: flex;
    flex-shrink: 0; /* Prevent navigation from shrinking */
    /* NO VISUAL STYLING - Let theme handle navigation styling */
}

.oom-metrics-chart-tab {
    position: relative;
    margin-right: var(--oom-spacing-xs);
    padding: var(--oom-spacing-sm) var(--oom-spacing-md);
    border-top-left-radius: 6px;
    border-top-right-radius: 6px;
    cursor: pointer;
    background: transparent;
    border: none;
    transition: all 0.2s ease;
    font-weight: 500;
    color: var(--text-muted);
}

.oom-metrics-chart-tab:hover {
    color: var(--text-normal);
    background-color: var(--background-modifier-hover);
}

.oom-metrics-chart-tab--active {
    font-weight: 600;
    color: var(--text-accent);
    background-color: var(--background-primary);
}

.oom-metrics-chart-tab--active:hover {
    color: var(--text-accent);
    background-color: var(--background-primary);
}

.oom-metrics-chart-tabs-content {
    flex: 1;
    overflow: auto;
    min-height: 0; /* Important for flex child with overflow */
    border-right: 1px solid var(--background-modifier-border);
    border-left: 1px solid var(--background-modifier-border);
    border-bottom: 1px solid var(--background-modifier-border);
    border-top-right-radius: 6px;
    border-bottom-right-radius: 6px;
    border-bottom-left-radius: 6px;
    /* NO VISUAL STYLING - Let theme handle content styling */
}

/* =============================================================================
   CHART.JS INTEGRATION & CANVAS MANAGEMENT
   ============================================================================= */

.oom-chart-container {
    width: 100%;
    padding: var(--oom-spacing-md);
    height: auto;
    max-height: 500px;
    display: flex;
    flex-direction: column;
    /* NO VISUAL STYLING - Let theme handle chart container styling */
}

.oom-chart-title {
    margin: 0 0 var(--oom-spacing-md) 0;
    flex-shrink: 0; /* Prevent title from shrinking */
    font-size: var(--font-ui-medium);
    font-weight: 600;
    color: var(--text-normal);
}

.oom-chart-canvas {
    flex: 1;
    width: 100% !important; /* Override Chart.js default */
    height: 400px !important; /* Override Chart.js default */
    max-width: 100%;
    max-height: 400px;
    min-height: 300px;
    /* NO VISUAL STYLING - Chart.js handles canvas styling */
}

.oom-chart-placeholder {
    padding: var(--oom-spacing-xl);
    text-align: center;
    height: 400px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    background-color: var(--background-secondary);
    border-radius: var(--oom-radius-lg);
    border: 1px dashed var(--background-modifier-border);
    color: var(--text-muted);
}

.oom-chart-placeholder h3 {
    margin: 0 0 var(--oom-spacing-sm) 0;
    font-size: var(--font-ui-medium);
    color: var(--text-normal);
}

.oom-chart-placeholder p {
    margin: 0;
    font-size: var(--font-ui-small);
    color: var(--text-muted);
}

/* Fix for Chart.js responsive behavior */
.oom-chart-container canvas {
    position: relative !important;
}

/* Animation prevention during initial render */
.oom-chart-container--loading .oom-chart-canvas {
    animation: none !important;
    transition: none !important;
}

/* =============================================================================
   HEATMAP VISUALIZATION SYSTEM
   ============================================================================= */

.oom-heatmap-container {
    width: 100%;
    overflow-x: auto;
    overflow-y: visible;
}

.oom-heatmap-placeholder {
    text-align: center;
    padding: var(--oom-spacing-xl);
    color: var(--text-muted);
    font-style: italic;
    background: var(--background-modifier-hover);
    border-radius: 6px;
    margin: var(--oom-spacing-md) 0;
}

/* =============================================================================
   HEATMAP LEGEND SYSTEM
   ============================================================================= */

.oom-heatmap-legend {
    display: flex;
    flex-direction: column;
    gap: var(--oom-spacing-sm);
    margin-bottom: var(--oom-spacing-xl);
    padding: var(--oom-spacing-md);
    background: var(--background-secondary);
    border-radius: 6px;
    border: 1px solid var(--background-modifier-border);
}

.oom-heatmap-legend-title {
    font-weight: 600;
    color: var(--text-normal);
    font-size: var(--font-ui-medium);
    text-align: center;
}

.oom-heatmap-legend-scale {
    display: flex;
    align-items: center;
    gap: var(--oom-spacing-sm);
    justify-content: center;
}

.oom-heatmap-legend-min,
.oom-heatmap-legend-max {
    font-size: var(--font-ui-small);
    color: var(--text-muted);
    font-weight: 500;
    min-width: 40px;
    text-align: center;
}

.oom-heatmap-legend-gradient {
    display: flex;
    height: 20px;
    border-radius: 10px;
    overflow: hidden;
    border: 1px solid var(--background-modifier-border);
    min-width: 120px;
}

.oom-heatmap-legend-color-low {
    flex: 1;
    background: var(--color-green-rgb);
    background: rgba(var(--color-green-rgb), 0.3);
}

.oom-heatmap-legend-color-medium {
    flex: 1;
    background: var(--color-yellow-rgb);
    background: rgba(var(--color-yellow-rgb), 0.6);
}

.oom-heatmap-legend-color-high {
    flex: 1;
    background: var(--color-red-rgb);
    background: rgba(var(--color-red-rgb), 0.8);
}

/* =============================================================================
   HEATMAP MONTHS & GRIDS
   ============================================================================= */

.oom-heatmap-months {
    display: flex;
    flex-direction: column;
    gap: var(--oom-spacing-xl);
}

.oom-heatmap-month {
    border: 1px solid var(--background-modifier-border);
    border-radius: 8px;
    overflow: hidden;
    background: var(--background-primary);
}

.oom-heatmap-month-header {
    background: var(--background-modifier-hover);
    padding: var(--oom-spacing-md);
    font-weight: 600;
    color: var(--text-normal);
    text-align: center;
    border-bottom: 1px solid var(--background-modifier-border);
    font-size: var(--font-ui-medium);
}

.oom-heatmap-days-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 1px;
    padding: var(--oom-spacing-sm);
    background: var(--background-modifier-border);
}

.oom-heatmap-day-label {
    background: var(--background-secondary);
    color: var(--text-muted);
    font-size: var(--font-ui-smaller);
    font-weight: 600;
    text-align: center;
    padding: var(--oom-spacing-xs);
    border-radius: 3px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

/* =============================================================================
   HEATMAP DAY CELLS & STATES
   ============================================================================= */

.oom-heatmap-day {
    background: var(--background-primary);
    min-height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--font-ui-small);
    border-radius: 3px;
    cursor: default;
    position: relative;
    transition: all 0.2s ease;
    border: 1px solid transparent;
}

.oom-heatmap-day-empty {
    background: var(--background-modifier-hover);
    opacity: 0.3;
}

.oom-heatmap-day-no-data {
    background: var(--background-primary);
    color: var(--text-faint);
    opacity: 0.6;
}

.oom-heatmap-day-no-data:hover {
    opacity: 0.8;
    border-color: var(--background-modifier-border);
}

.oom-heatmap-day-data {
    color: var(--text-on-accent);
    font-weight: 600;
    cursor: pointer;
}

.oom-heatmap-day-data:hover {
    transform: scale(1.1);
    z-index: 10;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    border-color: var(--text-accent);
}

/* =============================================================================
   INTENSITY-BASED COLORING SYSTEM
   ============================================================================= */

.oom-heatmap-intensity-low {
    background: rgba(var(--color-green-rgb), 0.4);
    color: var(--text-normal);
}

.oom-heatmap-intensity-medium {
    background: rgba(var(--color-yellow-rgb), 0.7);
    color: var(--text-normal);
}

.oom-heatmap-intensity-high {
    background: rgba(var(--color-red-rgb), 0.8);
    color: var(--text-on-accent);
}

/* Dynamic Intensity Using CSS Custom Properties */
.oom-heatmap-day-data {
    background: rgba(
        calc(var(--color-green-rgb) * (1 - var(--intensity, 0)) + var(--color-red-rgb) * var(--intensity, 0)),
        calc(0.3 + var(--intensity, 0) * 0.5)
    );
}

/* =============================================================================
   PROGRESS BAR SYSTEM
   ============================================================================= */

.oom-progress-bar {
    height: var(--oom-progress-bar-height, 8px);
    background: var(--oom-progress-bar-bg, var(--background-modifier-border));
    border-radius: var(--oom-progress-bar-radius, 4px);
    margin: var(--oom-progress-bar-margin, 1em 0);
    overflow: hidden;
    position: relative;
}

.oom-progress-fill {
    height: 100%;
    background: var(--oom-progress-fill-bg, var(--interactive-accent));
    border-radius: inherit;
    transition: width 0.3s ease;
    min-width: 2px; /* Ensure visibility even at 0% */
}

.oom-progress-text {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: var(--font-ui-smaller);
    font-weight: 600;
    color: var(--text-on-accent);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    z-index: 1;
}

/* =============================================================================
   PATTERN VISUALIZATION ELEMENTS
   ============================================================================= */

.oom-pattern-indicator {
    display: inline-flex;
    align-items: center;
    gap: var(--oom-spacing-xs);
    padding: var(--oom-spacing-xs);
    border-radius: var(--oom-radius-sm);
    font-size: var(--font-ui-smaller);
    font-weight: 500;
}

.oom-quality-score {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 24px;
    height: 24px;
    border-radius: 50%;
    font-size: var(--font-ui-smaller);
    font-weight: 600;
    color: var(--text-on-accent);
}

.oom-metric-overlay {
    position: absolute;
    top: 2px;
    right: 2px;
    width: 12px;
    height: 12px;
    border-radius: 50%;
    border: 1px solid var(--background-primary);
    z-index: 2;
}

.oom-pattern-high-quality { background: var(--color-green); }
.oom-pattern-fragmented { background: var(--color-yellow); }
.oom-pattern-rich-narrative { background: var(--color-blue); }
.oom-pattern-basic-recall { background: var(--color-orange); }

.oom-quality-high { background: var(--color-green); }
.oom-quality-medium { background: var(--color-yellow); }
.oom-quality-low { background: var(--color-red); }

/* =============================================================================
   RESPONSIVE DESIGN
   ============================================================================= */

@media (max-width: 768px) {
    .oom-metrics-chart-tabs-nav {
        flex-wrap: wrap;
        gap: var(--oom-spacing-xs);
    }
    
    .oom-metrics-chart-tab {
        margin-right: 0;
        flex: 1;
        min-width: 80px;
        text-align: center;
    }
    
    .oom-chart-container {
        height: 400px;
    }
    
    .oom-chart-canvas {
        height: 300px !important;
        max-height: 300px;
    }
    
    .oom-chart-placeholder {
        height: 300px;
        padding: var(--oom-spacing-lg);
    }
    
    .oom-heatmap-controls {
        flex-direction: column;
        align-items: stretch;
    }
    
    .oom-metric-selector {
        min-width: unset;
    }
    
    .oom-heatmap-day {
        min-height: 28px;
        font-size: var(--font-ui-smaller);
    }
    
    .oom-heatmap-legend-scale {
        flex-direction: column;
        gap: var(--oom-spacing-xs);
    }
    
    .oom-heatmap-legend-gradient {
        min-width: unset;
        width: 100%;
        max-width: 200px;
        margin: 0 auto;
    }
}

/* =============================================================================
   ACCESSIBILITY & THEME SUPPORT
   ============================================================================= */

/* High Contrast Theme Support */
@media (prefers-contrast: high) {
    .oom-heatmap-day {
        border: 1px solid var(--text-normal);
    }
    
    .oom-heatmap-intensity-low {
        background: var(--color-green);
        color: var(--text-on-accent);
    }
    
    .oom-heatmap-intensity-medium {
        background: var(--color-yellow);
        color: var(--text-normal);
    }
    
    .oom-heatmap-intensity-high {
        background: var(--color-red);
        color: var(--text-on-accent);
    }
    
    .oom-progress-fill {
        border: 1px solid var(--text-normal);
    }
}

/* Dark Theme Adjustments */
.theme-dark .oom-heatmap-legend-color-low {
    background: rgba(var(--color-green-rgb), 0.5);
}

.theme-dark .oom-heatmap-legend-color-medium {
    background: rgba(var(--color-yellow-rgb), 0.7);
}

.theme-dark .oom-heatmap-legend-color-high {
    background: rgba(var(--color-red-rgb), 0.9);
}

/* =============================================================================
   PRINT STYLES
   ============================================================================= */

@media print {
    .oom-heatmap-day:hover {
        transform: none;
        box-shadow: none;
    }
    
    .oom-heatmap-container {
        overflow: visible;
    }
    
    .oom-chart-container {
        page-break-inside: avoid;
    }
    
    .oom-progress-bar {
        print-color-adjust: exact;
    }
} 

/* =============================================================================
   COMPONENT: HUB (18.1 KB)
   ============================================================================= */
/* =============================================================================
   OneiroMetrics Hub & Dashboard Component
   ============================================================================= */

/* =============================================================================  
   DASHBOARD SECTIONS - Content Organization
   ============================================================================= */

.oom-dashboard-section {
    /* === STRUCTURAL PROPERTIES === */
    margin-bottom: var(--oom-spacing-lg);
    padding: var(--oom-spacing-md);
    border-radius: var(--oom-radius-md);
    
    /* NO VISUAL STYLING - Let theme handle section styling */
    
    /* === NESTED HEADING === */
    h3 {
        font-size: var(--font-ui-medium);
        font-weight: var(--font-semibold);
        /* NO VISUAL STYLING - Let theme handle */
    }

    h4 {
        margin-top: 0;
        margin-bottom: var(--oom-spacing-sm);
        padding-bottom: var(--oom-spacing-xs);
        font-size: var(--font-ui-large);
        font-weight: 600;
        
        /* NO VISUAL STYLING - Let theme handle heading borders and colors */
    }
}

.oom-template-import-export h3,
.oom-template-status h3,
.oom-analysis-targets h3,
.oom-metrics-tabs-content h3 {
    font-size: var(--font-ui-medium);
    font-weight: var(--font-semibold);
    /* NO VISUAL STYLING - Let theme handle */
}

.oom-suggestions-hidden .suggestion {
    display: none;
}

/* =============================================================================
   TEMPLATE WIZARD NAVIGATION SYSTEM
   ============================================================================= */

.oom-template-wizard-navigation {
    /* === STRUCTURAL PROPERTIES === */
    display: flex;
    margin-top: var(--oom-spacing-lg);
    padding-top: var(--oom-spacing-md);
    justify-content: space-between;
    align-items: center;
    
    /* NO VISUAL STYLING - Let theme handle navigation borders */
    
    .oom-button-container {
        display: flex;
        gap: var(--oom-spacing-sm);
    }
}

.oom-step-indicator {
    /* === STRUCTURAL PROPERTIES === */
    display: flex;
    align-items: center;
    gap: var(--oom-spacing-xs);
    font-size: var(--font-ui-small);
    
    /* NO VISUAL STYLING - Let theme handle step indicator colors */
}

/* =============================================================================
   COMPREHENSIVE TEMPLATE MANAGEMENT SYSTEM
   ============================================================================= */

.oom-journal-section {
    /* Template management container */
    & .oom-setting {
        margin-top: 1em;
    }
    
    & .oom-template-import-export {
        margin-top: 1.5em;
    }
    
    & .oom-template-status {
        margin-top: 1em;
    }
    
    /* Template List Container */
    & .oom-templates-list {
        margin-top: 0.5em;
        border: 1px solid var(--background-modifier-border);
        border-radius: 4px;
    }
    
    /* Template Row - Individual Template Items */
    & .oom-template-row {
        display: flex;
        padding: 0.75em 1em;
        border-bottom: 1px solid var(--background-modifier-border);
        justify-content: space-between;
        align-items: center;
        cursor: pointer;
        transition: background-color 0.15s;
    }
    
    & .oom-template-row.oom-template-expanded {
        background-color: var(--background-modifier-hover);
    }
    
    /* Template Information Display */
    & .oom-template-info {
        & .oom-template-details {
            font-size: 0.9em;
            /* NO VISUAL STYLING - Let theme handle */
        }
    }
    
    /* Template Action Buttons Container */
    & .oom-template-actions {
        display: flex;
        gap: 0.5em;
    }
    
    /* Template Preview Container */
    & .oom-template-preview-container {
        display: block;
        margin-bottom: 0.5em;
        padding: 0 1em;
        border-top: 1px solid var(--background-modifier-border);
        background-color: var(--background-secondary);
        
        & .oom-preview-section {
            margin-bottom: 0.75em;
            
            & .oom-template-preview-code {
                max-height: 200px;
                padding: 0.75em;
                overflow-y: auto;
                white-space: pre-wrap;
                border: 1px solid var(--background-modifier-border);
                border-radius: 4px;
                font-size: 0.85em;
                font-family: var(--font-monospace);
                /* NO VISUAL STYLING - Let theme handle */
                background-color: var(--code-background);
            }
        }
    }
}

/* =============================================================================
   TEMPLATE ACTION BUTTONS - Icon Button System
   ============================================================================= */

.oom-template-action-btn.oom-icon-button {
    display: inline-flex;
    align-items: center;
    min-height: 32px;
    min-width: 32px;
    padding: 0.4em;
    border: none;
    border-radius: 3px;
    justify-content: center;
    cursor: pointer;
    transition: all 0.15s ease;
    /* NO VISUAL STYLING - Let theme handle */
    background-color: var(--interactive-normal);
}

.oom-template-action-btn.oom-icon-button:hover {
    transform: translateY(-1px);
    /* NO VISUAL STYLING - Let theme handle */
    background-color: var(--interactive-hover);
}

.oom-template-action-btn.oom-icon-button:focus {
    outline: 2px solid var(--interactive-accent);
    outline-offset: 2px;
}

.oom-template-action-btn.oom-icon-button:active {
    transform: translateY(0);
    background-color: var(--interactive-active);
}

/* Delete button specific styling */
.oom-template-action-btn.oom-template-delete-btn.oom-icon-button {
    /* NO VISUAL STYLING - Let theme handle */
    background-color: var(--color-red);
}

.oom-template-action-btn.oom-template-delete-btn.oom-icon-button:hover {
    opacity: 0.9;
    background-color: var(--color-red-hover, var(--color-red));
}

/* Icon sizing within buttons */
.oom-template-action-btn.oom-icon-button svg {
    height: 16px;
    width: 16px;
    stroke-width: 2;
}

/* Template actions container adjustment */
.oom-template-actions {
    display: flex;
    gap: 0.5em;
    align-items: center;
}

/* =============================================================================
   JOURNAL MANAGER SIDEBAR NAVIGATION
   ============================================================================= */

.oom-journal-manager-sidebar {
    /* === STRUCTURAL PROPERTIES === */
    flex-shrink: 0;
    width: var(--oom-sidebar-width);
    padding: var(--oom-spacing-md);
    overflow-y: auto;
    
    /* NO VISUAL STYLING - Let theme handle sidebar styling */
    
    /* === SCROLLBAR STYLING === */
    scrollbar-width: thin;
    
    &::-webkit-scrollbar {
        width: 6px;
    }
    
    &::-webkit-scrollbar-track {
        /* NO VISUAL STYLING - Let theme handle scrollbar track */
    }
    
    &::-webkit-scrollbar-thumb {
        border-radius: var(--oom-radius-sm);
        
        /* NO VISUAL STYLING - Let theme handle scrollbar thumb */
        
        &:hover {
            /* Let theme handle scrollbar hover */
        }
    }
}

/* =============================================================================
   RESPONSIVE DESIGN SYSTEM - Mobile First
   ============================================================================= */

/* Mobile Responsiveness for Template Action Buttons */
@media screen and (max-width: 768px) {
    .oom-template-action-btn.oom-icon-button {
        min-width: 28px;
        min-height: 28px;
        padding: 0.3em;
    }
    
    .oom-template-action-btn.oom-icon-button svg {
        width: 14px;
        height: 14px;
    }
}

/* Tablet Layout Adjustments */
@media screen and (max-width: var(--oom-breakpoint-tablet)) {
    .oom-actions-grid {
        /* === TABLET GRID ADJUSTMENTS === */
        grid-template-columns: repeat(2, 1fr);
        gap: var(--oom-spacing-xs);
    }
    
    .oom-action-button {
        /* === TABLET BUTTON ADJUSTMENTS === */
        min-height: 60px;
        padding: var(--oom-spacing-sm) var(--oom-spacing-xs);
    }
    
    .oom-action-icon {
        height: 20px;
        font-size: var(--font-ui-large);
        margin-bottom: var(--oom-spacing-xxs);
    }
    
    .oom-dashboard-section {
        padding: var(--oom-spacing-sm);
        margin-bottom: var(--oom-spacing-md);
    }
    
    .oom-journal-manager-sidebar,
    .oom-journal-structure-sidebar {
        width: 100%;
        max-height: 200px;
        padding: var(--oom-spacing-sm);
    }
    
    .oom-template-wizard-navigation {
        flex-direction: column;
        gap: var(--oom-spacing-sm);
        
        .oom-button-container {
            width: 100%;
            justify-content: space-between;
        }
    }
}

/* Mobile Layout Optimizations */
@media screen and (max-width: var(--oom-breakpoint-mobile)) {
    .oom-nav-item {
        /* === MOBILE NAV ADJUSTMENTS === */
        padding: var(--oom-spacing-xs);
        margin-bottom: var(--oom-spacing-xxs);
        
        .oom-nav-icon {
            width: 16px;
            height: 16px;
            
            svg {
                width: 14px;
                height: 14px;
            }
        }
        
        .oom-nav-label {
            font-size: var(--font-ui-small);
        }
    }
    
    .oom-actions-grid {
        /* === MOBILE SINGLE COLUMN === */
        grid-template-columns: 1fr;
    }
    
    .oom-action-button {
        /* === MOBILE COMPACT BUTTONS === */
        flex-direction: row;
        min-height: 40px;
        text-align: left;
        
        .oom-action-icon {
            margin-bottom: 0;
            margin-right: var(--oom-spacing-xs);
            height: 16px;
            font-size: var(--font-ui-medium);
        }
    }
    
    .oom-collapsible-header {
        padding: var(--oom-spacing-xs);
        
        h3 {
            font-size: var(--font-ui-medium);
            /* NO VISUAL STYLING - Let theme handle */
        }
    }
    
    .oom-dashboard-section {
        padding: var(--oom-spacing-xs);
        margin-bottom: var(--oom-spacing-sm);
        
        h4 {
            font-size: var(--font-ui-medium);
            margin-bottom: var(--oom-spacing-xs);
            /* NO VISUAL STYLING - Let theme handle */
        }
    }
}

/* =============================================================================
   ACCESSIBILITY & REDUCED MOTION SUPPORT
   ============================================================================= */

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
    .oom-template-action-btn.oom-icon-button {
        transition: none;
    }
    
    .oom-template-action-btn.oom-icon-button:hover {
        transform: none;
    }
    
    .oom-nav-item,
    .oom-action-button,
    .oom-collapsible-toggle {
        /* === REDUCED MOTION === */
        transition: none;
    }
    
    .oom-action-button:hover {
        transform: none;
    }
    
    .oom-action-button:active {
        transform: none;
    }
}

/* High Contrast Mode Support */
@media (forced-colors: active) {
    .oom-template-action-btn.oom-icon-button {
        border: 1px solid ButtonText;
    }
    
    .oom-template-action-btn.oom-template-delete-btn.oom-icon-button {
        border-color: Highlight;
    }
    
    .oom-nav-item {
        /* === HIGH CONTRAST NAVIGATION === */
        border: 1px solid ButtonText;
        
        &.active {
            color: HighlightText;
            background-color: Highlight;
            border-left-color: Highlight;
            
            .oom-nav-icon {
                color: HighlightText;
            }
        }
    }
    
    .oom-action-button {
        border: 1px solid ButtonText;
        
        &:hover {
            background-color: Highlight;
            color: HighlightText;
        }
    }
    
    .oom-collapsible-section {
        border: 1px solid ButtonText;
    }
    
    .oom-dashboard-section {
        border: 1px solid ButtonText;
    }
}

/* =============================================================================
   PRINT STYLES - Clean Print Layout
   ============================================================================= */

@media print {
    .oom-journal-manager-sidebar,
    .oom-journal-structure-sidebar {
        /* === HIDE SIDEBARS IN PRINT === */
        display: none;
    }
    
    .oom-template-wizard-navigation {
        /* === HIDE NAVIGATION IN PRINT === */
        display: none;
    }
    
    .oom-quick-actions {
        /* === HIDE ACTIONS IN PRINT === */
        display: none;
    }
    
    .oom-dashboard-section {
        /* === PRINT SECTION STYLING === */
        page-break-inside: avoid;
        margin-bottom: var(--oom-spacing-md);
        
        h4 {
            page-break-after: avoid;
        }
    }
}

/* =============================================================================
   DASHBOARD GRID SYSTEM INTEGRATION
   ============================================================================= */

.oom-dashboard-info-grid {
    display: grid;
    gap: var(--oom-spacing-md);
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    
    .oom-dashboard-section {
        margin-bottom: 0; /* Override default margin in grid context */
    }
}

/* Action Grid System for Dashboard */
.oom-actions-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: var(--oom-spacing-sm);
    margin: var(--oom-spacing-md) 0;
}

.oom-action-button {
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 80px;
    padding: var(--oom-spacing-sm);
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--oom-radius-md);
    cursor: pointer;
    transition: all 0.2s ease;
    text-align: center;
    text-decoration: none;
    /* NO VISUAL STYLING - Let theme handle */
    background: var(--background-primary);
    
    &:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        background: var(--background-modifier-hover);
    }
    
    &:active {
        transform: translateY(0);
    }
}

.oom-action-icon {
    height: 24px;
    font-size: var(--font-ui-large);
    margin-bottom: var(--oom-spacing-xs);
    /* NO VISUAL STYLING - Let theme handle */
}

/* =============================================================================
   NAVIGATION ITEM INTEGRATION 
   ============================================================================= */

.oom-nav-item {
    display: flex;
    align-items: center;
    padding: var(--oom-spacing-sm);
    margin-bottom: var(--oom-spacing-xs);
    border-radius: var(--oom-radius-sm);
    cursor: pointer;
    transition: all 0.2s ease;
    text-decoration: none;
    /* NO VISUAL STYLING - Let theme handle */
    
    &:hover {
        background: var(--background-modifier-hover);
    }
    
    &.active {
        /* NO VISUAL STYLING - Let theme handle active states */
        background: var(--background-modifier-active-hover);
        border-left: 3px solid var(--interactive-accent);
        
        .oom-nav-icon {
            /* NO VISUAL STYLING - Let theme handle active icon color */
        }
    }
}

.oom-nav-icon {
    width: 20px;
    height: 20px;
    margin-right: var(--oom-spacing-sm);
    /* NO VISUAL STYLING - Let theme handle icon colors */
    
    svg {
        width: 100%;
        height: 100%;
    }
}

.oom-nav-label {
    font-size: var(--font-ui-medium);
    font-weight: 500;
    /* NO VISUAL STYLING - Let theme handle text color */
}

/* =============================================================================
   COLLAPSIBLE SECTIONS INTEGRATION
   ============================================================================= */

.oom-collapsible-section {
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--oom-radius-md);
    margin-bottom: var(--oom-spacing-md);
    overflow: hidden;
}

.oom-collapsible-header {
    display: flex;
    align-items: center;
    padding: var(--oom-spacing-sm) var(--oom-spacing-md);
    cursor: pointer;
    transition: background-color 0.2s ease;
    background: var(--background-secondary);
    
    &:hover {
        background: var(--background-modifier-hover);
    }
    
    h3 {
        margin: 0;
        font-size: var(--font-ui-medium);
        font-weight: var(--font-semibold);
        /* NO VISUAL STYLING - Let theme handle */
    }
}

.oom-collapsible-toggle {
    margin-left: auto;
    transition: transform 0.2s ease;
    /* NO VISUAL STYLING - Let theme handle */
    
    &.oom-expanded {
        transform: rotate(180deg);
    }
}

.oom-collapsible-content {
    padding: var(--oom-spacing-md);
    background: var(--background-primary);
    border-top: 1px solid var(--background-modifier-border);
}

/* =============================================================================
   QUICK ACTIONS INTEGRATION
   ============================================================================= */

.oom-quick-actions {
    display: flex;
    gap: var(--oom-spacing-sm);
    margin: var(--oom-spacing-md) 0;
    flex-wrap: wrap;
}

.oom-quick-action-btn {
    padding: var(--oom-spacing-xs) var(--oom-spacing-sm);
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--oom-radius-sm);
    cursor: pointer;
    transition: all 0.2s ease;
    font-size: var(--font-ui-small);
    text-decoration: none;
    /* NO VISUAL STYLING - Let theme handle */
    background: var(--background-primary);
    
    &:hover {
        background: var(--background-modifier-hover);
        transform: translateY(-1px);
    }
    
    &:active {
        transform: translateY(0);
    }
} 

/* =============================================================================
   COMPONENT: FORMS (25.7 KB)
   ============================================================================= */
/* =============================================================================
   FORMS COMPONENT - OneiroMetrics Form Controls & Validation System
   ============================================================================= */

/* COMPONENT OVERVIEW:
   - Form Field Layouts (Obsidian-style settings forms)
   - Toggle Switches (custom toggle controls)
   - Input Controls (text, date, search, select)
   - Validation System (error, warning, success states)
   - Filter Controls (dropdowns, date ranges, search)
   - Form Sections (collapsible, wizard forms)
   - Responsive Form Design
   - Accessibility & Keyboard Navigation
   - Print & High Contrast Optimizations
*/

/* =============================================================================
   VALIDATION SYSTEM - Error, Warning & Success States
   ============================================================================= */

/* Base validation indicators - functional state colors */
.oom-validation-error {
    border-left-color: var(--text-error);
}

.oom-validation-warning {
    border-left-color: var(--text-warning);
}

.oom-validation-info {
    border-left-color: var(--text-accent);
}

/* Editor validation markers - code highlighting */
.oom-cm-validation-error {
    text-decoration: red wavy underline;
}

.oom-cm-validation-warning {
    text-decoration: orange wavy underline;
}

.oom-cm-validation-info {
    text-decoration: blue wavy underline;
}

/* Button error/success states */
.oom-button--error {
    color: var(--text-error);
}

.oom-button--success {
    color: var(--text-success);
}

/* Modal warning states */
.oom-modal-button.mod-warning {
    border-color: var(--text-error);
    background: var(--text-error);
}

.oom-modal-button.mod-warning:hover {
    background: var(--text-error-hover);
}

/* =============================================================================
   FORM FIELDS - Obsidian-Style Settings Layout
   ============================================================================= */

/* Base form field layout - emulates Obsidian settings */
.oom-form-field,
.oom-setting-toggle {
    /* === STRUCTURAL PROPERTIES === */
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--oom-spacing-md);
    min-height: 40px;
    padding: var(--oom-spacing-sm) 0;
    
    /* NO VISUAL STYLING - Let theme handle form field appearance */
}

/* Labels and descriptions - left aligned */
.oom-form-label,
.oom-setting-info,
.oom-form-field .oom-form-label {
    flex: 1;

    /* === STRUCTURAL PROPERTIES === */
    margin: 0;
    font-weight: 500;
    line-height: 1.4;
    text-align: left;
    
    /* NO VISUAL STYLING - Let theme handle label styling */
}

/* Form controls - right aligned */
.oom-form-control,
.oom-form-field .oom-toggle-container,
.oom-form-field-toggle .oom-toggle-container {
    /* === STRUCTURAL PROPERTIES === */
    flex: 0 0 auto;
    margin: 0;
    margin-left: auto;
    
    /* NO VISUAL STYLING - Let theme handle form control appearance */
}

/* Form spacing - visual separation */
.oom-journal-structure-modal .oom-form-field + .oom-form-field {
    margin-top: var(--oom-spacing-xs);
    padding-top: var(--oom-spacing-sm);
    border-top: 1px solid var(--background-modifier-border-hover);
}

/* =============================================================================
   TOGGLE SWITCHES - Custom Toggle Controls
   ============================================================================= */

.oom-toggle-container {
    /* === STRUCTURAL PROPERTIES === */
    position: relative;
    cursor: pointer;
    
    /* NO VISUAL STYLING - Let theme handle toggle container */
}

.oom-toggle-input {
    /* === HIDDEN INPUT === */
    position: absolute;
    opacity: 0;
    pointer-events: none;
}

.oom-toggle-switch {
    /* === STRUCTURAL PROPERTIES === */
    position: relative;
    width: var(--oom-toggle-width);
    height: var(--oom-toggle-height);
    border-radius: calc(var(--oom-toggle-height) / 2);
    cursor: pointer;
    transition: all var(--oom-transition-normal);
    
    /* NO VISUAL STYLING - Let theme handle toggle switch styling */
    
    &:hover {
        /* Let theme handle hover styling */
    }
    
    .oom-toggle-slider {
        position: absolute;
        top: var(--oom-toggle-border-width);
        left: var(--oom-toggle-border-width);
        width: var(--oom-toggle-slider-size);
        height: var(--oom-toggle-slider-size);
        border-radius: 50%;
        transition: transform var(--oom-transition-normal);
        
        /* NO VISUAL STYLING - Let theme handle slider styling */
    }
    
    /* === TOGGLE STATES === */
    &.oom-toggle-on,
    &:has(.oom-toggle-input:checked) {
        /* NO VISUAL STYLING - Let theme handle active toggle */
        
        .oom-toggle-slider {
            transform: translateX(var(--oom-toggle-travel));
        }
        
        &:hover {
            /* Let theme handle active hover styling */
        }
    }
    
    &.oom-toggle-off {
        /* NO VISUAL STYLING - Let theme handle inactive toggle */
    }
}

/* Focus states for toggle */
.oom-toggle-input:focus + .oom-toggle-switch {
    /* === ACCESSIBILITY FOCUS === */
    box-shadow: var(--oom-focus-ring);
}

/* Toggle labels and text */
.oom-toggle-label {
    /* === STRUCTURAL PROPERTIES === */
    display: flex;
    align-items: center;
    gap: var(--oom-spacing-sm);
    font-size: var(--font-ui-medium);
    cursor: pointer;
    
    /* NO VISUAL STYLING - Let theme handle toggle label styling */
}

.oom-toggle-text {
    /* === STRUCTURAL PROPERTIES === */
    font-size: var(--font-ui-small);
    line-height: 1.4;
    
    /* NO VISUAL STYLING - Let theme handle toggle text styling */
}

/* =============================================================================
   TEXT INPUT SECTIONS - Modal Text Input Layouts
   ============================================================================= */

.oom-text-input-section {
    /* === STRUCTURAL PROPERTIES === */
    padding: var(--oom-spacing-sm);
    border-radius: var(--oom-radius-md);
    
    /* NO VISUAL STYLING - Let theme handle text input section backgrounds and borders */
    
    .oom-text-input-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: var(--oom-spacing-xs);
    }
    
    .oom-text-input-title {
        font-size: var(--oom-text-input-title-size);
        font-weight: var(--font-semibold);
        
        /* NO VISUAL STYLING - Let theme handle title styling */
    }
    
    .oom-text-input-toggle {
        font-size: var(--oom-text-input-toggle-size);
        cursor: pointer;
        user-select: none;
        
        /* NO VISUAL STYLING - Let theme handle toggle text styling */
        
        &:hover {
            /* Let theme handle hover styling */
        }
    }
    
    .oom-text-input-row {
        display: grid;
        align-items: end;
        gap: var(--oom-spacing-sm);
        grid-template-columns: 1fr 1fr;
    }
    
    &.collapsed .oom-text-input-row {
        display: none;
    }
}

/* Input row layouts */
.oom-input-row,
.oom-actions-row,
.oom-text-input-row {
    /* === STRUCTURAL PROPERTIES === */
    display: flex;
    align-items: center;
    gap: var(--oom-spacing-sm);
    margin-bottom: var(--oom-spacing-sm);
    
    /* NO VISUAL STYLING - Let theme handle row appearance */
}

.oom-fav-name-row {
    /* === STRUCTURAL PROPERTIES === */
    display: flex;
    align-items: center;
    gap: var(--oom-spacing-sm);
    margin-bottom: var(--oom-spacing-md);
    
    /* NO VISUAL STYLING - Let theme handle favorite name row appearance */
}

/* Text input field wrapper */
.oom-text-input-field {
    /* === STRUCTURAL PROPERTIES === */
    flex: 1;
    margin-right: var(--oom-spacing-sm);
    
    /* NO VISUAL STYLING - Let theme handle field appearance */
}

/* =============================================================================
   SELECT CONTROLS - Dropdown Elements
   ============================================================================= */

.oom-select {
    /* === STRUCTURAL PROPERTIES === */
    flex: 1;
    max-width: 150px;
    padding: 0 0 0 .5em;
    transition: all var(--oom-transition-normal);
    
    /* NO VISUAL STYLING - Let theme handle select styling */
    
    &:hover {
        /* Let theme handle hover styling */
    }
    
    &:focus {
        /* Let theme handle focus styling */
        outline: none;
        box-shadow: var(--oom-focus-ring);
    }
    
    /* === OPTION STYLING === */
    option {
        /* NO VISUAL STYLING - Let theme handle option styling */
        
        .oom-metric-icon {
            /* Preserve icon structure in options */
            margin-right: var(--oom-spacing-xs);
        }
    }
}

/* Obsidian context-specific styling */
.markdown-preview-view[data-type="oom-project-note"] .oom-select {
    /* Inherit from base .oom-select */

    /* Additional context-specific overrides only if needed */
}

/* =============================================================================
   INPUT CONTAINERS - Context-Specific Layouts
   ============================================================================= */

.oom-input-container,
.oom-input-row {
    /* === STRUCTURAL PROPERTIES === */
    display: flex;
    align-items: center;
    gap: var(--oom-spacing-sm);
    
    /* NO VISUAL STYLING - Let theme handle input container appearance */
}

.oom-fav-save-container,
.oom-fav-name-row {
    /* === STRUCTURAL PROPERTIES === */
    display: flex;
    align-items: center;
    gap: var(--oom-spacing-sm);
    
    /* NO VISUAL STYLING - Let theme handle favorite input containers */
    
    label {
        min-width: fit-content;
        font-size: var(--oom-input-label-size);
        font-weight: var(--font-medium);
        
        /* NO VISUAL STYLING - Let theme handle favorite labels */
    }
    
    input {
        flex: 1;

        /* Inherits all styling from base input elements */
    }
    
    button {
        /* NO VISUAL STYLING - Let theme handle favorite buttons */

        /* Inherits button styling from theme */
    }
}

/* Modal section input containers */
.oom-modal-section .oom-notes-selector-container {
    /* === STRUCTURAL PROPERTIES === */
    margin-top: var(--oom-spacing-md);
    
    /* NO VISUAL STYLING - Let theme handle modal section containers */
    
    .oom-multiselect-search-container {
        margin-bottom: var(--oom-spacing-sm);
    }
}

/* =============================================================================
   SEARCH INPUT COMPONENTS - Search and Filter Inputs
   ============================================================================= */

.oom-icon-picker-search {
    /* === STRUCTURAL PROPERTIES === */
    position: relative;
    margin-bottom: var(--oom-spacing-sm);
    
    /* NO VISUAL STYLING - Let theme handle search container */
    
    &::before {
        position: absolute;
        top: 50%;
        left: var(--oom-spacing-sm);
        width: var(--oom-search-icon-size);
        height: var(--oom-search-icon-size);
        transform: translateY(-50%);

        /* Search icon placeholder - structural only */
        content: "";
        
        /* NO VISUAL STYLING - Let theme handle search icon */
    }
    
    input {
        width: 100%;
        padding-left: calc(var(--oom-search-icon-size) + var(--oom-spacing-lg));
        
        /* Inherits all styling from base input elements */
    }
}

/* =============================================================================
   DATE INPUT CONTROLS - Date Selection
   ============================================================================= */

.oom-date-input-container {
    /* === STRUCTURAL PROPERTIES === */
    display: flex;
    flex: 1;
    flex-direction: column;
    gap: var(--oom-filter-gap);
    min-width: 200px;
    
    /* NO VISUAL STYLING - Let theme handle date input container */
    
    label {
        font-size: var(--oom-filter-label-size);
        font-weight: var(--font-medium);
        
        /* NO VISUAL STYLING - Let theme handle label colors */
    }
    
    input[type="date"] {
        padding: var(--oom-filter-input-padding);
        border-radius: var(--oom-filter-input-radius);
        font-size: var(--oom-filter-label-size);
        transition: all var(--oom-transition-normal);
        
        /* NO VISUAL STYLING - Let theme handle date input styling */
        
        &:hover {
            /* Let theme handle hover styling */
        }
        
        &:focus {
            /* Let theme handle focus styling */
            outline: none;
            box-shadow: var(--oom-focus-ring);
        }
    }
}

.oom-date-range-container {
    /* === STRUCTURAL PROPERTIES === */
    display: flex;
    flex-wrap: wrap;
    gap: var(--oom-filter-gap);
    
    /* NO VISUAL STYLING - Let theme handle date range container */
}

/* =============================================================================
   FILTER CONTROLS - Filter System Components
   ============================================================================= */

.oom-filter-container {
    /* === STRUCTURAL PROPERTIES === */
    display: flex;
    flex-direction: column;
    gap: var(--oom-filter-gap);
    margin-bottom: var(--oom-spacing-md);
    padding: var(--oom-filter-padding);
    border-radius: var(--oom-filter-border-radius);
    
    /* NO VISUAL STYLING - Let theme handle filter container styling */
}

/* Filter display states - visual feedback */
.oom-filter-display {
    /* === STRUCTURAL PROPERTIES === */
    display: flex;
    align-items: center;
    
    /* NO VISUAL STYLING - Default state handled by theme */
    
    .oom-filter-icon {
        margin-right: 0.25em;

        /* Icon inherits color from parent text state */
        color: inherit;
    }
    
    /* === FILTER STATE INDICATORS === */
    &:has(.oom-filter-text.oom-filter--all-visible) {
        color: var(--text-success);
        
        .oom-filter-icon {
            color: var(--text-success);
        }
    }
    
    &:has(.oom-filter-text.oom-filter--partially-visible) {
        color: var(--text-warning);
        
        .oom-filter-icon {
            color: var(--text-warning);
        }
    }
    
    &:has(.oom-filter-text.oom-filter--none-visible) {
        color: var(--text-error);
        
        .oom-filter-icon {
            color: var(--text-error);
        }
    }
    
    /* === UPDATED STATE === */
    &.oom-filter-display--updated {
        /* Temporary highlight for filter updates */
        animation: filter-update-flash 0.3s ease-out;
    }
}

/* Individual filter state classes */
.oom-filter--all-visible {
    color: var(--text-success);
}

.oom-filter--mostly-visible {
    opacity: 0.8;
    color: var(--text-success);
}

.oom-filter--partially-visible {
    color: var(--text-warning);
}

.oom-filter--none-visible {
    color: var(--text-error);
}

.oom-filter-hidden {
    display: none;
}

/* Special ID-based filter display */
div#oom-time-filter-display {
    margin: var(--oom-spacing-sm) 0;

    /* === STRUCTURAL PROPERTIES === */
    padding: var(--oom-spacing-sm);
    border-radius: var(--oom-radius-sm);
    
    /* NO VISUAL STYLING - Let theme handle time filter display */
}

/* =============================================================================
   SELECTION CONTROLS - Selection and Info Displays
   ============================================================================= */

.oom-selection-info {
    /* === STRUCTURAL PROPERTIES === */
    margin-bottom: var(--oom-spacing-sm);
    padding: var(--oom-spacing-sm);
    border-radius: var(--oom-radius-sm);
    font-size: var(--font-ui-small);
    
    /* NO VISUAL STYLING - Let theme handle selection info styling */
}

.oom-selected-text {
    /* === STRUCTURAL PROPERTIES === */
    font-weight: var(--font-medium);
    
    /* NO VISUAL STYLING - Let theme handle selected text styling */
}

/* =============================================================================
   STRUCTURE FORM COMPONENTS - Journal Structure Forms
   ============================================================================= */

/* Structure list item layout */
.oom-structure-list-item {
    /* === STRUCTURAL PROPERTIES === */
    display: flex;
    align-items: center;
    gap: var(--oom-spacing-sm);
    margin-bottom: var(--oom-spacing-xs);
    padding: var(--oom-spacing-sm);
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--radius-m);
    
    /* NO VISUAL STYLING - Let theme handle structure list item appearance */
}

.oom-structure-list-item .oom-structure-toggle {
    display: flex;
    align-items: center;
    margin-right: var(--oom-spacing-sm);
    order: -1;
}

.oom-structure-list-item .oom-structure-info {
    flex: 1;
    min-width: 0;
}

.oom-structure-list-item .oom-structure-actions {
    display: flex;
    align-items: center;
    gap: var(--oom-spacing-xs);
    margin-left: auto;
    flex-shrink: 0;
}

.oom-structure-item.editing {
    margin-top: 1em;
    padding: 1em;
    border: 1px solid #ccc;
    border-radius: 6px;
}

/* Journal section styling */
.oom-journal-section {
    margin-bottom: var(--oom-spacing-md);

    /* === STRUCTURAL PROPERTIES === */
    padding: var(--oom-spacing-md);
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--radius-m);
    
    /* NO VISUAL STYLING - Let theme handle journal section appearance */
}

.oom-section-header {
    /* === STRUCTURAL PROPERTIES === */
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--oom-spacing-sm);
    padding-bottom: var(--oom-spacing-xs);
    border-bottom: 1px solid var(--background-modifier-border);
    font-size: var(--font-ui-medium);
    font-weight: 600;
    
    /* NO VISUAL STYLING - Let theme handle section header appearance */
}

/* =============================================================================
   WIZARD FORMS - Step-by-Step Form Components
   ============================================================================= */

.oom-wizard-header {
    /* === STRUCTURAL PROPERTIES === */
    position: sticky;
    top: 0;
    z-index: 101;
    padding: .5em;
    border-bottom: 1px solid var(--background-modifier-border);
    box-shadow: rgb(0 0 0 / 10%) 0 2px 8px;
    background-color: var(--background-primary);
    
    /* NO VISUAL STYLING - Uses theme background */
}

.oom-wizard-main-content {
    padding-top: 1em;

    /* === STRUCTURAL PROPERTIES === */
    padding-bottom: 80px;
}

.oom-wizard-step.step-1 h3,
.oom-wizard-step.step-2 h3,
.oom-wizard-step.step-3 h3 {
    font-size: var(--h4-size);
    margin-block-start: 0;
}

.oom-wizard-footer {
    /* === STRUCTURAL PROPERTIES === */
    position: sticky;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: 100;
    padding: .5em;
    border-top: 1px solid var(--background-modifier-border);
    box-shadow: rgb(0 0 0 / 10%) 0 -2px 8px;
    background-color: var(--background-primary);
    
    /* NO VISUAL STYLING - Uses theme background */
}

.oom-nav-container {
    /* === STRUCTURAL PROPERTIES === */
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
}

.oom-button-container {
    /* === STRUCTURAL PROPERTIES === */
    display: flex;
    gap: 0.5em;
}

.oom-wizard-footer .oom-step-indicator {
    /* === STRUCTURAL PROPERTIES === */
    min-width: auto;
    font-size: var(--font-ui-small);
    font-weight: 500;
    white-space: nowrap;
    flex-shrink: 0;
    
    /* NO VISUAL STYLING - Let theme handle step indicator */
}

/* =============================================================================
   FORM DESCRIPTIONS & HELP TEXT
   ============================================================================= */

p.oom-journal-structure-description {
    font-size: var(--font-ui-smaller);
}

p.oom-journal-structure-description:nth-of-type(2) {
    margin-bottom: 0;
    margin-block-end: 0;
}

/* Preview containers */
pre.oom-markdown-preview.oom-templater-preview {
    border: 1px solid var(--color-accent);
    font-size: 12px;
    background-color: var(--background-secondary);
}

pre.oom-markdown-preview.oom-journal-structure-preview {
    font-size: 12px;
    background-color: var(--background-secondary);
}

/* =============================================================================
   STATUS INDICATORS - Form State Feedback
   ============================================================================= */

.oom-status-warning {
    color: var(--text-warning);
}

.oom-status-success {
    color: var(--text-success);
}

/* =============================================================================
   RESPONSIVE DESIGN - Mobile First Forms
   ============================================================================= */

@media screen and (max-width: var(--oom-breakpoint-tablet)) {
    /* === TABLET FORM ADJUSTMENTS === */
    .oom-text-input-row {
        gap: var(--oom-spacing-sm);
        grid-template-columns: 1fr;
    }
    
    .oom-date-range-container {
        flex-direction: column;
    }
    
    .oom-filter-container {
        gap: var(--oom-spacing-sm);
    }
}

@media screen and (max-width: var(--oom-breakpoint-mobile)) {
    /* === MOBILE FORM ADJUSTMENTS === */
    .oom-form-field,
    .oom-setting-toggle {
        flex-direction: column;
        align-items: stretch;
        gap: var(--oom-spacing-sm);
        min-height: auto;
    }
    
    .oom-form-label,
    .oom-setting-info {
        text-align: left;
    }
    
    .oom-form-control,
    .oom-form-field .oom-toggle-container,
    .oom-form-field-toggle .oom-toggle-container {
        margin-left: 0;
        align-self: flex-end;
    }
    
    .oom-input-row,
    .oom-actions-row,
    .oom-fav-name-row {
        flex-direction: column;
        align-items: stretch;
    }
    
    .oom-text-input-header {
        flex-direction: column;
        align-items: stretch;
        gap: var(--oom-spacing-xs);
    }
    
    .oom-text-input-field {
        margin-right: 0;
    }
    
    .oom-wizard-header,
    .oom-wizard-footer {
        padding: var(--oom-spacing-sm);
    }
    
    .oom-nav-container {
        flex-direction: column;
        gap: var(--oom-spacing-sm);
    }
    
    .oom-button-container {
        flex-direction: column;
        gap: var(--oom-spacing-xs);
    }
}

/* =============================================================================
   PRINT OPTIMIZATION - Forms
   ============================================================================= */

@media print {
    /* === HIDE INTERACTIVE FORM ELEMENTS IN PRINT === */
    .oom-wizard-header,
    .oom-wizard-footer,
    .oom-button-container,
    .oom-toggle-container,
    .oom-structure-actions {
        display: none;
    }
    
    /* === SIMPLIFY FORM LAYOUT FOR PRINT === */
    .oom-form-field,
    .oom-setting-toggle {
        flex-direction: row;
        justify-content: flex-start;
        gap: var(--oom-spacing-lg);
    }
    
    /* === PRESERVE FORM CONTENT === */
    .oom-form-label,
    .oom-selected-text,
    .oom-filter-display {
        color: black !important;
    }
    
    /* === REMOVE FORM BACKGROUNDS === */
    .oom-wizard-main-content {
        padding: 0;
    }
}

/* =============================================================================
   ACCESSIBILITY - High Contrast & Focus Management
   ============================================================================= */

/* High contrast mode adjustments */
@media (forced-colors: active) {
    .oom-validation-error,
    .oom-cm-validation-error {
        border-color: Mark;
        text-decoration-color: Mark;
    }
    
    .oom-validation-warning,
    .oom-cm-validation-warning {
        border-color: Highlight;
        text-decoration-color: Highlight;
    }
    
    .oom-filter--all-visible {
        color: LinkText;
    }
    
    .oom-filter--partially-visible,
    .oom-filter--none-visible {
        color: VisitedText;
    }
    
    .oom-toggle-switch {
        border: 1px solid ButtonText;
    }
    
    .oom-toggle-input:checked + .oom-toggle-switch {
        background: Highlight;
    }
    
    .oom-form-field,
    .oom-structure-list-item {
        border: 1px solid ButtonText;
    }
}

/* Focus management for form controls */
.oom-select:focus-visible,
.oom-toggle-container:focus-visible,
input[type="date"]:focus-visible {
    outline: var(--oom-focus-ring-accent);
    outline-offset: 2px;
}

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
    .oom-toggle-switch,
    .oom-toggle-slider,
    .oom-filter-display {
        transition: none;
    }
    
    .oom-filter-display--updated {
        animation: none;
    }
}

/* =============================================================================
   DARK THEME SPECIFIC ADJUSTMENTS
   ============================================================================= */

/* Dark theme toggle visibility enhancement */
.theme-dark .oom-toggle-slider {
    /* Add subtle border for better visibility in dark themes */
    box-shadow: inset 0 0 0 1px var(--background-modifier-border);
}
