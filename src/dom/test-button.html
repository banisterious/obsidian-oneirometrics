<!DOCTYPE html>
<html>
<head>
    <title>Content Expand Button Test</title>
    <style>
        .oom-content-wrapper {
            position: relative;
            margin-bottom: 10px;
        }
        
        .oom-content-preview {
            display: block;
        }
        
        .oom-content-full {
            display: none;
        }
        
        .oom-content-wrapper.expanded .oom-content-preview,
        .oom-content-wrapper[data-expanded="true"] .oom-content-preview {
            display: none;
        }
        
        .oom-content-wrapper.expanded .oom-content-full,
        .oom-content-wrapper[data-expanded="true"] .oom-content-full {
            display: block;
        }
        
        .oom-button--expand {
            background: #2196F3;
            color: white;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <h1>Content Expand Button Test</h1>
    
    <h2>Test 1: Using class="expanded"</h2>
    <div class="oom-content-wrapper">
        <div class="oom-content-preview">
            This is a preview of the content...
        </div>
        <div class="oom-content-full">
            This is the full content. It should only be visible when expanded.
            It contains much more text than the preview.
        </div>
        <button class="oom-button oom-button--expand" data-expanded="false">Show more</button>
    </div>
    
    <h2>Test 2: Using data-expanded="true"</h2>
    <div class="oom-content-wrapper" data-expanded="false">
        <div class="oom-content-preview">
            This is a preview of the content...
        </div>
        <div class="oom-content-full">
            This is the full content. It should only be visible when expanded.
            It contains much more text than the preview.
        </div>
        <button class="oom-button oom-button--expand" data-expanded="false">Show more</button>
    </div>
    
    <script>
        // Add click handlers for all expand buttons
        document.querySelectorAll('.oom-button--expand').forEach(button => {
            button.addEventListener('click', function() {
                const isExpanded = this.getAttribute('data-expanded') === 'true';
                const newState = !isExpanded;
                
                // Get the content wrapper (parent element)
                const wrapper = this.closest('.oom-content-wrapper');
                
                if (newState) {
                    // Expand
                    wrapper.classList.add('expanded');
                    wrapper.setAttribute('data-expanded', 'true');
                    this.textContent = 'Show less';
                } else {
                    // Collapse
                    wrapper.classList.remove('expanded');
                    wrapper.setAttribute('data-expanded', 'false');
                    this.textContent = 'Show more';
                }
                
                this.setAttribute('data-expanded', newState.toString());
            });
        });
    </script>
</body>
</html> 