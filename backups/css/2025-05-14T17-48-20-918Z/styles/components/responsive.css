/* OneiroMetrics Responsive Design Styles
 * 
 * Contains all responsive design styles for the OneiroMetrics plugin.
 * Organized by breakpoint:
 * - Tablet: max-width 768px
 * - Mobile: max-width 480px
 * - Small Mobile: max-width 360px
 */

/* Tablet Adjustments */
@media screen and (max-width: var(--oom-breakpoint-tablet)) {
    .oom-table-container {
        width: 100%;
        margin: 0;
        padding: 0;
    }
    
    .oom-table {
        font-size: var(--oom-table-tablet-font-size);
    }
    
    .oom-table th,
    .oom-table td {
        padding: var(--oom-table-tablet-padding);
    }

    .oom-filter-controls {
        flex-direction: column;
        gap: var(--oom-filter-mobile-gap);
    }

    .markdown-preview-view[data-type="oom-project-note"] .oom-filter-controls {
        flex-direction: column;
        gap: var(--oom-filter-mobile-gap);
        margin: var(--oom-filter-mobile-margin);
        padding: var(--oom-filter-mobile-padding);
    }

    .markdown-preview-view[data-type="oom-project-note"] .oom-date-filter,
    .markdown-preview-view[data-type="oom-project-note"] .oom-metric-filter {
        width: 100%;
    }

    .markdown-preview-view[data-type="oom-project-note"] .oom-select {
        width: 100%;
        max-width: none;
    }

    .oom-dream-content {
        min-width: 200px;
        max-width: 300px;
    }

    .oom-filter-controls {
        flex-direction: column;
        align-items: stretch;
    }

    .oom-filter-group {
        flex-direction: column;
        align-items: stretch;
    }

    .oom-select,
    .oom-button {
        width: 100%;
    }

    .oom-date-range-container {
        flex-direction: column;
    }

    .oom-date-input-container {
        min-width: 100%;
    }

    .oom-quick-filters {
        justify-content: stretch;
    }
}

/* Mobile Adjustments */
@media screen and (max-width: var(--oom-breakpoint-mobile)) {
    /* Container adjustments */
    .oom-table-container {
        margin: 0 -1em;
        padding: 0 0.5em;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }

    /* Table structure */
    .oom-table {
        display: block;
        width: 100%;
        font-size: var(--oom-table-mobile-font-size);
    }

    /* Filter controls */
    .oom-filter-controls {
        margin: var(--oom-filter-mobile-margin);
        padding: var(--oom-filter-mobile-padding);
    }

    .oom-date-filter,
    .oom-metric-filter {
        width: 100%;
    }

    .oom-select {
        width: 100%;
        max-width: none;
    }

    /* Column adjustments */
    .oom-table th:nth-child(1),
    .oom-table td:nth-child(1) {  /* Date */
        min-width: var(--oom-column-date-mobile-min-width);
    }

    .oom-table th:nth-child(2),
    .oom-table td:nth-child(2) {  /* Dream Title */
        min-width: var(--oom-column-title-mobile-min-width);
    }

    .oom-table th:nth-child(3),
    .oom-table td:nth-child(3) {  /* Words */
        min-width: var(--oom-column-words-mobile-min-width);
    }

    .oom-table th:nth-child(4),
    .oom-table td:nth-child(4) {  /* Content */
        min-width: var(--oom-column-content-mobile-min-width);
    }

    .oom-table th:nth-child(n+5),
    .oom-table td:nth-child(n+5) {  /* Metrics */
        min-width: var(--oom-column-metric-mobile-min-width);
    }

    /* Content handling */
    .oom-content-preview,
    .oom-content-full {
        font-size: var(--oom-content-mobile-font-size);
        line-height: var(--oom-content-mobile-line-height);
    }
}

/* Small Mobile Adjustments */
@media screen and (max-width: var(--oom-breakpoint-small-mobile)) {
    .oom-table-container {
        margin: 0 -0.5em;
        padding: 0 0.25em;
    }

    .oom-table {
        font-size: var(--oom-table-mobile-font-size);
    }

    /* Minimal padding for very small screens */
    .oom-table th,
    .oom-table td {
        padding: var(--oom-table-mobile-padding);
    }

    /* Optimize filter controls */
    .oom-filter-controls {
        padding: var(--oom-filter-mobile-padding);
    }

    .oom-select {
        padding: 2px 4px;
        font-size: 0.9em;
    }
}

/* Touch-specific optimizations */
@media (hover: none) and (pointer: coarse) {
    .oom-select {
        min-height: var(--oom-touch-target-size);
    }

    /* Better touch scrolling */
    .oom-table-container {
        -webkit-overflow-scrolling: touch;
        scroll-behavior: smooth;
    }

    /* Prevent text selection while scrolling */
    .oom-table {
        user-select: none;
    }
}

/* Large Screen Adjustments */
@media (max-width: var(--oom-breakpoint-large)) {
    .oom-metrics-modal, 
    .oom-callout-modal {
        max-width: 99vw;
        width: 99vw;
        min-width: 0;
        padding: 1em;
    }
}

/* Mobile Optimization */
@media (max-width: var(--oom-breakpoint-mobile)) {
    .oneirometrics-time-filter-buttons {
        grid-template-columns: repeat(2, 1fr);
    }

    .oneirometrics-date-range-details {
        flex-direction: column;
        gap: 0.5rem;
    }

    .oneirometrics-calendar-day {
        font-size: 0.8rem;
    }
} 